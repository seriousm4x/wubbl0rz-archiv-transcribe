WEBVTT

00:37.300 --> 01:52.620
so leute auf geht's da bin ich wir werden heute unser cloud native game etwas absteppen

01:52.620 --> 02:06.160
alles klar soweit ja weil server von hand anklicken ist out in der heutigen zeit geht

02:06.160 --> 02:14.160
das alles automatisiert niemand klickt mehr server von hand an geschweige denn

02:14.160 --> 02:18.300
fast server noch von hand an das hört sich jetzt zwar ein wenig gut technisch an aber

02:18.300 --> 02:24.240
wisst was ich meine und ich habe schon mal was mit terraform gemacht von der ganzen weile bzw

02:24.240 --> 02:29.760
auf der arbeit ab und zu ein paar sachen eingetragen und so grob habe ich das alles

02:29.760 --> 02:35.260
schon mal gesehen aber so wirklich von grund auf da mal irgendwas eingerichtet also quasi

02:35.260 --> 02:41.520
wenn es noch gar nichts gibt habe ich noch nicht ich dachte mir das wird mal zeit da

02:41.520 --> 02:43.400
sich jetzt ein bisschen mit auseinanderzusetzen und

02:44.160 --> 02:51.120
wir machen das in der hessener cloud demnächst hoffe ich startet auch noch eine weitere

02:51.120 --> 02:56.780
kooperation mit hessener gucken wir uns noch ein bisschen mehr an und ich kriege vielleicht auch

02:56.780 --> 03:01.600
wieder einen gutscheincode weil der aktuelle hessener gutscheincode den es hier bei mir im

03:01.600 --> 03:06.840
chat gibt da ist ja outdated overrated debated den gibt es ja nicht mehr vielleicht kriegen

03:06.840 --> 03:12.780
wir das irgendwie hin ja nick dankeschön für den sub übrigens leute wer von euch ist hans feldt

03:14.160 --> 03:18.100
da steckt ihr das gesagt wer zeichnet dieosi vol1 hat indiciert hat ihn darinto

03:18.100 --> 03:19.000
an".

03:19.000 --> 03:27.010
derjenige der es geschrieben hat weiß genau wer es ist, ja wer ist hans feld chat wer

03:27.010 --> 03:29.110
von euch ist hans feld.

03:29.110 --> 03:31.430
Ist hans feld schon da.

03:31.430 --> 03:36.730
ich habe nämlich eine mail von hans feld heute morgen zufällig gesehen in meinem

03:36.730 --> 03:41.150
e mail postfach und das ist so offensichtlich hat gbait.

03:41.150 --> 03:44.070
äh zeige ich euch mal so offensichtlich hat gbait.

03:44.070 --> 03:45.170
wer von euch.

03:45.170 --> 03:46.450
Wer von euch ist das?

03:52.940 --> 03:53.540
Achtung.

03:57.240 --> 03:59.180
Wer von euch ist Hans Feld?

04:04.150 --> 04:04.870
Passt auf.

04:05.790 --> 04:05.990
Ja.

04:08.380 --> 04:09.980
Die E-Mail habe ich heute gekriegt.

04:10.600 --> 04:12.720
Und das ist so offensichtlicher Fake.

04:12.840 --> 04:14.420
Wer von euch

04:14.420 --> 04:15.440
wollte mich

04:15.440 --> 04:16.380
jibben?

04:20.380 --> 04:25.420
Wer will mich jibben, Alter?

04:33.770 --> 04:34.550
Fake News.

04:35.870 --> 04:37.150
Und das Beste ist,

04:37.150 --> 04:39.170
ich werde

04:39.170 --> 04:41.450
meinen Anwalt

04:41.450 --> 04:43.490
einschalten wegen meinem Windows 10

04:43.490 --> 04:43.990
Video.

04:45.850 --> 04:47.490
Wem war es

04:47.490 --> 04:49.490
heute von euch heute Morgen langweilig?

04:49.610 --> 04:50.510
Gebt es zu, Leute.

04:52.050 --> 04:52.170
Also,

04:53.590 --> 04:55.310
das nehme doch nicht mal ich

04:55.310 --> 04:55.970
ernst.

04:57.770 --> 04:58.390
Das ist einfach nur

04:58.390 --> 04:59.590
Hanna G. Bate.

05:00.750 --> 05:01.770
Hans Feld

05:01.770 --> 05:03.930
hat geschrieben.

05:04.450 --> 05:24.030
So.

05:26.920 --> 05:28.380
Wer hat sich denn sonst noch

05:28.380 --> 05:28.960
gemeldet?

05:31.600 --> 05:33.260
Rise of Kingdoms.

05:33.420 --> 05:34.500
Das klingt nach einem billigen.

05:34.680 --> 05:35.620
Das ist bestimmt Chainlord.

05:36.140 --> 05:38.520
Das ist bestimmt Chainlord.

05:38.620 --> 05:39.320
Ja, das passt.

05:40.000 --> 05:41.100
Immer noch auf Jobsuche.

05:41.260 --> 05:43.280
Ja, es wird auch nicht sich so schnell ändern.

05:44.520 --> 05:45.700
Ich werde ja auch nicht jetzt sagen,

05:45.840 --> 05:48.100
okay, das Erste, was es hier gibt,

05:48.180 --> 05:48.880
mache ich oder so.

05:49.040 --> 05:50.420
Ich bin immer noch auf der Suche.

05:52.160 --> 05:52.600
Ähm.

05:54.720 --> 05:55.880
Was ist Rise of Kingdom?

05:55.880 --> 05:58.880
Das ist bestimmt China-Chinesen-Mobile.

06:00.140 --> 06:01.220
Crap-Game, oder?

06:01.540 --> 06:02.520
Die wollen irgendwas

06:02.520 --> 06:04.480
Video-Integration haben.

06:10.700 --> 06:11.180
Moment.

06:11.820 --> 06:12.160
Was?

06:13.480 --> 06:15.740
Okay, das ist die falscheste Schreibweise

06:15.740 --> 06:17.380
von Ägypten, die ich je gesehen habe,

06:17.440 --> 06:17.840
hier drinnen.

06:18.940 --> 06:20.920
Ach so, der hat einfach Z und Y verwechselt.

06:21.020 --> 06:21.860
Ja, dann geht's ja eigentlich.

06:23.260 --> 06:25.700
Also, die Sponsoring-Anfragen sind wieder ganz grausam.

06:26.120 --> 06:26.940
Irgendwelche komischen

06:26.940 --> 06:29.800
Mobile-Games, World of Warships

06:29.800 --> 06:30.820
ist auch wieder am Start.

06:37.160 --> 06:38.500
Weitere China-Chinesen-Sachen.

06:39.160 --> 06:44.660
Alles, alles, Mist.

06:45.600 --> 06:47.060
Ja, so ungefähr, so ungefähr.

06:47.500 --> 06:49.360
Welches Gui benutzt du in Arch-Stilungs?

06:49.460 --> 06:49.820
I3.

06:50.400 --> 06:51.260
Arch, by the way.

06:52.040 --> 06:52.760
Das ist I3.

06:53.980 --> 06:55.040
Ne, nicht G-Bated.

06:55.400 --> 06:56.840
Das ist wirklich, das ist wirklich I3.

06:58.540 --> 06:59.760
Ja, I3.

07:02.020 --> 07:02.500
Ähm.

07:03.260 --> 07:03.580
Und.

07:04.540 --> 07:05.800
Ja gut, die Anwendung sieht man ja.

07:06.280 --> 07:06.960
Das ist noch nicht mal,

07:06.960 --> 07:08.320
das ist noch nicht mal richtiges Arch.

07:08.320 --> 07:09.660
Das stimmt, das ist nur Manjaro.

07:10.280 --> 07:12.500
Man darf ja, habe ich gehört, man darf als Manjaro,

07:12.580 --> 07:14.120
User nicht sagen Arch, by the way.

07:14.220 --> 07:16.640
Das ist quasi Gotteslästerung.

07:17.920 --> 07:18.900
Ja, richtig, richtig.

07:19.180 --> 07:20.320
Das Einzige, was geht.

07:21.020 --> 07:21.980
Alles andere sind Noobs.

07:22.540 --> 07:24.060
Warum nicht Wayland?

07:24.640 --> 07:25.920
Beziehungsweise, warum nicht Swayland?

07:26.020 --> 07:26.620
Das ist ganz einfach.

07:27.100 --> 07:29.520
Weil es läuft wie Shit.

07:30.760 --> 07:32.920
Weil es überhaupt nicht richtig läuft in der VM.

07:34.020 --> 07:35.320
Und überhaupt nicht richtig

07:35.320 --> 07:36.460
ist nicht etwa so.

07:37.460 --> 07:38.660
Es gibt Probleme,

07:38.660 --> 07:41.320
wenn man genau hinguckt.

07:41.420 --> 07:42.080
Nein, nein, nein, nein.

07:42.520 --> 07:44.080
Der Screen Refresht nicht.

07:46.180 --> 07:46.680
Also ein.

07:47.780 --> 07:49.980
Ein Desktop, der also beziehungsweise ein

07:50.980 --> 07:53.460
Window Manager, wo sich der Desktop nicht neu,

07:53.460 --> 07:56.660
also dass der Inhalt des Fensters nicht neu aufbaut,

07:57.020 --> 07:58.380
ist ziemlich unsinnig, weil.

08:01.170 --> 08:02.430
Du bewegst die Maus und siehst nicht,

08:02.430 --> 08:03.310
dass die Maus sich bewegt,

08:03.310 --> 08:05.410
weil der Inhalt des Bildschirms Refresht sich nicht.

08:05.810 --> 08:07.410
Der Inhalt des Bildschirms Refresht sich nur,

08:07.410 --> 08:09.030
wenn ich die Konsole switche und zurück.

08:09.630 --> 08:10.330
Also ist bescheuert.

08:10.330 --> 08:12.430
Das kann man mit irgendeiner Environment Variable.

08:13.470 --> 08:13.970
Umgehen.

08:14.030 --> 08:16.030
Danach gibt es aber andere Probleme.

08:16.030 --> 08:18.030
Wir haben es ausprobiert im Stream.

08:18.030 --> 08:20.030
Das war komplett unusable.

08:20.030 --> 08:20.530
Wir haben es.

08:20.530 --> 08:23.030
Also man kann das mit irgendeiner Variable konnte man setzen,

08:23.030 --> 08:25.030
aber dann ging das nächste nicht richtig.

08:25.030 --> 08:26.030
Copy Paste geht nicht.

08:26.030 --> 08:29.030
Copy Paste in der VM geht nicht richtig mit Sway und Wayland.

08:29.030 --> 08:31.030
Also das ist halt.

08:31.030 --> 08:32.030
Das ist halt Fail.

08:32.030 --> 08:38.030
Und ich behaupte mal Desktop Virtualisierung hier in Form von irgendwie irgendwie eine VM.

08:38.030 --> 08:42.030
So wenig verbreitet ist es jetzt auch wiederum nicht,

08:42.030 --> 08:44.030
als dass man das komplett verlässt.

08:44.030 --> 08:45.030
Und nachlässigen kann.

08:45.030 --> 08:47.030
Und bis das bis das eingebaut ist,

08:47.030 --> 08:50.030
fällt bei mir Sway und Wayland flach.

08:50.030 --> 08:53.030
Das liegt an der Kombination.

08:53.030 --> 08:56.030
Das liegt an der Kombination von Wayland und den VMs.

08:56.030 --> 08:57.030
Ich bin mir sicher,

08:57.030 --> 08:59.030
die könnten sich drei Jahre.

08:59.030 --> 09:00.030
Das ist ja in der Linux.

09:00.030 --> 09:01.030
Das ist ja eine Linux Welt gang und gäbe.

09:01.030 --> 09:03.030
Die könnten sich sicherlich drei Jahre drüber streiten,

09:03.030 --> 09:05.030
wer jetzt genau dran schuld ist.

09:05.030 --> 09:07.030
Das ist mir aber als User vollkommen egal.

09:07.030 --> 09:08.030
Das ist ähnlich,

09:08.030 --> 09:10.030
wie sich Grafikkartenhersteller,

09:10.030 --> 09:12.030
Mesa Treiber Entwickler,

09:12.030 --> 09:13.030
Browser Hersteller,

09:13.030 --> 09:17.030
Desktop Entwickler jahrelang unter Linux gestritten haben.

09:17.030 --> 09:21.030
Was was zeigst du euch einfach.

09:21.030 --> 09:24.030
Was Video,

09:24.030 --> 09:26.030
also was GPU Decoding angeht.

09:26.030 --> 09:28.030
Guck unter Windows.

09:28.030 --> 09:31.030
Unter Windows braucht der Browser hier.

09:31.030 --> 09:33.030
Wo steht der Krempel jetzt?

09:33.030 --> 09:38.030
Der Browser braucht halt nicht wirklich viel.

09:38.030 --> 09:39.030
Und die CPU,

09:39.030 --> 09:42.030
die GPU decodet den größten Teil.

09:42.030 --> 09:45.030
Vom Video.

09:45.030 --> 09:51.620
Und das Ganze selbst in 1044p.

09:51.620 --> 09:53.620
Das juckt ihn überhaupt nicht.

09:53.620 --> 09:54.620
So.

09:54.620 --> 09:58.620
Und das Video wird halt GPU decodet.

09:58.620 --> 10:01.620
Guck ich hab 9% von dem Video

10:01.620 --> 10:03.620
und der Rest macht die GPU.

10:03.620 --> 10:05.620
Und das ist halt unter Linux nicht.

10:05.620 --> 10:07.620
Unter Linux hast du bei so einem 1080,

10:07.620 --> 10:09.620
1080 oder 440p Video,

10:09.620 --> 10:12.620
hast du einfach 100% CPU Last,

10:12.620 --> 10:13.620
weil das alles in der,

10:13.620 --> 10:15.620
alles über die CPU geht.

10:15.620 --> 10:17.620
Mittlerweile ist es besser.

10:17.620 --> 10:18.620
Ich kann es euch zeigen.

10:18.620 --> 10:19.620
Guckt hier.

10:19.620 --> 10:21.620
Oder die coolen Leute hab ich ja gehört.

10:21.620 --> 10:23.620
Die coolen Leute verwenden B-Top jetzt.

10:23.620 --> 10:24.620
Ja B-Top.

10:24.620 --> 10:30.920
Okay viel viel viel nicer.

10:30.920 --> 10:33.920
Muss ich mir Werbung angucken vor meinem eigenen Video,

10:33.920 --> 10:38.600
alter.

10:38.600 --> 10:39.600
Noch mehr Werbung.

10:39.600 --> 10:42.600
Rotkäppchens nach der Chöre.

10:42.600 --> 10:43.600
Ja genau.

10:43.600 --> 10:44.600
Da hab ich jetzt,

10:44.600 --> 10:46.600
da hab ich komplett drauf gewartet jetzt,

10:46.600 --> 10:47.600
dass ich das,

10:47.600 --> 10:49.600
das wollte ich sehen.

10:49.600 --> 10:54.230
So auf kann jetzt mein Video mal losgehen.

10:54.230 --> 10:56.230
So guckt.

10:56.230 --> 10:57.230
Bam.

10:57.230 --> 10:58.230
1044p.

10:58.230 --> 11:01.230
Einfach mal massive CPU.

11:01.230 --> 11:02.230
Okay die Anzeige ist,

11:02.230 --> 11:04.230
ja mal hardcore pepega.

11:04.230 --> 11:06.230
Die stimmt überhaupt nicht.

11:06.230 --> 11:08.230
Okay so.

11:08.230 --> 11:10.230
Guckt es euch hier an.

11:10.230 --> 11:15.010
Brutalste CPU Last.

11:15.010 --> 11:17.010
So.

11:17.010 --> 11:19.010
Also das ist halt Müll.

11:19.010 --> 11:22.010
Und mittlerweile geht das unter Linux halbwegs.

11:22.010 --> 11:24.010
Mittlerweile geht das unter Linux halbwegs.

11:24.010 --> 11:27.010
Mit GPU Beschleunigung.

11:27.010 --> 11:28.010
Allerdings auch nicht für alle Codexen,

11:28.010 --> 11:30.010
die Grafikkarten unterstützen.

11:30.010 --> 11:34.010
Und ja es müssen so ein bisschen die Sterne im richtigen Winkel stehen,

11:34.010 --> 11:36.010
dass das klappt.

11:36.010 --> 11:39.010
Stripes Dankeschön für den Sub.

11:39.010 --> 11:41.010
Leon danke für den Sub.

11:41.010 --> 11:45.880
Passt mal auf,

11:45.880 --> 11:47.880
wenn ihr denkt B-Top sieht fancy aus.

11:47.880 --> 11:49.880
B-Top kann auch viel viel krasser aussehen.

11:49.880 --> 11:51.880
Äh.

11:51.880 --> 11:52.880
B-Top.

11:52.880 --> 11:53.880
Kann auch viel krasser aussehen.

11:53.880 --> 11:54.880
Guckt mal,

11:54.880 --> 11:55.880
man kann hier das Menü aufmachen.

11:55.880 --> 11:56.880
Und das sieht,

11:56.880 --> 11:58.880
jetzt sieht das aus,

11:58.880 --> 12:01.880
jetzt sieht das aus wie ein DOS Game oder so.

12:01.880 --> 12:03.880
Von 1995.

12:03.880 --> 12:09.690
Presets kann man durchschalten.

12:09.690 --> 12:10.690
Guckt da kann man sogar die,

12:10.690 --> 12:11.690
die, die,

12:11.690 --> 12:12.690
Leute!

12:12.690 --> 12:13.690
Fuck!

12:13.690 --> 12:17.090
IP-Leak!

12:17.090 --> 12:18.090
Was mach ich denn jetzt?

12:18.090 --> 12:23.350
Schon,

12:23.350 --> 12:24.350
schon drin?

12:24.350 --> 12:26.350
Chat?

12:26.350 --> 12:27.350
Schon,

12:27.350 --> 12:28.350
schon eingeloggt?

12:28.350 --> 12:33.260
Jetzt ist eh zu spät.

12:33.260 --> 12:34.260
IP-Leaked.

12:34.260 --> 12:35.260
Fuck.

12:35.260 --> 12:38.260
Dass ich immer die IPs leaken muss hier.

12:38.260 --> 12:40.760
Ja.

12:40.760 --> 12:41.760
Login Host.

12:41.760 --> 12:42.760
Auf geht's.

12:42.760 --> 13:14.000
Ja.

13:14.000 --> 13:15.000
Gut.

13:15.000 --> 13:16.000
Sag mal,

13:16.000 --> 13:17.000
sag wenn du drinne bist.

13:17.000 --> 13:18.000
Ok.

13:18.000 --> 13:19.000
Sag,

13:19.000 --> 13:20.000
sag Bescheid.

13:20.000 --> 13:21.000
Sag Bescheid.

13:21.000 --> 13:23.960
Dann schalte ich die VM aus.

13:23.960 --> 13:24.960
Also Terraform.

13:24.960 --> 13:25.960
Ja.

13:25.960 --> 13:26.960
Was machen wir heute?

13:26.960 --> 13:27.960
Also ich hab mir folgendes überlegt.

13:27.960 --> 13:28.960
Ähm.

13:28.960 --> 13:29.960
Ich hab,

13:29.960 --> 13:30.960
ich hab,

13:30.960 --> 13:31.960
ich zeig jetzt erst mal kurz was das ist.

13:31.960 --> 13:34.960
Also Terraform ist ein Cloud Provisioning Tool.

13:34.960 --> 13:35.960
Oder was sagen die denn selbst,

13:35.960 --> 13:36.960
was sie sind?

13:36.960 --> 13:37.960
Sekunde.

13:37.960 --> 13:38.960
Erstmal hier Dark wieder ausmachen.

13:38.960 --> 13:39.960
Flashbang raus.

13:39.960 --> 13:40.960
Also.

13:40.960 --> 13:41.960
Wie sagen sie denn?

13:41.960 --> 13:42.960
Wie sagen sie denn?

13:42.960 --> 13:43.960
Automatisiert,

13:43.960 --> 13:45.960
Automatisierungstool für Cloud Infrastruktur.

13:45.960 --> 13:47.960
Also im Prinzip ist das das,

13:47.960 --> 13:50.960
was man beispielsweise von Hand klickt.

13:50.960 --> 13:51.960
Bei einem Cloud Anbieter,

13:51.960 --> 13:52.960
sei es jetzt bei Hetzner,

13:52.960 --> 13:53.960
sei es jetzt bei Amazon,

13:53.960 --> 13:55.960
sei es jetzt bei Azure oder Google oder sonst wo.

13:55.960 --> 13:56.960
Ja.

13:56.960 --> 13:57.960
Da kann man Server hinzufügen,

13:57.960 --> 13:59.960
verschiedene Optionen anklicken,

13:59.960 --> 14:00.960
Loadbalancer erstellen,

14:00.960 --> 14:03.960
Firewall Regeln erstellen und alle möglichen Dinger.

14:03.960 --> 14:05.960
Das macht man halt normalerweise im Web Interface.

14:05.960 --> 14:07.960
Oder aber,

14:07.960 --> 14:10.960
man ist schon etwas advancer und benutzt Tools zum Beispiel,

14:10.960 --> 14:13.960
wie das Hetzner Cloud CLI.

14:13.960 --> 14:17.960
Aber das ist natürlich nicht so geil,

14:17.960 --> 14:19.960
wenn man das öfters machen muss.

14:19.960 --> 14:20.960
Und es ist auch nicht so geil,

14:20.960 --> 14:25.960
wenn man regelmäßig neue Infrastruktur hinstellen muss.

14:25.960 --> 14:26.960
Oder aber,

14:26.960 --> 14:28.960
wenn man zum Beispiel Sachen macht,

14:28.960 --> 14:31.960
wie rollierendes oder wie nennt man das?

14:31.960 --> 14:32.960
Rolling.

14:32.960 --> 14:33.960
Wie heißt,

14:33.960 --> 14:34.960
wie nennt man das auf Deutsch?

14:34.960 --> 14:35.960
So Rolling Deployments.

14:35.960 --> 14:37.960
Wie nennt man das auf Deutsch?

14:37.960 --> 14:39.960
Rollierendes Deployment?

14:39.960 --> 14:41.960
Klingt auf Deutsch irgendwie bescheuert.

14:41.960 --> 14:43.960
Also wenn man zum Beispiel,

14:43.960 --> 14:44.960
drei,

14:44.960 --> 14:46.960
fortlaufendes Deployment.

14:46.960 --> 14:47.960
Ne,

14:47.960 --> 14:52.960
fortlaufendes Deployment ist eher die Geschichte von Continuous Integration und Continuous Delivery.

14:52.960 --> 14:54.960
Das ist ja damit nicht gemeint.

14:54.960 --> 14:56.960
Das ist ja damit nicht gemeint.

14:56.960 --> 14:58.960
Was ich meine ist folgendes.

14:58.960 --> 14:59.960
Ne,

14:59.960 --> 15:02.960
Hetzner Sponsoring ist aber gerade wieder in der Mache.

15:02.960 --> 15:03.960
Ja.

15:03.960 --> 15:04.960
Also zum Beispiel,

15:04.960 --> 15:05.960
du hast hier,

15:05.960 --> 15:06.960
Leute,

15:06.960 --> 15:08.960
warum mache ich das eigentlich mit Paint?

15:08.960 --> 15:10.960
Draw.io.

15:10.960 --> 15:12.960
Wir machen das einfach damit.

15:12.960 --> 15:16.400
New Diagramm.

15:16.400 --> 15:17.400
Ja,

15:17.400 --> 15:18.400
ja.

15:18.400 --> 15:23.200
Was?

15:23.200 --> 15:24.200
Warte mal.

15:24.200 --> 15:25.200
Konnte man nicht einfach irgendwie,

15:25.200 --> 15:28.350
ne,

15:28.350 --> 15:29.350
bin verwirrt.

15:29.350 --> 15:30.350
Ging das nicht Local Storage?

15:30.350 --> 15:33.490
Ach,

15:33.490 --> 15:34.490
die Site Later muss man machen.

15:34.490 --> 15:35.490
Na,

15:35.490 --> 15:36.490
bescheuert.

15:36.490 --> 15:37.490
Also,

15:37.490 --> 15:38.490
ähm,

15:38.490 --> 15:39.490
haben die,

15:39.490 --> 15:40.490
haben die hier ein Load Balancer?

15:40.490 --> 15:41.490
Bild wie?

15:41.490 --> 15:42.490
Balancer?

15:42.490 --> 15:43.490
Gibt's nicht als Bild?

15:43.490 --> 15:44.490
Na gut.

15:44.490 --> 15:45.490
Doch,

15:45.490 --> 15:46.490
sowas haben die.

15:46.490 --> 15:47.490
Also,

15:47.490 --> 15:49.490
der Load Balancer,

15:49.490 --> 15:50.490
ich,

15:50.490 --> 15:51.490
ich versuch euch das mal anzumalen.

15:51.490 --> 15:52.490
So,

15:52.490 --> 15:53.490
der Load Balancer hat irgendeine Public IP,

15:53.490 --> 15:54.490
ja?

15:54.490 --> 15:55.490
Äh,

15:55.490 --> 15:56.490
Public IP 8.8.1.1.

15:56.490 --> 15:57.490
Ich glaub,

15:57.490 --> 15:58.490
das ist der zweite.

15:58.490 --> 15:59.490
Ist das nicht der Google Backup DNS?

15:59.490 --> 16:00.490
Ups.

16:00.490 --> 16:02.930
Keine Ahnung.

16:02.930 --> 16:03.930
Blub,

16:03.930 --> 16:04.930
blub,

16:04.930 --> 16:05.930
blub,

16:05.930 --> 16:06.930
blub.

16:06.930 --> 16:07.930
So,

16:07.930 --> 16:08.930
das ist meine Public IP.

16:08.930 --> 16:09.930
Und,

16:09.930 --> 16:14.820
jetzt hat man da drei Server dahinter stehen.

16:14.820 --> 16:16.820
Es müssen ja nicht zwangsläufig drei sein.

16:16.820 --> 16:18.820
Man kann das ja auch so skalieren,

16:18.820 --> 16:19.820
aber ich mal das jetzt einfach mal so als,

16:19.820 --> 16:20.820
als drei,

16:20.820 --> 16:21.820
drei Server.

16:21.820 --> 16:22.820
Kann man die nicht zusammen,

16:22.820 --> 16:23.820
irgendwie?

16:23.820 --> 16:24.820
Ich bin kein Draw IO Bro,

16:24.820 --> 16:25.820
seh ich grade.

16:25.820 --> 16:26.820
So,

16:26.820 --> 16:27.820
also,

16:27.820 --> 16:31.800
du hast hier drei Server,

16:31.800 --> 16:32.800
und auf die Load Balancestour.

16:32.800 --> 16:33.800
Wie verbindet man den Kram?

16:33.800 --> 16:34.800
So.

16:34.800 --> 16:35.800
So.

16:35.800 --> 16:36.800
Ähm,

16:36.800 --> 16:37.800
jetzt ist die Sache,

16:37.800 --> 16:40.940
jetzt ist die Sache folgendes.

16:40.940 --> 16:41.940
Stimmt,

16:41.940 --> 16:47.580
wem gehört eigentlich 69,

16:47.580 --> 16:48.580
69,

16:48.580 --> 16:49.580
69,

16:49.580 --> 16:51.960
69,

16:51.960 --> 16:52.960
69,

16:52.960 --> 16:53.960
69,

16:53.960 --> 16:54.960
69,

16:54.960 --> 16:55.960
69,

16:55.960 --> 16:56.960
69,

16:56.960 --> 16:57.960
69,

16:57.960 --> 16:58.960
69,

16:58.960 --> 16:59.960
69,

16:59.960 --> 17:00.960
69,

17:00.960 --> 17:01.960
69,

17:01.960 --> 17:02.960
69,

17:02.960 --> 17:03.960
69,

17:03.960 --> 17:04.960
69,

17:04.960 --> 17:05.960
69,

17:05.960 --> 17:06.960
69,

17:06.960 --> 17:07.960
69,

17:07.960 --> 17:08.960
69,

17:08.960 --> 17:09.960
69,

17:09.960 --> 17:10.960
69,

17:10.960 --> 17:11.960
69,

17:11.960 --> 17:12.960
69,

17:12.960 --> 17:13.960
69,

17:13.960 --> 17:14.960
69,

17:14.960 --> 17:15.960
69,

17:15.960 --> 17:16.960
69,

17:16.960 --> 17:17.960
69,

17:17.960 --> 17:18.960
69,

17:18.960 --> 17:19.960
69,

17:19.960 --> 17:20.960
69,

17:20.960 --> 17:21.960
69,

17:21.960 --> 17:22.960
69,

17:22.960 --> 17:23.960
69,

17:23.960 --> 17:24.960
69,

17:24.960 --> 17:34.440
69,

17:34.440 --> 17:35.440
69,

17:35.440 --> 17:39.350
69,

17:39.350 --> 17:40.350
69,

17:40.350 --> 17:41.350
69,

17:41.350 --> 17:44.750
Und du scheinst zu wissen, wer Hans Feld ist.

17:55.130 --> 17:59.250
Das wusste J-Law, die Mail passt einfach zu gut.

18:00.410 --> 18:02.150
Genau, er hat nicht gefragt, wer das ist.

18:02.650 --> 18:03.810
Erwischt, erwischt.

18:06.390 --> 18:09.070
Okay, J-Law, ich zeige dir, wer Hans Feld ist.

18:12.260 --> 18:15.180
Hans Feld hat mir eine E-Mail geschrieben zu meinem Windows-Video.

18:16.000 --> 18:18.780
Und ich will jetzt gerade rauskriegen, wer das vom Chat gewesen ist,

18:18.780 --> 18:20.920
weil diese Mail ist so offensichtlich, J-Bait.

18:20.920 --> 18:23.660
Also Hans Feld schreibt zu meinem Windows-Video,

18:24.100 --> 18:28.220
Sorry, aber muss das sein, dass hier ein Teenie Bullshit erzählt?

18:29.000 --> 18:32.780
Der hat keine Ahnung, was er da rauslässt und sagt auch Sachen, die so nicht stimmen.

18:33.520 --> 18:35.640
Nachweislich sagt er somit Fake News.

18:37.380 --> 18:37.800
Du hast...

18:37.800 --> 18:40.360
Sag mal, J-Law, wo bist du nicht gebannt?

18:41.600 --> 18:43.980
Okay, bei mir auf dem Discord noch nicht anscheinend.

18:46.180 --> 18:47.360
So, ähm...

18:48.820 --> 18:50.900
Und ich werde hier mit meinem Anwalt klären,

18:51.020 --> 18:52.340
sollte das Video nicht...

18:52.340 --> 18:56.720
Anzeige zu erstatten wegen Verbreitung falscher Tatsachen.

18:59.630 --> 19:03.490
Also J-Law, der war es wirklich nicht, dem glaube ich das, weil...

19:04.830 --> 19:09.310
Der würde garantiert zugeben, wenn man ihn erwischt hätte,

19:09.730 --> 19:11.770
beziehungsweise wenn er das wäre,

19:12.170 --> 19:15.570
weil dann würde er sich abfeiern im Chat, dass er mich geil gerollt hat.

19:16.550 --> 19:21.320
Aber die Mail ist so hardcore J-Bait,

19:21.840 --> 19:24.760
das muss einer aus dem Chat sein, anders kann ich es mir nicht erklären.

19:26.180 --> 19:30.140
So, also jetzt kommen wir mal zurück, was wir heute mit Terraform machen.

19:30.280 --> 19:36.880
Also, Loadbalancer am Eingang und dahinter drei Application-Server mit Software-Version 1.

19:37.380 --> 19:42.680
So, und jetzt habe ich was programmiert und es gibt jetzt Software-Version 2.

19:43.840 --> 19:44.660
Jetzt ist die Sache.

19:45.360 --> 19:47.680
Mal angenommen, ich schalte hier jetzt ein...

19:47.680 --> 19:49.220
Was will das Ding von mir?

19:49.700 --> 19:51.360
Nein, ich will die 1...

19:51.360 --> 19:59.780
So.

19:59.780 --> 19:59.860
So.

20:01.840 --> 20:02.460
Benutzen wir...

20:02.460 --> 20:04.060
Benutzen wir der KQES-Service.

20:04.260 --> 20:08.400
Also, theoretisch könnte ich jetzt einfach die Software-Version 1 hier abschalten,

20:09.000 --> 20:11.940
Version 2 draufschieben und Version 2 starten.

20:12.880 --> 20:13.060
So.

20:13.580 --> 20:21.060
Das Problem ist aber, dass in dieser Zeit, wo Version 1 down ist, bis Version 2 up ist,

20:21.580 --> 20:24.560
je nachdem, wie gut ich das hier mit meinem Loadbalancer manage,

20:24.560 --> 20:30.740
wenn hier ein User ankommt und der Loadbalancer Loadbalancen zufälligerweise

20:30.740 --> 20:31.560
noch auf...

20:32.460 --> 20:37.220
auf diesen Server hier unten, dann kriegt er einen Fehler, weil das läuft ja gerade

20:37.220 --> 20:38.040
nicht auf dem Server.

20:40.750 --> 20:41.430
So, das kann man...

20:41.430 --> 20:43.330
Das kann man auf verschiedene Arten regeln.

20:44.670 --> 20:53.370
Zum Beispiel kann man einen Health-Check machen vom Loadbalancer an den Server und

20:53.370 --> 20:56.670
der Loadbalancer guckt regelmäßig nach, ob der Server noch lebt.

20:56.670 --> 21:02.050
Das macht der Loadbalancer eh, weil er muss ja Anfragen hinschicken und wenn die abkacken,

21:02.170 --> 21:03.030
dann weiß er es.

21:03.130 --> 21:03.670
Aber es hat...

21:04.350 --> 21:08.350
seinen Sinn, das kann ich vielleicht an der Stelle auch mal erklären, es hat schon durchaus

21:08.350 --> 21:13.090
seinen Sinn, einen extra Health-Check zu machen auf seinen Backend-Server neben dem normalen

21:13.090 --> 21:19.450
Loadbalancen, weil zum Beispiel, wenn ich jetzt den Service hier runterfahre, beziehungsweise

21:19.450 --> 21:25.270
wenn ich den Service hier runterfahren will, dann kriegt das der Loadbalancer nicht instant

21:25.270 --> 21:28.790
mit und wenn jetzt gerade im falschen Moment, also machen wir mal, ich schalte hier jetzt

21:28.790 --> 21:33.550
den Service ab, im nächsten ist es alles testrelevant hier.

21:34.350 --> 21:38.310
Und ich schalte den Service ab, der Loadbalancer hat es noch nicht mitgekriegt, der braucht

21:38.310 --> 21:42.410
1-2 Sekunden, bis er das mitkriegt, dann schickt er den User hier wieder auf den Server und

21:42.410 --> 21:43.430
hier läuft kein Service mehr.

21:43.810 --> 21:48.910
Deswegen macht man einfach einen Health-Check und ich sag dem Service hier, Web-Server,

21:49.030 --> 21:54.410
fahr dich runter, dann setzt der Web-Server, beziehungsweise meine Backend-Anwendung ist

21:54.410 --> 21:58.070
es, den Health-Check auf 503, war es 503?

22:00.350 --> 22:00.610
Genau.

22:00.610 --> 22:05.610
Dann setzt der beim runterfahren, das Server setzt den Health-Check auf 503.

22:05.730 --> 22:10.270
Das heißt, der Loadbalancer bekommt beim Health-Check mit, aha, Service ist nicht

22:10.270 --> 22:15.090
mehr erreichbar, aber der Server antwortet noch in der Zwischenzeit und erst nach sagen

22:15.090 --> 22:18.490
wir 5 Sekunden, schaltet sich der Service dann wirklich aus.

22:18.490 --> 22:24.070
Das heißt, sobald ich sage, Backend bitte runterfahren, liefert der Health-Check 503

22:24.070 --> 22:28.910
zurück, nach 1-2-3 Sekunden checkt das der Loadbalancer, schickt dementsprechend keinen

22:28.910 --> 22:33.570
neuen User mehr auf meinen Server und dann wartet er 5 Sekunden und fährt sich runter.

22:33.570 --> 22:34.570
So.

22:34.570 --> 22:35.570
Und.

22:35.570 --> 22:41.470
Das kann man alles wunderbar von Hand machen oder man benutzt irgendeine Automatisierungslösung

22:41.470 --> 22:42.470
dafür.

22:42.470 --> 22:48.650
Man kann das in irgendein Config-Management rein prügeln, sei es Ansible oder Puppet oder

22:48.650 --> 22:51.170
man kann das auch mit Terraform machen.

22:51.170 --> 22:55.150
Terraform hat den Charme, ich lass das mal kurz auf, nein, ich will mir nicht mein Video

22:55.150 --> 22:56.150
jetzt angucken.

22:56.150 --> 23:03.350
Terraform hat den Charme, dass es deutlich besser ist, was Infrastruktur, also Infrastruktur-Provisioning

23:03.350 --> 23:05.370
angeht, als jetzt was über Ansible.

23:05.570 --> 23:11.670
Die Tools haben gewisse Überschneidungen, aber sind im Prinzip für unterschiedliche

23:11.670 --> 23:12.670
Sachen gedacht.

23:12.670 --> 23:18.690
Ja, Ansible ist dafür gedacht, dass du Server, die da sind, konfigurierst und Terraform ist

23:18.690 --> 23:24.470
dafür gedacht, dass du Server noch gar nicht hast, sondern anlegen willst mit speziellen

23:24.470 --> 23:25.470
Parametern.

23:25.470 --> 23:30.470
Ja, mit dieser IP, mit diesem Festplattenplatz, mit diesem Netzwerk und sonst wie und also

23:30.470 --> 23:34.470
mit Terraform legst du Server und Infrastruktur an, mit Ansible kannst du es konfigurieren.

23:34.470 --> 23:40.270
Aber, die beiden Tools, Ansible haben wir uns ja auch schon mal zusammen hier angeguckt,

23:40.270 --> 23:49.110
ähm, so, und, nee, nee, Terraform ist deutlich mehr als ein Wrapper, ich mein, unter der Haube

23:49.110 --> 23:53.230
benutzt das bestimmt die Tools von den jeweiligen Herstellern, weil wie sollen sie sich sonst

23:53.230 --> 23:57.430
an der offiziellen API gescheit kommunizieren mit denen, aber, nee, nee, das ist, vor allem

23:57.430 --> 23:58.430
ist das einheitlicher.

23:58.430 --> 24:02.570
So, natürlich kannst du mit Ansible auch Server anlegen.

24:02.570 --> 24:12.140
Und du kannst mit Terraform auch Server konfigurieren, aber das Provisioning ist in Ansible nicht so

24:12.140 --> 24:17.830
schön wie in Terraform und das Konfigurieren ist in Terraform nicht so schön wie in Ansible.

24:17.830 --> 24:27.580
So, und man kann gucken, beispielsweise hier in der Registry von Terraform, ob das unterstützt

24:27.580 --> 24:31.400
ist, was man, was man benutzen will als Cloud Anbieter und wir wollen zum Beispiel Hetzner

24:31.400 --> 24:32.400
verwenden.

24:32.400 --> 24:37.400
Aber Hetzner hat sich ziemlich threeheadig nicht Hetzner genannt.

24:37.400 --> 24:46.020
Bei Terraform, das finde ich nicht so clever, weil die Leute suchen nach Hetzner, aber

24:46.020 --> 24:53.830
nein, man muss eigentlich nach H-Cloud suchen, H-Cloud ist das Richtige.

24:53.830 --> 25:00.090
So, und, also mein Ziel ist halt folgendes, ich werde versuchen sowas hier aufzubauen.

25:00.090 --> 25:09.470
Also, ein Loadbalancer davor mit Zertifikat über Terraform, ja, und das habe ich, wie

25:09.470 --> 25:11.470
gesagt, das habe ich from scratch noch nie gemacht.

25:11.470 --> 25:13.850
Das heißt, es kann auch sein, dass es nicht richtig funktioniert.

25:13.850 --> 25:18.790
Also, Loadbalancer davor, dann eins, zwei, drei, macht letztendlich keinen Unterschied.

25:18.790 --> 25:24.510
Application Server dahinter, Anwendung draufschieben, mal schauen, wie wir das dann machen und dann

25:24.510 --> 25:27.990
einmal gucken, ob wir das irgendwie durchdeployed kriegen, ohne dass was kaputt geht.

25:27.990 --> 25:36.100
Ja, so habe ich mir das gedacht.

25:36.100 --> 25:38.180
So, das machen wir jetzt auch.

25:38.180 --> 25:41.680
Ich habe schon was angelegt und zwar, wir benutzen wieder CAC WSService.

25:41.680 --> 25:43.600
Wer das nicht kennt.

25:43.600 --> 25:52.560
Das ist ein Testprojekt, was wir öfters verwenden, wenn wir irgendwelche Cloud-Geschichten ausprobieren.

25:52.560 --> 26:02.600
Und zwar ist CAC WSService eine ASP.NET Anwendung, die nichts anderes macht, wie ein Bild, ein

26:02.600 --> 26:05.100
CAC W-Bild zu rotaten.

26:05.100 --> 26:08.220
Ich kann euch das mal zeigen, wie das aussieht.

26:08.220 --> 26:10.600
Ich weiß gar nicht, ob man das überhaupt lokal starten kann.

26:10.600 --> 26:11.600
Ach ne, Moment.

26:11.600 --> 26:12.600
CAC WSService.net run.

26:12.600 --> 26:13.600
So.

26:13.600 --> 26:16.620
Hi Happen, Dankeschön für den Sub.

26:16.620 --> 26:17.620
Was?

26:17.620 --> 26:18.620
Oh.

26:18.620 --> 26:19.620
Moment.

26:19.620 --> 26:32.700
Ist CAC WSService etwa noch so alt, dass es nicht .NET 6 fähig ist?

26:32.700 --> 26:39.680
Ab was für Infrastrukturgrößen lohnt sich das?

26:39.680 --> 26:49.710
Ja, hm, da kann man sich, da kann man sich drüber streiten, also ich würde sagen, es

26:49.710 --> 26:52.590
lohnt sich weniger ab Infrastrukturgrößen.

26:52.590 --> 26:59.590
Da wird also, beziehungsweise, da ist es schwierig zu sagen, ab wann sich's lohnt, ja, also was

26:59.590 --> 27:00.590
weiß ich.

27:00.590 --> 27:03.670
Wenn du 20, 30 Kisten hast, finde ich, lohnt sich schon, aber es ist eigentlich viel eher

27:03.670 --> 27:07.190
die Frage, musst du die oft anfassen?

27:07.190 --> 27:16.030
Also sprich, baust du da öfters mal Kisten neu auf oder hast du irgendeine Deployment-Strategie,

27:16.030 --> 27:21.590
die enthält, Kisten neu aufzubauen, weil man muss, das muss ich jetzt an der Stelle auch

27:21.590 --> 27:22.590
sagen.

27:22.590 --> 27:27.590
Also, was man ja auch machen kann, die klassische Variante wäre, ich bin der Admin, gibt es

27:27.590 --> 27:28.590
einen Admin?

27:28.590 --> 27:29.590
Gibt's einen Admin?

27:29.590 --> 27:37.590
Ey, es gibt sogar einen Admin-Icon, ja, Five-Head-Admin, also, was man auch machen könnte, ist, die

27:37.590 --> 27:43.590
klassische Variante wäre, man, guck mal, die haben echt, die haben echt für alles irgendeinen,

27:43.590 --> 27:48.590
oh, Hi-Res, Hi-Res-Build, Secure, ja.

27:48.590 --> 27:51.590
Also, die klassische Variante wäre ja folgendes.

27:51.590 --> 28:01.220
Man baut sich diese Infrastruktur einmal auf und wenn man dann was dran ändern will,

28:01.220 --> 28:07.820
lockt sich der Admin-PSSH da drauf ein, kopiert irgendeine neue Version hin, stoppt die alte,

28:07.820 --> 28:11.280
startet die neue, guckt in der Zwischenzeit im Loadbalancer, dass keine Connections mehr

28:11.280 --> 28:14.980
da sind und dann ist gut.

28:14.980 --> 28:19.220
Aber, es gibt einen Nachteil von dieser ganzen Geschichte.

28:19.220 --> 28:22.520
Also, nicht nur, dass man einen Admin braucht, der ein bisschen weiß, was er macht und da

28:22.520 --> 28:23.120
gibt es...

28:23.220 --> 28:29.420
Irgendwie auch ziemlich viele Three-Head-Leute, aber es gibt einen Vorteil, wirklich die Sache

28:29.420 --> 28:34.820
in Terraform zu machen, also mehrere, beziehungsweise in einem Infrastructure-as-Code-Tool, wie sich

28:34.820 --> 28:36.620
das nennt, weil es gerade jemand im Chat geschrieben hat.

28:36.620 --> 28:44.220
Ein Vorteil ist, du siehst automatisch so grob, wie die Server eingerichtet sind.

28:44.220 --> 28:49.620
Das heißt, es ist weniger die Frage, so nach dem Motto, ja, welche IP haben wir den Dingern

28:49.620 --> 28:50.620
denn gegeben?

28:50.620 --> 28:52.220
Was haben wir da für ein Betriebssystem drauf?

28:52.220 --> 28:53.820
Haben wir das und das Tool installiert?

28:53.820 --> 28:59.620
Du hast dadurch, dass du deine Server-Definition in, es ist kein YAML-File, aber ich sage es

28:59.620 --> 29:03.220
mal, in einen YAML-File schreibst, hast du immer was, wo du nachgucken kannst, so ungefähr

29:03.220 --> 29:04.220
wie deine Server ausschauen.

29:04.220 --> 29:09.120
So, und das Nächste ist, mit der Zeit, und das kennt wahrscheinlich jeder, der so mal

29:09.120 --> 29:13.920
die klassische Turnschuh-Administration noch gemacht hat, also wirklich jede Menge Kisten

29:13.920 --> 29:20.520
noch im Rechenzentrum hatte, sich darum gekümmert hat oder auch jede Menge VM hattest, es gibt

29:20.520 --> 29:22.020
einen riesen Vorteil für mich.

29:22.020 --> 29:25.320
Und ich finde, da wird nicht oft genug herausgestellt.

29:25.320 --> 29:31.120
Und zwar, mit der Zeit sammelt sich auf von Hand administrierten Servern jede Menge Müll

29:31.120 --> 29:32.120
an.

29:32.120 --> 29:38.120
Irgendjemand hat mal Btop nachinstalliert, weil er Btop geil fand, irgendjemand hat mal

29:38.120 --> 29:43.000
Logs gezogen in ein Verzeichnis, irgendjemand hat mal temporär ein Unit-File erstellt mit

29:43.000 --> 29:47.260
irgendeinem Workaround für irgendeinen Service, irgendjemand hat mal temporär eine zweite

29:47.260 --> 29:51.020
Platte eingehängt, weil er irgendwie Backups mal hin und her schieben musste.

29:51.020 --> 29:52.020
Irgendeiner hat...

29:52.020 --> 29:55.020
Ich weiß nicht, ich habe das nun aber nicht gesagt, ich habe vorher ein Problem gemacht,

29:55.020 --> 29:56.020
aber...

29:56.020 --> 30:15.520
Also man hat gewiss auch für die

30:15.520 --> 30:19.120
Server, also für den Webserver, ihr habt...

30:19.120 --> 30:20.120
Das ist...

30:20.120 --> 30:21.120
Das ist...

30:21.120 --> 30:25.800
c engine xd und da kannst du deine einzelnen dateien reinlegen so jetzt

30:25.800 --> 30:29.400
gehen wir mal von aus irgendjemand hat damals eine datei angelegt für ein

30:29.400 --> 30:38.280
wordpress und mittlerweile ist da kein wordpress mehr drauf aber du willst einen

30:38.280 --> 30:43.340
neuen service hinlegen auf dem gleichen port wie damals der wordpress lief

30:43.340 --> 30:48.240
niemand hat diese alte datei gelöscht klar kannst du sagen ja gut der typ halt

30:48.240 --> 30:55.310
damals aufpassen müssen aber man kann es halt prinzipiell umgehen und dann hast

30:55.310 --> 30:59.870
du hast du probleme vielleicht hast du noch überbleibsel von deiner wordpress

30:59.870 --> 31:04.610
config im web im config verzeichnis vom web server liegen obwohl da kein wordpress

31:04.610 --> 31:08.730
mehr drauf ist du machst jetzt eine neue php anwendung drauf und die hat auf

31:08.730 --> 31:12.650
einmal irgendwelche insecure settings von irgendeiner drei jahre alten wordpress

31:12.650 --> 31:19.430
installation oder irgendjemand hat mal ssh keys erlaubt sich einzuloggen und die nie

31:19.430 --> 31:19.550
wieder

31:19.550 --> 31:22.610
gelöscht und du hast mitarbeiter ssh keys drin die seit vier jahren nicht mehr

31:22.610 --> 31:28.670
da sind das kann dir alles passieren so und deswegen finde ich hat terraform

31:28.670 --> 31:31.670
noch eine weitere beziehungsweise solche infrastructure as code tools einen

31:31.670 --> 31:36.770
weiteren riesen vorteil und zwar du kannst deine server wenn du es halbwegs

31:36.770 --> 31:43.550
gescheit machst du kannst deine server wegschmeißen gibt es in hakel es gibt

31:43.550 --> 31:49.430
es gibt keine autoscaling groups es gibt jetzt neuerdings groups für

31:49.430 --> 31:54.830
das verteilen im rechenzentrum dass du nicht auf der gleichen hardware läuft

31:54.830 --> 32:02.270
sowas an die autoscaling groups wie in aws gibt es nicht so und das kannst du

32:02.270 --> 32:04.470
also dass die probleme die ich gerade beschrieben habe die kannst du ganz

32:04.470 --> 32:09.770
einfach lösen indem du deine server regelmäßig wenn

32:09.770 --> 32:14.670
irgendwas ist wegschmeißt und neu aus der konfiguration hinstellst das klingt

32:14.670 --> 32:19.310
natürlich erstmal wahnsinnig aufwendig weil man denkt sich so server wegschmeißen

32:19.310 --> 32:24.770
fans auf convertsnick dann du bist mit dem anger� und wenn dann Hauptsache

32:24.770 --> 32:30.310
selbst investors bei der wahl mit dem cartridges drin sind oder wenn du

32:30.310 --> 32:35.230
gleich malash auchической erregt dann geht einzige andere sache der

32:35.230 --> 32:39.930
konzeption ist also du musst dann Konflikte stellen du musst den neuen

32:39.930 --> 32:43.370
server anlegen dann musst du auf den server drauf connecten

32:43.370 --> 32:47.190
man installiert den webserver man ist man in kopf die anwendung drauf so wenn man

32:47.190 --> 32:49.130
das so macht dann ist es ein riesen akt › 2 › re نہnt das soils verужnungsrecht

32:49.130 --> 32:55.310
ungefähr in der geschwindigkeit wie dein cloud provider das zulässt dass du über die api dinge

32:55.310 --> 33:02.330
anlegst also du kannst ein server für die hetzer cloud ungefähr in 20 sekunden neu professionieren

33:02.330 --> 33:10.520
du löscht das ding du wartest ein paar sekunden dass der laut balancer das rausnimmt du stellst

33:10.520 --> 33:16.200
den server neu hin lässt irgendwelche in skripts laufen paar sekunden die dann was drauf installieren

33:16.200 --> 33:21.300
und da ist das war wieder da das hat den vorteil der server ist exakt in dem stand wie er in deiner

33:21.300 --> 33:25.560
config datei beschrieben ist und dadurch dass du den bei jedem deployment und bei allem möglichen

33:25.560 --> 33:32.340
wegschmeißen kannst neu erstellen kannst sammelt sich kein müll drauf an der im zweifelsfall zu

33:32.340 --> 33:40.830
irgendwelche sicherheitsproblemen führt voll redeployment habe ich noch nicht gehört aber

33:40.830 --> 33:46.290
warum nicht wir müssen auch mal ein paar it buzzwords implementieren das macht nicht nur

33:46.290 --> 33:49.030
in der cloud sind das macht auch mit einem eigenen rechner

33:49.030 --> 33:54.370
zentrum sind das kannst du im eigenen rechenzentrum auch machen stell dir vor du hast den esx cluster

33:54.370 --> 34:00.950
du hast kvm backends xen backends was auch immer gerade esx warum nicht kannst du auch machen ist

34:00.950 --> 34:07.290
sogar sinnvoll zu machen problematisch ist halt nur wenn viel externe sachen dran hängt bei uns

34:07.290 --> 34:12.950
auf der arbeit im rechenzentrum würde das zum beispiel nicht gut funktionieren weil dort ist

34:12.950 --> 34:20.450
alles so oldschool durch organisiert dass du nicht einfach sagen kannst ich lege jetzt mit

34:20.450 --> 34:25.270
terraform drei neue server an und die funktionieren dann da musst du erst mal zum netzwerk team und

34:25.270 --> 34:31.010
sagen welche ip adresse könnte ich denn nehmen ja ich meine wer hat schon mal was von dhcp

34:31.010 --> 34:38.870
welche ip darf ich denn nehmen kann das jemand im ip management system für mich reservieren

34:38.870 --> 34:45.470
ah ja ok dann braucht die neue ip noch irgendwelche firewall freischaltung moment storage anbindung

34:45.470 --> 34:50.270
braucht das auch noch dann muss ich zum sahnteam weil die müssen das ding ja erst mal richtig zonen

34:50.450 --> 34:55.190
ach moment welche storage tier will ich eigentlich muss das schnell sein oder muss das langsam sein

34:55.190 --> 35:00.530
ja also wenn man natürlich solche oldschool dinge auf der arbeit hat ihr kennt eventuell wenn ihr

35:00.530 --> 35:05.150
in dem bereich arbeit dann ist das nix dann ist es nämlich eine sache von drei vier tagen wenn

35:05.150 --> 35:16.770
nicht wochen bis ein neues system dasteht aber das muss ja nicht so sein ja die cpu ist ein

35:16.770 --> 35:22.850
bisschen lahm wenn es die dual core cpu ist oder ist das die quad core variante

35:23.970 --> 35:30.630
das ist okay das ist in ordnung kannst du nehmen ich meine das hat kein ja die hat definitiv mehr

35:30.630 --> 35:36.730
power als raspberry pi ist okay und die brauchen nicht viel strom kann man kann man empfehlen es ist

35:36.730 --> 35:50.300
nicht schlecht wenn du alles entwickler machen lässt hast aber auch probleme weil du dann

35:50.300 --> 36:11.950
irgendwelche datenbank passwörter im git drin stehen hast im zweifelsfall so was ja so also

36:11.950 --> 36:17.270
jetzt habe ich das das habe ich das denke ich ganz ganz gut erklärt und wir werden wieder unseren keck

36:17.390 --> 36:22.670
wss service verwenden ich muss übrigens gerade mal keck wss service updaten sehe ich da gerade

36:22.670 --> 36:32.780
keck wss service ist zu alt wie kann das sein warum ist es schon wieder outdated overrated

36:32.780 --> 36:45.060
jebaited ich muss das kurz upgraden wo haben wir es denn hier keck wss service da ist es der ist

36:45.060 --> 36:50.620
noch .NET 5 wir müssen upgraden auf .NET 6 gucken ob das einfach funktioniert das ist eine sache von

36:50.620 --> 36:51.180
zwei minuten

36:56.320 --> 37:15.120
ein halbes jahr alt ist schon legacy unload wo leute wo ist der unload knopf ach da habe ich nicht

37:15.120 --> 37:36.330
gesehen so .NET 6 load das war das war das upgrade mehr müssen wir nicht machen auf gib ihm so .NET run

37:36.330 --> 37:36.350
.NET run

37:41.490 --> 37:49.170
also keck wss service macht folgendes wenn du ihnen aufruft kriegst du einen

37:49.170 --> 37:55.470
random rotiertes keck w bild mit transparenz der hintergrund sieht weiß aus aber es ist

37:55.470 --> 38:05.680
ein transparenter hintergrund also der also nächstes startup gründung ist schon raus das

38:05.680 --> 38:10.140
ist so ein test service den wir gebaut haben um sachen auszuprobieren der kann nix anderes

38:10.140 --> 38:14.700
als bilder distur 홀 aber das ist ein web service den man wunderbar auch ein bisschen stressen kann

38:15.260 --> 38:16.900
Mit tausenden Anfragen.

38:17.360 --> 38:19.680
Und dann gucken, wie viel CPU-Laster es generiert und alles.

38:23.270 --> 38:24.610
Du kannst das Bild kopieren, ja, ja.

38:27.940 --> 38:31.160
Und ich glaube, Keg WSService ist mittlerweile so advanced.

38:31.660 --> 38:33.060
Oh, Kekona gibt es auch.

38:33.560 --> 38:34.340
Get Kekona.

38:34.580 --> 38:35.540
Moment, Moment.

38:36.040 --> 38:36.680
Was ist denn das?

38:40.730 --> 38:43.550
Wait a minute, warum ist Slash Kekona das gleiche wie Slash...

38:43.550 --> 38:44.410
Okay, keine Ahnung.

39:00.780 --> 39:04.540
Leute, das ist überhaupt nicht die aktuellste Keg WSService-Version.

39:05.180 --> 39:05.980
Guckt mal.

39:07.980 --> 39:08.460
Fix.

39:11.950 --> 39:13.630
Doch, das ist die aktuellste Version.

39:14.110 --> 39:14.390
Okay.

39:15.530 --> 39:15.930
Na dann.

39:18.810 --> 39:21.150
Ich bilde eigentlich ein, wir haben das verbessert mittlerweile.

39:21.910 --> 39:23.010
Dass es gar keine...

39:23.010 --> 39:25.610
Dass es das Bild-Rotaten im RAM macht.

39:26.710 --> 39:27.230
Ja.

39:28.330 --> 39:29.950
Aber wie dem auch sei...

39:33.520 --> 39:34.220
Warum habe ich da verschiedene...

39:34.880 --> 39:37.780
Ich weiß wirklich nicht mehr, was ich da getrieben habe.

39:41.110 --> 39:41.390
Egal.

39:42.050 --> 39:43.230
Es funktioniert.

39:43.490 --> 39:45.470
Sonderlich sinnvoll ist dieser Service eh nicht.

39:46.870 --> 39:47.630
So, und das ist...

39:47.730 --> 39:49.850
Das ist der Service, mit dem wir das immer ausprobieren.

39:49.850 --> 39:52.850
Ansonsten ist hier nichts weiter drinne.

39:53.390 --> 39:54.190
Es ist noch...

39:54.190 --> 39:55.070
Ich kann das mal öffnen.

39:55.070 --> 39:57.070
Es ist noch ein Ansible-Playbook drinne.

39:58.670 --> 39:59.430
Irgendwo hier.

40:01.570 --> 40:07.670
Wo wir die Server damals über Ansible konfiguriert haben, aber das machen wir heute nicht.

40:08.690 --> 40:14.110
Heute bauen wir nämlich die gesamte Infrastruktur auf und das Ganze eben mit Terraform.

40:14.330 --> 40:16.710
Und übrigens, die Domain ist auch wunderbar.

40:16.710 --> 40:17.730
Keckw.

40:18.710 --> 40:22.800
Die S?

40:26.150 --> 40:26.570
Was auch immer.

40:27.330 --> 40:27.970
Keckw.

40:28.170 --> 40:29.390
Keckw.services.

40:29.610 --> 40:31.070
Ich habe eine extra Domain dafür.

40:33.750 --> 40:36.710
Da läuft gerade nichts, aber da wird dann gleich was drauf laufen.

40:37.290 --> 40:44.910
Diese Domain haben wir übrigens dem SiriusMax zu verdanken aus dem Chat, der sich die Domain damals registriert hat, als ich das gestreamt habe.

40:45.270 --> 40:47.310
Und mir die Domain geschickt hat.

40:47.950 --> 40:50.670
Mit Übergabe-Code.

40:51.450 --> 40:53.910
Übrigens, Max, es kann auch nicht mehr passieren.

40:54.230 --> 40:55.590
Dass wir deinen Namen leaken.

40:55.870 --> 41:00.670
Ich habe vorhin extra bei der Domain-Registry Fake-Namen reingeschrieben.

41:01.210 --> 41:04.530
Falls wir uns da einloggen sollten.

41:08.560 --> 41:09.580
So, also.

41:10.540 --> 41:14.220
Wohlgemerkt, ich habe noch nie from scratch was mit Terraform gemacht.

41:14.320 --> 41:21.140
Ich habe Terraform schon benutzt, aber ich habe noch nie mit dem leeren Editor angefangen.

41:22.340 --> 41:25.620
So, ich habe hier schon einen Ordner gemacht, der sich Infra nennt.

41:25.620 --> 41:27.460
Und das zeige ich euch jetzt.

41:27.460 --> 41:32.280
Nicht, weil dann könntet ihr bei mir in der Hetzner-Cloud Dinge machen, die ihr nicht machen sollt.

41:32.660 --> 41:35.980
Ich habe hier eine Datei angelegt, api.tf war es.

41:36.680 --> 41:38.660
Da steht mein Hetzner-API-Token drin.

41:39.000 --> 41:40.880
Das zeige ich euch nicht.

41:45.260 --> 41:48.500
Und wenn ich es euch zeige, muss ich es halt schnell löschen, bis ihr es abgetippt habt.

41:49.080 --> 41:50.920
Aber das mache ich nicht.

41:51.420 --> 41:51.640
Okay.

42:00.160 --> 42:00.940
Chat ist schon drin.

42:01.260 --> 42:03.860
Na, vielleicht sollte ich.

42:07.730 --> 42:08.930
Ich überlege gerade.

42:11.010 --> 42:13.010
Ich glaube, ich move das.

42:13.010 --> 42:14.250
Ein Verzeichnis.

42:17.880 --> 42:20.340
Ich move das aus dem Git-Repo raus.

42:22.440 --> 42:22.920
Irgendwo.

42:24.780 --> 42:26.860
Irgendwo in meinem Heimatverzeichnis oder so.

42:27.820 --> 42:30.540
Wobei ich gar nicht weiß, ob Terraform das dann einlesen kann.

42:30.840 --> 42:31.320
Ist wurscht.

42:31.700 --> 42:34.200
Wenn ich es leake, ist es nicht so schlimm.

42:35.840 --> 42:38.040
Ich kann einfach hier das API-Token dann löschen.

42:39.040 --> 42:40.260
Yes, wir trusten.

42:40.660 --> 42:43.120
Also, aktuell gibt es hier noch nichts in dem Verzeichnis.

42:43.120 --> 42:45.180
Und ich lege jetzt mal eine Terraform-Datei an.

42:46.120 --> 42:47.680
Und die Datei mache ich besser nicht auf.

42:48.360 --> 42:51.020
New File, Main.tf.

42:54.780 --> 42:55.820
Search Marketplace.

42:56.040 --> 42:56.060
So.

42:57.060 --> 43:01.700
Ich weiß auch, dass es Terraform-Wissel-Studio-Code-Plugins gibt.

43:02.180 --> 43:03.900
Chat, was ist davon zu empfehlen?

43:04.600 --> 43:04.960
Warum geht...

43:04.960 --> 43:06.040
Das ist das Offizielle.

43:06.980 --> 43:10.280
Und was hat Anton Kulikow am Start?

43:10.420 --> 43:11.060
Ist das besser?

43:14.850 --> 43:16.170
GT-Knor habe ich das schon drin.

43:19.960 --> 43:21.280
Terraform-Auto-Complete.

43:21.280 --> 43:24.160
Die Offizielle hat auch Auto-Complete.

43:26.930 --> 43:27.810
Ach, kein Chimam.

43:29.490 --> 43:29.990
So.

43:31.050 --> 43:32.930
Machen wir das mal kurz hier in einem eigenen Fenster.

43:32.930 --> 43:33.690
Sonst ein bisschen...

43:33.690 --> 43:34.190
Moment.

43:34.190 --> 43:36.190
Jetzt habe ich das Falsche gemooved.

43:40.210 --> 43:41.210
Okay, also.

43:41.210 --> 43:42.470
Jetzt gucken wir uns das mal an.

43:42.470 --> 43:46.230
Es gibt hier einen Provider für Hetzner Cloud.

43:47.070 --> 43:49.630
Und die haben auch ein paar Beispiele drin, wie das funktioniert.

43:50.730 --> 43:52.150
Und was man da jetzt machen kann, ist...

43:52.150 --> 43:55.230
Das ist ja wirklich basicste Config.

43:56.130 --> 43:59.270
Man muss seinen API-Token hinterlegen.

43:59.270 --> 43:59.810
Das habe ich schon gemacht.

43:59.810 --> 44:05.360
Könnt ihr ruhig...

44:05.360 --> 44:06.360
Macht eine Umfrage.

44:06.360 --> 44:15.410
Ich lege meinen API-Token nicht.

44:15.410 --> 44:17.410
Macht eine Umfrage, wenn ihr wollt.

44:17.410 --> 44:30.870
Ähm...

44:30.870 --> 44:32.870
Was hältst du von AI-Tools wie GitHub CodePilot?

44:32.870 --> 44:36.870
Ich muss dir ehrlich sagen, ich habe es noch nicht groß benutzt.

44:36.870 --> 44:39.870
Ich habe ja schon Videos gesehen von Leuten,

44:39.870 --> 44:42.870
die über ihre Erfahrungen berichtet haben.

44:42.870 --> 44:44.870
Das gibt es jetzt ja auch fast schon ein Jahr.

44:44.870 --> 44:45.870
Und die finden es richtig geil.

44:45.870 --> 44:48.870
Aber GitHub CodePilot soll demnächst kostenpflichtig werden.

44:48.870 --> 45:03.340
WeirdChampChat.

45:03.340 --> 45:20.990
Höchst WeirdChamp.

45:20.990 --> 45:37.220
Die Abstimmung mit Keksen ist halt etwas wenig aussagekräftig,

45:37.220 --> 45:39.220
aber kostet Channel Points.

45:39.220 --> 45:40.220
Sollen wir recht sein.

45:40.220 --> 45:49.550
Ach, das ist gar keine Abstimmung.

45:49.550 --> 45:51.550
Das ist eine Prediction.

45:51.550 --> 45:53.550
Das ist dann tatsächlich sinnvoll.

45:53.550 --> 45:54.550
Ich habe nichts gesagt.

45:54.550 --> 45:55.550
Mods.

45:55.550 --> 45:56.550
Pfeifert.

45:56.550 --> 45:57.550
Time.

45:57.550 --> 45:58.550
HighIQ.

45:58.550 --> 45:59.550
Moderation hier.

45:59.550 --> 46:11.440
Ja, mache ich.

46:11.440 --> 46:16.820
Also da bin ich ja froh.

46:16.820 --> 46:19.820
Die meisten Leute sind der Meinung, ich leake meinen API-Token gar nicht.

46:19.820 --> 46:20.820
Ich habe auch nicht vor, meinen API-Token zu leaken.

46:20.820 --> 46:21.820
So, auf geht's.

46:21.820 --> 46:37.320
Also, das ist so eine Basic-Config, die bei sich in der Hilfeseite stehen haben.

46:37.320 --> 46:39.320
Das probieren wir jetzt mal aus.

46:39.320 --> 46:44.320
Also, Token habe ich in den Secrets gesetzt.

46:44.320 --> 46:47.320
Das zeige ich euch jetzt nicht.

46:47.320 --> 46:51.320
Und so kann man anscheinend einen Server anlegen bei der Hetzner Cloud.

46:51.320 --> 46:52.320
Wenn ich das richtig...

46:52.320 --> 46:56.320
Leute, wie gesagt, falls wir hier irgendwelche HighIQ-Terraform-Benutzer da haben.

46:56.320 --> 46:59.320
Ich bin mir da bei den Sachen nicht so hundertprozentig sicher.

46:59.320 --> 47:00.320
Wie gesagt, ich habe das schon benutzt.

47:00.320 --> 47:02.320
Aber ich bin jetzt da nicht der Profi drin.

47:02.320 --> 47:06.320
Ich glaube, dass da oben ist ein Unique Key für jede Ressource.

47:06.320 --> 47:07.320
Den braucht man.

47:07.320 --> 47:09.320
Das ist nicht der Servername.

47:09.320 --> 47:12.320
Das heißt, hier könnte ich auch Wubbeldiwub reinschreiben.

47:12.320 --> 47:15.320
Und dann könnte ich hier unten Servername gleich machen.

47:15.320 --> 47:20.720
Das muss aber, glaube ich, irgendwie Unique sein da oben.

47:20.720 --> 47:22.720
Wie setzt man den Token?

47:22.720 --> 47:23.720
So.

47:23.720 --> 47:27.720
Du legst eine Datei an, die api.tf war.

47:27.720 --> 47:29.720
Oder secrets.tf war.

47:29.720 --> 47:31.720
Oder was auch immer.

47:31.720 --> 47:35.720
Und dann sagst du ihm, wo er die Variable rauslesen soll.

47:35.720 --> 47:37.720
Und das hier ist tatsächlich ganz cool.

47:37.720 --> 47:40.720
Wenn du sagst, sensitive gleich true.

47:40.720 --> 47:45.720
Dann checkt er, dass in keinem Log-Output automatisch...

47:45.720 --> 47:50.720
Also, dann filtert er aus Log-Output automatisch das Secret raus, sollte es da drin stehen.

47:50.720 --> 47:53.720
Das ist eigentlich ganz schlau.

47:53.720 --> 47:59.200
Wie sieht die tf-was-Datei aus?

47:59.200 --> 48:00.200
Einfach hier war.

48:00.200 --> 48:01.200
Einfach hier war.

48:01.200 --> 48:02.200
Gleich.

48:02.200 --> 48:03.200
Blub.

48:03.200 --> 48:04.200
So.

48:04.200 --> 48:06.200
tf ist terraform.

48:06.200 --> 48:07.200
Genau.

48:07.200 --> 48:08.200
So.

48:08.200 --> 48:12.200
Und jetzt kommt der letzte Punkt, wo ich weiß, was man machen muss.

48:12.200 --> 48:15.200
Man muss terraform init machen.

48:15.200 --> 48:18.200
Man muss einmal initial terraform...

48:18.200 --> 48:24.200
Nee, ich glaube bei jedem, wo man neue Provider benutzt, muss man glaube ich init machen.

48:24.200 --> 48:29.200
Zumindest muss man einmal initial terraform init machen, dass er die ganzen Dependencies installiert.

48:29.200 --> 48:30.200
Was man braucht.

48:30.200 --> 48:33.200
Also, zum Beispiel, wenn man die Hetzner Cloud Provider verwendet.

48:33.200 --> 48:35.200
Terraform selbst ist ja...

48:35.200 --> 48:38.200
Terraform selbst ist...

48:38.200 --> 48:41.200
Achso, vielleicht soll ich terraform erstmal installieren.

48:41.200 --> 48:46.860
Wäre natürlich auch noch eine Möglichkeit, ne?

48:46.860 --> 48:51.860
Leute, wie machen das denn eigentlich die coolen Leute mit terraform?

48:51.860 --> 48:52.860
Machen die Leute...

48:52.860 --> 48:55.860
Installieren die terraform lokal?

48:55.860 --> 48:58.860
Oder installieren die terraform über...

48:58.860 --> 49:00.860
Oder benutzen die das über einen Docker-Container?

49:00.860 --> 49:03.860
Und machen dann immer docker run terraform?

49:03.860 --> 49:06.860
Wie machen das die Cloud-Native-Hai-IQ-Leute?

49:06.860 --> 49:08.860
Installiert tfn...

49:08.860 --> 49:13.360
Terraform-Version-Manager?

49:13.360 --> 49:15.360
Warum brauche ich verschiedene terraform-Versions?

49:15.360 --> 49:20.790
Warum nicht einfach den letzten?

49:20.790 --> 49:21.790
Oh, nice.

49:21.790 --> 49:28.300
Aber...

49:28.300 --> 49:29.300
Wo ist der Sinn?

49:29.300 --> 49:33.800
Docker ist schon wieder out für lokale Sachen?

49:33.800 --> 49:34.800
Nö, was soll denn...

49:34.800 --> 49:39.760
Was soll denn Docker für lokale Sachen ersetzt haben?

49:39.760 --> 49:40.760
Da fällt mir ja nix...

49:40.760 --> 49:41.760
Nix ein.

49:41.760 --> 49:42.760
Oh nein.

49:42.760 --> 49:44.760
Nein, Potman ist es nicht.

49:44.760 --> 49:52.010
Die Popularität von Potman hält sich in Grenzen.

49:52.010 --> 49:54.010
Ja, aber bestimmt nicht...

49:54.010 --> 50:00.010
Bestimmt nicht, wenn sie zum ersten Mal irgendwas erproben in der neuen Umgebung.

50:00.010 --> 50:01.010
Nee, LXC...

50:01.010 --> 50:08.160
LXC ist alles.

50:08.160 --> 50:15.000
Ach so.

50:15.000 --> 50:18.000
Ich installiere das jetzt einfach so.

50:18.000 --> 50:21.000
Ich installiere das jetzt einfach so.

50:21.000 --> 50:22.000
Terraform.

50:22.000 --> 50:27.930
Was zum Teufel ist Terragrunt?

50:27.930 --> 50:28.930
Was ist Terra...

50:28.930 --> 50:29.930
Okay.

50:29.930 --> 50:33.930
Es gibt wieder hunderttausend Dinger, wo man nicht checkt, was...

50:33.930 --> 50:34.930
Terragrunt.

50:34.930 --> 50:38.930
Try and maintainable terraform code.

50:38.930 --> 50:45.720
Terragrunt.

50:45.720 --> 50:46.720
Leute, wisst ihr was?

50:46.720 --> 50:49.720
Ich mache einfach gar nichts, bis es in die Terraform und gut ist.

50:49.720 --> 50:53.360
Terraform fertig.

50:53.360 --> 50:54.360
So.

50:54.360 --> 51:05.650
Bevor wir jetzt anfangen mit irgendwelchen super-advancen, high-IQ-Fivehead-Sachen,

51:05.650 --> 51:07.650
werden sie jetzt einfach ganz normal terraform.

51:07.650 --> 51:12.280
Terraform...

51:12.280 --> 51:13.280
Terraform...

51:13.280 --> 51:14.280
Init.

51:14.280 --> 51:15.280
Bam.

51:15.280 --> 51:30.150
Okay, das ist ja schon mal gut, wenn das Beispiel 1 zu 1 copy-pasted schon mal nicht funktioniert.

51:30.150 --> 51:37.170
Das ist ja toll.

51:37.170 --> 51:38.170
Okay.

51:38.170 --> 51:39.170
Also.

51:39.170 --> 51:43.170
Failed to query available provider packages.

51:43.170 --> 51:47.170
Could not retrieve list of available versions.

51:47.170 --> 51:48.170
Hä?

51:48.170 --> 51:51.170
Ist die Registry down oder was?

51:51.170 --> 51:52.170
Das glaube ich aber nicht.

51:52.170 --> 51:53.270
Das glaube ich aber nicht.

51:56.200 --> 51:58.920
Did you intend to use Hetzner H-Cloud?

52:00.200 --> 52:01.200
Ja, weiß ich doch nicht.

52:01.560 --> 52:02.820
Intende ich Hashi...

52:02.820 --> 52:07.240
HashiCorp H-Cloud oder Hetzner Cloud H-Cloud zu verwenden?

52:07.680 --> 52:10.140
Ich glaube, ich will Hetzner Cloud H-Cloud verwenden,

52:10.140 --> 52:17.680
weil zumindest so heißt das hier H-Cloud.

52:18.720 --> 52:20.560
Hetzner Cloud H-Cloud heißt das hier.

52:20.560 --> 52:23.840
Ich muss das nicht freischalten.

52:28.470 --> 52:30.570
Klickt mal rechts auf Use Provider.

52:31.650 --> 52:34.670
Ah, Terraform 0.13 Plus.

52:37.710 --> 52:38.270
Exzellent.

52:38.410 --> 52:39.890
Das muss man auch erstmal wissen.

52:40.090 --> 52:40.870
Alles klar.

52:42.430 --> 52:44.550
Das heißt, ich muss den Krempel hier reinkopieren.

52:45.030 --> 52:46.310
Jetzt mal eine blöde Frage.

52:46.830 --> 52:48.270
Warum hat man da sowas eingeführt,

52:48.370 --> 52:51.490
wenn das früher ohne extra Config ging?

52:51.610 --> 52:52.990
Warum macht man absichtlich...

52:52.990 --> 52:54.530
Okay, ich glaube, ich kann es mir vorstellen,

52:54.650 --> 52:55.950
wahrscheinlich, dass man...

52:55.950 --> 52:59.570
private Registries verwenden könnte oder sowas.

53:00.130 --> 53:01.410
Gehe ich jetzt einfach mal von aus.

53:02.070 --> 53:04.530
Ist es sinnvoll, die Version hardcoded zu schreiben

53:04.530 --> 53:06.470
oder sollte er einfach immer die letzte Version nehmen?

53:09.290 --> 53:09.710
Keine Ahnung.

53:09.890 --> 53:10.270
Probieren wir mal.

53:10.310 --> 53:12.070
Also, Terraform Init.

53:13.410 --> 53:15.510
Ja, das sieht schon besser aus.

53:15.930 --> 53:17.450
So, und jetzt Terraform Apply.

53:17.910 --> 53:19.250
Das sollte nicht funktionieren.

53:30.140 --> 53:32.140
Ja, ich muss die AP Secrets anklicken.

53:32.260 --> 53:32.620
Ist klar.

53:33.980 --> 53:35.420
So, das dürfte jetzt nicht gehen,

53:35.720 --> 53:37.240
weil ich habe ja hier bei dem Server,

53:37.320 --> 53:37.620
den er anbietet,

53:37.660 --> 53:38.260
den er anlegen soll,

53:38.720 --> 53:40.120
nichts eingegeben.

53:40.520 --> 53:41.760
Weder Name vom Server,

53:41.940 --> 53:43.560
noch Betriebssystem-Image,

53:44.600 --> 53:47.240
noch Server-Typ,

53:47.320 --> 53:48.140
noch IP nix.

53:50.720 --> 53:52.160
Erstmal Plan for Apply.

53:55.260 --> 53:55.860
Moment.

53:59.040 --> 54:00.920
Ach hier, genau, so ging das.

54:02.080 --> 54:02.680
Warfile.

54:12.040 --> 54:13.800
So, also, er erzählt mir jetzt,

54:13.900 --> 54:15.220
geht nicht, weil...

54:15.220 --> 54:16.300
Missing Argument.

54:16.540 --> 54:17.880
Server Type is required.

54:18.540 --> 54:20.300
Und Name is required.

54:20.500 --> 54:20.700
Okay.

54:21.440 --> 54:24.060
Name für unseren Server.

54:25.040 --> 54:26.600
Cute Chat 1.

54:30.090 --> 54:30.870
Wir haben ja mehrere.

54:31.430 --> 54:31.730
Später.

54:33.430 --> 54:35.310
Wie, äh, Comment war so, ne?

54:39.120 --> 54:41.080
Loop Terraform.

54:41.140 --> 54:42.160
Wie macht man eine Schleife?

54:43.500 --> 54:44.760
Terraform Tipps und Tricks.

54:45.180 --> 54:45.840
Four Statements.

54:46.020 --> 54:46.600
Four Expressions.

54:46.600 --> 54:47.600
Wir brauchen ja drei Server.

54:48.540 --> 54:50.340
Also, Server Name, Cute Chat.

54:51.360 --> 54:53.560
Dann fehlt Server Type.

54:53.660 --> 54:55.940
Aber ich find's cool,

54:56.000 --> 54:57.360
dass sie die Autocompletion haben

54:57.360 --> 54:58.360
und das sogar für die,

54:58.360 --> 54:59.420
für die Hetzner Cloud Sachen.

54:59.940 --> 55:01.100
Exploit 126.

55:01.160 --> 55:01.980
Dankeschön für den Sub.

55:03.440 --> 55:05.300
Aber sie autocompleten anscheinend

55:05.300 --> 55:07.120
nicht die Sachen hierfür.

55:09.830 --> 55:10.530
Okay, was muss,

55:10.610 --> 55:11.930
was gibt es für Server Type?

55:13.090 --> 55:13.570
Docs.

55:15.730 --> 55:16.210
Server.

55:20.240 --> 55:23.760
Äh, Type.

55:27.520 --> 55:28.920
Ach hier, das sind denen ihre,

55:29.240 --> 55:30.460
das sind denen ihre Kisten,

55:30.540 --> 55:31.440
was das sein soll.

55:32.260 --> 55:33.720
Also sprich, das ist das,

55:33.720 --> 55:35.100
wenn ich hier auf Add Server klicke,

55:35.340 --> 55:36.780
das ist das hier unten,

55:36.780 --> 55:38.780
wie fett die Kiste sein soll.

55:38.780 --> 55:42.400
Eine CPU und RAM und SSD und, und, ja,

55:42.400 --> 55:44.960
da kommt nix, nix Großartiges, das,

55:46.380 --> 55:47.880
der, der Kleinste reicht.

55:47.880 --> 55:49.440
Wo gibt's denn eine Übersicht?

55:49.440 --> 55:50.840
Gibt's hier, gibt's hier eine Übersicht?

55:50.840 --> 55:51.680
Was ist alles,

55:54.100 --> 55:56.720
was es alles für Types gibt?

56:00.290 --> 56:00.790
Ne, ne?

56:02.450 --> 56:03.250
Steht nicht drinne.

56:05.840 --> 56:07.060
Aber gut, das wissen wir ja,

56:07.060 --> 56:08.000
weil das die gleichen sind,

56:08.000 --> 56:08.600
die hier unten stehen.

56:08.600 --> 56:11.820
Also sprich, CX11 ist der Kleinste.

56:11.840 --> 56:13.840
Alles klar.

56:13.840 --> 56:16.840
So, und wir werden das jetzt übrigens dann heute auch richtig machen,

56:16.840 --> 56:18.840
weil Hetzner hat ein neues Feature, und zwar,

56:18.840 --> 56:21.840
nein, die wollte ich euch jetzt nicht zeigen.

56:21.840 --> 56:24.840
Vielleicht ist ja Hans Feld mittlerweile hier.

56:24.840 --> 56:28.840
Ähm, Hetzner hat jetzt ein neues Feature eingeführt,

56:28.840 --> 56:30.840
und zwar, das kann ich euch zeigen,

56:30.840 --> 56:31.840
man kann jetzt endlich,

56:31.840 --> 56:33.840
da warte ich schon seit einem Jahr drauf,

56:33.840 --> 56:34.840
dass wir das endlich mal machen,

56:34.840 --> 56:36.840
man kann jetzt endlich sagen,

56:36.840 --> 56:39.840
ich möchte keine Public IP haben,

56:39.840 --> 56:42.600
sondern Private Network.

56:42.600 --> 56:43.600
Sondern Private Networks.

56:44.600 --> 56:47.600
Also sprich, ich kann endlich einen Cloud-Server anlegen,

56:47.600 --> 56:49.600
den ich nicht vom Internet aus erreichen kann.

56:50.600 --> 56:52.600
Und jetzt ist natürlich gleich die nächste Frage,

56:52.600 --> 56:53.600
da warte ich ja schon drauf,

56:53.600 --> 56:55.600
warum will man sowas denn machen?

56:56.600 --> 56:57.600
Ganz einfach,

56:58.600 --> 57:00.600
warum man sowas machen will,

57:00.600 --> 57:03.600
weil der Eingang muss von außen erreichbar sein.

57:03.600 --> 57:06.600
Die Kisten dahinter müssen vom Eingang nicht erreichbar sein.

57:09.100 --> 57:09.600
So.

57:10.600 --> 57:13.100
Name gleich Test Count Punkt Index.

57:13.100 --> 57:15.100
Count Punkt Index geht aber wahrscheinlich nur,

57:15.100 --> 57:17.100
wenn es in der Schleife ist, oder?

57:17.100 --> 57:21.100
Terraform Count Index.

57:21.100 --> 57:25.100
Das Count-Meta-Argument.

57:25.100 --> 57:27.100
Wir legen jetzt erstmal testweise,

57:27.100 --> 57:28.100
bevor wir solche Spiele reinmachen,

57:28.100 --> 57:30.100
testweise einen Server an.

57:30.100 --> 57:31.100
Also was brauchen wir denn?

57:31.100 --> 57:34.100
Name gleich Server-Type gleich.

57:34.100 --> 57:39.400
Äh, Image.

57:39.400 --> 57:42.400
Image gibt es, Image brauchen wir.

57:42.400 --> 57:44.400
Ubuntu...

57:44.400 --> 57:46.400
Jetzt muss ich mal gucken, wie man das schreibt.

57:46.400 --> 57:47.400
Haben wir hier ein Beispiel?

57:47.400 --> 57:49.400
Hier, Ubuntu 20.04.

57:49.400 --> 57:51.400
Wir machen Ubuntu 22.

57:52.400 --> 57:55.400
Ubuntu 22.04.

57:55.400 --> 57:59.350
Und jetzt gucken wir mal,

57:59.350 --> 58:02.350
wie ist eigentlich so die Convention hier zum Einrücken?

58:02.350 --> 58:04.350
Two Spaces?

58:04.350 --> 58:06.350
4 Spaces?

58:06.350 --> 58:08.350
Wahrscheinlich ziemlich wurscht.

58:08.350 --> 58:10.350
Ich persönlich mag ja 2 Spaces.

58:10.350 --> 58:15.240
Wie du den Server per Ansible konfigurierst?

58:15.240 --> 58:16.240
Ja, per Jump-Pause.

58:16.240 --> 58:17.240
Würde ich das machen.

58:18.240 --> 58:25.900
Wobei, mal gucken.

58:25.900 --> 58:26.900
Mal gucken.

58:26.900 --> 58:28.900
Ich weiß noch nicht.

58:28.900 --> 58:36.330
Vielleicht gebe ich den Dingern zum Testen heute auch einfach Public IPs.

58:36.330 --> 58:37.330
Ist wurscht.

58:37.330 --> 58:38.330
Ich mach mal kurz ein Apply.

58:38.330 --> 58:39.330
Das wird...

58:39.330 --> 58:41.330
Achso, wie gebe ich SSH-Keys an?

58:41.330 --> 58:43.330
SSH-Keys...

58:43.330 --> 58:46.330
Oh, wie heißt der richtige SSH-Key von mir?

58:46.330 --> 58:49.700
Test at Test?

58:49.700 --> 58:51.700
Max at Desktop?

58:51.700 --> 58:52.700
Max at Poggers?

58:52.700 --> 58:54.700
Max at Poggers 2?

58:54.700 --> 59:00.510
Welcher ist der richtige?

59:00.510 --> 59:03.080
Im Zweifelsfall alle.

59:03.080 --> 59:19.000
ID RSA Pub...

59:19.000 --> 59:20.000
Ich hab da nur ein...

59:20.000 --> 59:21.000
Nee, nee, nee, nee.

59:21.000 --> 59:22.000
Fuck.

59:22.000 --> 59:23.000
Ich hab mehrere.

59:23.000 --> 59:24.000
Aber ich hab den ID...

59:24.000 --> 59:25.000
Moment.

59:25.000 --> 59:27.000
Ich hab den ID RSA Pub, aber ich hab kein ID RSA.

59:27.000 --> 59:28.000
Max at Poggers.

59:28.000 --> 59:29.000
Max at Poggers.

59:29.000 --> 59:30.000
Das dürft ihr nicht...

59:30.000 --> 59:31.000
Okay, Max at Poggers ist dann der Richtige.

59:31.000 --> 59:32.000
Also kann ich sowas hier machen?

59:32.000 --> 59:33.000
Max at Poggers?

59:33.000 --> 59:35.000
Oder muss man bei SSH-Keys wirklich Keys...

59:35.000 --> 59:36.000
Public Keys reinschreiben?

59:36.000 --> 59:37.000
SSH-Keys?

59:37.000 --> 59:38.000
SSH-Keys?

59:38.000 --> 59:39.000
SSH-Keys?

59:39.000 --> 59:40.000
SSH-Keys?

59:40.000 --> 59:41.000
SSH-Keys?

59:41.000 --> 59:42.000
SSH-Keys?

59:42.000 --> 59:43.000
SSH-Keys?

59:43.000 --> 59:44.000
SSH-Keys?

59:44.000 --> 59:45.000
SSH-Keys?

59:45.000 --> 59:46.000
Ähm...

59:46.000 --> 59:47.000
SSH...

59:47.000 --> 59:48.000
SSH-Key...

59:48.000 --> 59:49.000
List...

59:49.000 --> 59:55.000
SSH-Key-IDs or Names which should be injected into...

59:55.000 --> 59:56.000
Okay, Names.

59:56.000 --> 01:00:01.320
Alles klar.

01:00:01.320 --> 01:00:02.320
Okay, dann...

01:00:02.320 --> 01:00:09.340
Dann bauen wir das Ding mal auf und gucken, ob's funktioniert.

01:00:09.340 --> 01:00:13.340
Also, was jetzt passieren sollte von der Idee her ist...

01:00:13.340 --> 01:00:17.340
Wenn ich Terraform Apply mache, oder gucken wir erst mal planen, ob das funktioniert...

01:00:17.340 --> 01:00:18.340
Was?

01:00:18.340 --> 01:00:19.340
Äh...

01:00:19.340 --> 01:00:21.900
Eine Idee.

01:00:21.900 --> 01:00:27.290
Eine Idee.

01:00:27.290 --> 01:00:28.290
Eine Liste von Strings.

01:00:28.290 --> 01:00:29.290
Liste von Strings.

01:00:29.290 --> 01:00:34.290
Da müssen wir ganz korrekt sein.

01:00:34.290 --> 01:00:36.290
Also, das würde er jetzt machen.

01:00:36.290 --> 01:00:38.290
Also, bevor ich Apply mache.

01:00:38.290 --> 01:00:39.290
Also, das würde er jetzt machen.

01:00:39.290 --> 01:00:43.290
Er würde einen neuen Server anlegen, der sich QChat1 nennt.

01:00:43.290 --> 01:00:45.290
Backups würde er ausschalten.

01:00:45.290 --> 01:00:46.290
Datacenter ist dynamisch.

01:00:46.290 --> 01:00:48.290
Firewall ist alles dynamisch.

01:00:48.290 --> 01:00:50.290
IP-Adresse macht er...

01:00:50.290 --> 01:00:51.290
Alles gut.

01:00:51.290 --> 01:00:53.290
Probieren wir das mal aus.

01:00:53.290 --> 01:00:57.300
Terraform Apply.

01:00:57.300 --> 01:01:00.000
Gibt es irgendwie die Möglichkeit?

01:01:00.000 --> 01:01:03.000
Gibt es irgendwie die Möglichkeit, dass man sich das var-File sparen kann?

01:01:03.000 --> 01:01:04.000
Gibt es irgendwie die Möglichkeit, dass man sich das var-File sparen kann?

01:01:04.000 --> 01:01:06.000
Dass er automatisch da reinguckt?

01:01:06.000 --> 01:01:11.000
Dass man hier irgendwie was machen kann, wie include var-File und so?

01:01:11.000 --> 01:01:14.000
Terraform include var-File?

01:01:14.000 --> 01:01:16.820
Ja?

01:01:16.820 --> 01:01:18.820
Macht das Sensitive raus?

01:01:18.820 --> 01:01:36.940
Ja, ganz bestimmt.

01:01:36.940 --> 01:01:38.940
Okay, weiß ich aber grad nicht wie.

01:01:38.940 --> 01:01:57.880
Das wäre natürlich ganz praktisch, wenn man das includen könnte.

01:01:57.880 --> 01:01:58.880
Okay, wie auch immer.

01:01:58.880 --> 01:02:06.200
machen jetzt apply und der sollte jetzt uns ein server anlegen der cute chat 1

01:02:06.200 --> 01:02:12.860
heißt location location sollten wir noch angeben und zwar wir wollen nicht nach

01:02:12.860 --> 01:02:24.860
helsinki sondern wir wollen nach location ja mbg 1 ist okay mbg 1 ist

01:02:24.860 --> 01:02:38.440
nürnberg ok also terraform plan alles klar ubuntu 2204 kleinste kiste ssh key mit hinzugefügt

01:02:38.440 --> 01:02:51.730
backups sind aus und location steht hier gar nicht da datacenter ja da location oder muss ich

01:02:51.730 --> 01:02:54.130
eine minute

01:02:54.130 --> 01:03:02.610
was ist denn

01:03:02.610 --> 01:03:02.810
das

01:03:02.810 --> 01:03:16.390
was ist der unterschied zwischen datacenter und location hier ist location ach da kann man das

01:03:16.390 --> 01:03:23.070
noch genauer spezifizieren oder was nicht das brauche ich location reicht mir alles da so

01:03:23.070 --> 01:03:44.290
terraform apply yes will ich machen creating da ist er cute chat 1 server da also ihr seht

01:03:44.290 --> 01:03:52.110
server anlegen hat 13 sekunden gedauert und kopieren wir mal die ip und gucken

01:03:52.110 --> 01:03:52.310
ob man das hier anlegen kann und dann können wir das hier anlegen und gucken ob man das hier

01:03:52.310 --> 01:03:53.470
anlegen kann und dann können wir das hier anlegen und gucken ob man das hier anlegen kann und dann können wir das hier anlegen und gucken ob man sich drauf einloggen kann

01:03:53.470 --> 01:03:56.950
Ne, haha, Leute, ich guck nicht, ob ich mich drauf einloggen kann.

01:03:57.430 --> 01:03:59.270
Cheap baited, cheap baited.

01:04:00.170 --> 01:04:00.770
Weg damit.

01:04:01.450 --> 01:04:02.550
Cheap bait, ne, destroy.

01:04:03.330 --> 01:04:06.310
Ne, wie hängt das, apply minus destroy?

01:04:08.410 --> 01:04:09.490
Ja, yes.

01:04:11.250 --> 01:04:12.070
So, Server wieder weg.

01:04:12.510 --> 01:04:16.730
Guck, also Terraform kann den Kram, den er angelegt hat, auch wieder rückgängig machen und wegschmeißen.

01:04:19.630 --> 01:04:21.530
So, ich hab nämlich was vergessen.

01:04:21.530 --> 01:04:26.770
Damit ich nicht meine IP leake, ich muss noch was machen, Leute.

01:04:27.190 --> 01:04:28.490
Und zwar brauche ich ein Cloud-Init.

01:04:29.590 --> 01:04:37.010
Man kann bei jedem Server, den man aufbaut, ein Skript angeben, das der nach dem Aufbau ausführt, was er machen soll.

01:04:40.250 --> 01:04:41.970
Also, nein, das stimmt nicht, das ist kein Skript.

01:04:42.630 --> 01:04:45.890
Das ist eine YAML-Config oder ein Skript.

01:04:45.990 --> 01:04:46.930
Man kann beides machen.

01:04:47.350 --> 01:04:49.350
YAML-Config oder Skript, geht beides.

01:04:52.890 --> 01:04:56.070
Guck, also man kann entweder YAML-Config machen oder...

01:04:56.390 --> 01:04:58.550
...direkt ein Skript reinschreiben in Cloud-Init.

01:04:59.050 --> 01:05:00.710
Weiß gar nicht, ob die das hier als Beispiel drin haben.

01:05:03.550 --> 01:05:06.110
Und wozu jetzt...

01:05:06.110 --> 01:05:06.810
Was?

01:05:07.730 --> 01:05:09.650
Und Terraform wird jetzt wofür genau benutzt?

01:05:09.650 --> 01:05:12.430
Zum automatischen Anlegen von Cloud-Infrastruktur.

01:05:12.770 --> 01:05:19.850
Und nicht nur zum Anlegen, sondern auch zum gewissen Maße Konfigurieren, aber vor allem Anlegen mit den richtigen Settings.

01:05:21.130 --> 01:05:25.730
Einfach bei einem Server, den man einmal erstellt und dann nie wieder, ist das ziemlich egal.

01:05:27.610 --> 01:05:27.650
Aber...

01:05:28.090 --> 01:05:29.090
Aber wenn du so Sachen wie...

01:05:30.350 --> 01:05:36.150
...Deployment von neuen Versionen ohne Unterbrechung machen willst, zwischen Server neu aufbauen, ab und zu mal vielleicht auch...

01:05:36.150 --> 01:05:41.430
...wenn du einen super beliebten Service hast, das Hochskalieren auf mehrere Systeme, ist das praktisch.

01:05:43.290 --> 01:05:44.970
Ne, mit TensorFlow hat das nichts zu tun.

01:05:46.450 --> 01:05:47.750
So, also wir brauchen Cloud-Init.

01:05:48.330 --> 01:05:50.230
Wie macht man hier Cloud-Init bei Hetzner?

01:05:51.410 --> 01:05:51.850
Cloud...

01:05:51.850 --> 01:05:52.590
Cloud-Init.

01:05:53.250 --> 01:05:54.230
User-Data.

01:05:55.530 --> 01:05:56.090
User-Data.

01:05:56.090 --> 01:05:56.610
User-Data.

01:05:56.770 --> 01:05:57.710
Haben die da ein Beispiel für?

01:05:57.770 --> 01:05:58.070
Nein, natürlich nicht.

01:05:58.090 --> 01:06:00.870
User-Data.

01:06:06.000 --> 01:06:08.680
Terraform Multiline Strings.

01:06:09.340 --> 01:06:10.680
Was ist der Unterschied zu Ansible?

01:06:12.280 --> 01:06:15.860
Die Schwerpunkte sind anders.

01:06:16.680 --> 01:06:20.000
Ansible ist dafür da, Systeme, die vorhanden sind, zu konfigurieren.

01:06:21.560 --> 01:06:25.720
Und Terraform ist da, Systeme, die nicht da sind, anzulegen.

01:06:26.240 --> 01:06:27.720
Du kannst das natürlich...

01:06:28.620 --> 01:06:30.720
...mit beidem...

01:06:30.940 --> 01:06:37.970
...zum gewissen Grad auch machen, was das jeweils andere Tool kann.

01:06:38.470 --> 01:06:42.810
Also du kannst mit Terraform auch zum gewissen Grad deine Server konfigurieren.

01:06:42.870 --> 01:06:47.170
Und du kannst mit Ansible auch bis zu einem gewissen Grad Infrastruktur anlegen.

01:06:48.030 --> 01:06:52.650
Wobei, man finde ich schon, den einen grundsätzlichen Unterschied sieht,

01:06:53.090 --> 01:06:55.790
sowas wie Terraform Destroy gibt es bei Ansible nicht.

01:06:55.790 --> 01:07:01.090
Also Ansible kann meines Wissens nach, kann sein, dass sich das mittlerweile geändert hat,

01:07:01.190 --> 01:07:02.310
aber würde mich wundern.

01:07:02.570 --> 01:07:06.010
Ansible kann beispielsweise nicht Playbooks rückgängig machen.

01:07:06.910 --> 01:07:07.710
Terraform schon.

01:07:09.270 --> 01:07:13.510
Also Terraform kann halt Sachen, die es angelegt hat, wieder rückstandslos entfernen.

01:07:14.030 --> 01:07:15.230
Das geht mit Ansible nicht.

01:07:15.530 --> 01:07:17.570
Mit Ansible musst du dann quasi in einem...

01:07:17.570 --> 01:07:21.330
Also mal angenommen, du hast mit Ansible eine Datei angelegt über dein Playbook, etc.

01:07:21.630 --> 01:07:27.650
Und du wirfst die aus deiner Ansible-Konfiguration raus, dann ist die weiterhin auf dem Server da.

01:07:28.770 --> 01:07:31.730
Du wirst das dann erstmal in Ansible quasi ein etc.

01:07:31.730 --> 01:07:31.810
Etc.

01:07:31.910 --> 01:07:32.150
Blub.

01:07:32.570 --> 01:07:33.690
Remove reinschreiben.

01:07:39.170 --> 01:07:42.610
Aber du kannst bis zum gewissen Teil mit beiden Tools beides machen.

01:07:46.920 --> 01:07:48.540
So, also wo sind wir stehen geblieben?

01:07:49.020 --> 01:07:50.880
Ähm, User-Data.

01:07:51.000 --> 01:07:51.840
Ja, wie kriege ich da...

01:07:51.840 --> 01:07:52.080
Okay.

01:07:52.960 --> 01:07:54.600
Terraform Cloud Init.

01:07:56.420 --> 01:07:56.620
Da.

01:07:56.920 --> 01:07:59.280
Das mag ich an den Terraform-Sachen auch.

01:07:59.780 --> 01:08:01.440
Die haben ganz gute Hilfeartikel.

01:08:03.900 --> 01:08:04.880
SSH-Key.

01:08:04.880 --> 01:08:05.680
Nee, wo mache ich hier?

01:08:05.760 --> 01:08:06.480
User-Data.

01:08:06.640 --> 01:08:07.400
User-Data.

01:08:08.320 --> 01:08:08.480
Nee.

01:08:09.200 --> 01:08:10.580
Einfach reinschreiben oder was?

01:08:15.180 --> 01:08:17.040
Terraform Multi-Line-Strings.

01:08:24.850 --> 01:08:32.490
Ich glaube, Terraform konnte diese Bash-Geschichte als für Multi-Line...

01:08:32.490 --> 01:08:33.030
Hier, das da.

01:08:33.370 --> 01:08:33.750
Das da.

01:08:35.370 --> 01:08:35.930
Hier dort machen.

01:08:38.740 --> 01:08:39.300
Genau.

01:08:40.320 --> 01:08:41.500
Kann ich das einfach so machen?

01:08:46.280 --> 01:08:49.180
Nee, das funktioniert so schon mal nicht.

01:08:52.340 --> 01:08:53.720
Ach so, ich darf es nicht quoten.

01:08:54.560 --> 01:08:54.980
Stimmt.

01:08:56.200 --> 01:08:58.440
Und wenn ich das noch richtig in Erinnerung habe...

01:08:58.440 --> 01:08:59.200
Ähm.

01:08:59.320 --> 01:09:02.760
Man muss ein Minus davor machen, sonst kann man es nämlich nicht einrücken.

01:09:04.160 --> 01:09:07.400
So, also wir brauchen jetzt ein kleines Skript.

01:09:08.620 --> 01:09:10.720
Und, ähm, das habe ich schon.

01:09:12.940 --> 01:09:15.080
Von einem der letzten Streams habe ich das noch.

01:09:15.960 --> 01:09:18.180
Ich muss mir das zumindest mal rauskopieren.

01:09:23.900 --> 01:09:25.380
Und dann hoffen wir, dass es funktioniert.

01:09:27.420 --> 01:09:27.600
So.

01:09:28.320 --> 01:09:29.700
Das braucht man normalerweise nicht.

01:09:29.780 --> 01:09:32.040
Das brauche nur ich jetzt beim Streamen.

01:09:32.200 --> 01:09:33.960
Was das macht, ist folgendes.

01:09:34.220 --> 01:09:37.520
Der baut jetzt einen Server auf mit dem Namen QChat1.

01:09:38.000 --> 01:09:40.240
Und danach lässt er dieses Skript laufen.

01:09:40.780 --> 01:09:42.660
Was dieses Skript macht, ist...

01:09:42.660 --> 01:09:45.880
Es geht in etc.ssh.sshd.config.

01:09:46.400 --> 01:09:53.040
Und löscht das SSH beim Einloggen, die IP des letzten Login zeigt.

01:09:55.160 --> 01:09:57.220
Also wenn ich nicht meine Vodafone IP...

01:09:58.800 --> 01:10:00.540
Wieso nicht über externe Datei einlesen?

01:10:00.600 --> 01:10:01.220
Kann man auch machen.

01:10:01.220 --> 01:10:04.100
Aber für die drei Zeilen brauche ich keine externe Datei.

01:10:04.220 --> 01:10:07.220
So, danach startet der SSH neu.

01:10:08.120 --> 01:10:13.820
Und wenn das jetzt funktioniert, kann ich mich auf der Kiste einloggen, ohne meine IP zu leaken.

01:10:19.660 --> 01:10:20.340
Auf geht's.

01:10:20.820 --> 01:10:21.220
Terraform.

01:10:21.780 --> 01:10:22.140
Plan.

01:10:23.400 --> 01:10:23.560
Ja.

01:10:23.860 --> 01:10:26.940
Übrigens, das hier, falls jetzt irgendjemand denkt, ich habe meinen Token geleakt.

01:10:26.980 --> 01:10:28.120
Nein, das ist nicht das Token.

01:10:28.740 --> 01:10:31.720
Das ist, ich glaube, Base64 encoded mein Skript.

01:10:37.060 --> 01:10:37.740
Okay, apply.

01:10:38.400 --> 01:10:38.620
Bam.

01:10:40.480 --> 01:10:40.920
Was?

01:10:42.020 --> 01:10:42.640
Ach so.

01:10:52.420 --> 01:10:53.020
Yes.

01:10:55.020 --> 01:10:55.540
Creating.

01:10:58.900 --> 01:11:00.160
Da wird er created.

01:11:04.640 --> 01:11:05.660
Server wird angelegt.

01:11:07.560 --> 01:11:09.340
Server wird provisioned.

01:11:12.540 --> 01:11:12.660
So.

01:11:13.060 --> 01:11:17.420
Gibt es eigentlich sowas wie Terraform List oder sowas?

01:11:19.640 --> 01:11:22.080
Dass ich mir anzeigen kann, was der gerade hat?

01:11:23.180 --> 01:11:23.520
Alles?

01:11:24.980 --> 01:11:25.120
Was?

01:11:27.750 --> 01:11:28.070
Ja.

01:11:32.960 --> 01:11:34.200
Terraform State.

01:11:35.000 --> 01:11:36.000
Terraform Show.

01:11:37.600 --> 01:11:38.720
Terraform Show.

01:11:39.940 --> 01:11:41.360
Ach ja, da, das meine ich.

01:11:41.460 --> 01:11:42.520
Genau, Show war es.

01:11:42.560 --> 01:11:42.920
So ist das.

01:11:43.420 --> 01:11:46.440
Also, ja, Public IP vom System.

01:11:46.740 --> 01:11:47.880
Wir sind hier, User Data.

01:11:48.320 --> 01:11:52.640
So, wenn ich jetzt alles richtig gemacht habe, dann kann ich mich einloggen.

01:11:53.580 --> 01:12:01.430
Und falscher SSH-Key?

01:12:04.330 --> 01:12:06.350
Moment, mal gucken, falscher SSH-Key vielleicht.

01:12:22.990 --> 01:12:26.580
Ähm, keine Ahnung.

01:12:29.610 --> 01:12:30.890
Nee, der legt nicht neue Keys an.

01:12:30.890 --> 01:12:31.050
Ich habe die nicht.

01:12:31.050 --> 01:12:31.090
Ich habe die nicht.

01:12:31.090 --> 01:12:31.190
Ich habe die nicht.

01:12:31.190 --> 01:12:31.210
Ich habe die nicht.

01:12:31.210 --> 01:12:31.250
Ich habe die nicht.

01:12:31.250 --> 01:12:31.270
Ich habe die nicht.

01:12:31.270 --> 01:12:31.310
Ich habe die nicht.

01:12:31.310 --> 01:12:31.370
Ich habe die nicht.

01:12:31.370 --> 01:12:31.410
Ich habe die nicht.

01:12:31.410 --> 01:12:31.450
Ich habe die nicht.

01:12:31.450 --> 01:12:31.470
Ich habe die nicht.

01:12:31.470 --> 01:12:31.510
Ich habe die nicht.

01:12:31.510 --> 01:12:31.530
Ich habe die nicht.

01:12:31.530 --> 01:12:31.550
Ich habe die nicht.

01:12:31.550 --> 01:12:33.950
Er soll Max & Poggers verwenden.

01:12:34.370 --> 01:12:35.790
Wir können mal nachgucken.

01:12:36.390 --> 01:12:38.670
Ich brauche das nie nach dem Anlegen.

01:12:39.090 --> 01:12:41.590
Wo sieht man überhaupt, welche Keys hier ausgewählt sind?

01:12:42.430 --> 01:12:42.730
Ähm.

01:12:44.310 --> 01:12:46.190
Sieht man das überhaupt nachträglich noch?

01:12:53.620 --> 01:12:54.900
Sieht man das überhaupt nachträglich?

01:13:02.460 --> 01:13:03.920
Hm, wo könnte das stehen?

01:13:06.780 --> 01:13:07.300
Networking?

01:13:14.980 --> 01:13:16.600
Das Security gibt es doch hier gar nicht.

01:13:17.120 --> 01:13:18.140
Security gibt es links.

01:13:19.780 --> 01:13:21.820
Nee, ich glaube, das kann man nachträglich nicht mehr sehen.

01:13:25.010 --> 01:13:25.350
Ja, nee.

01:13:25.350 --> 01:13:27.470
Ich will noch wissen, ob der für den Server

01:13:27.470 --> 01:13:29.570
das Richtige ausgewählt hat.

01:13:31.570 --> 01:13:33.490
Also, anscheinend schon

01:13:33.490 --> 01:13:34.550
Max at Poggers.

01:13:36.570 --> 01:13:37.710
Okay, dann probieren wir es

01:13:37.710 --> 01:13:39.310
doch mal nochmal aus. Also, guck mal.

01:13:39.510 --> 01:13:41.350
Wir sind jetzt relativ schnell im Ausprobieren.

01:13:41.430 --> 01:13:43.150
Jetzt können wir irgendwie sagen, Destroy. Bam.

01:13:43.510 --> 01:13:44.750
Yes, jetzt ist der Server weg.

01:13:46.530 --> 01:13:47.590
Doch, ich kann über das

01:13:47.590 --> 01:13:49.630
Webinterface, aber das ist ja nicht so ein Zweck der Sache.

01:13:53.640 --> 01:13:54.320
Ne, die

01:13:54.320 --> 01:13:56.220
gute Frage, wo das Date

01:13:56.220 --> 01:13:57.120
gespeichert wird.

01:13:58.260 --> 01:13:58.700
Hier.

01:14:00.120 --> 01:14:00.440
Hier.

01:14:01.160 --> 01:14:02.140
Also, du kannst

01:14:02.140 --> 01:14:05.040
am besten

01:14:05.040 --> 01:14:06.540
machst du gleich eine schöne

01:14:06.540 --> 01:14:10.830
Git-Ignore-Datei.

01:14:11.270 --> 01:14:12.730
Ich weiß nicht, was Best Practice ist,

01:14:12.770 --> 01:14:14.690
ob man State eincheckt oder nicht, aber ich würde

01:14:14.690 --> 01:14:16.870
eher vermuten, nein, man checkt State nicht an.

01:14:20.260 --> 01:14:21.300
So, wir machen

01:14:21.300 --> 01:14:23.400
jetzt Test, Add,

01:14:24.160 --> 01:14:25.060
Add, Test.

01:14:25.500 --> 01:14:27.260
Meckert der eigentlich, wenn ich was angebe,

01:14:27.340 --> 01:14:29.300
was es nicht gibt? Das probieren wir jetzt mal

01:14:29.300 --> 01:14:30.320
kurz aus. Apply.

01:14:31.740 --> 01:14:32.340
Ja, ja, yes.

01:14:44.300 --> 01:14:45.300
Der Created nicht.

01:14:46.440 --> 01:14:47.060
Das juckt dir nicht.

01:14:52.160 --> 01:14:54.000
SSH Keynot Found. Okay.

01:14:54.540 --> 01:14:55.560
Der checkt das schon.

01:15:00.200 --> 01:15:01.300
Der, okay.

01:15:01.300 --> 01:15:03.200
Dann habe ich vielleicht einfach den

01:15:03.200 --> 01:15:04.100
falschen Key genommen.

01:15:04.920 --> 01:15:07.200
Gibt es sowas wie Apply minus

01:15:07.200 --> 01:15:08.440
Y oder so?

01:15:11.010 --> 01:15:11.210
Nein.

01:15:12.950 --> 01:15:14.610
Kann man nicht gleich sagen, yes?

01:15:16.230 --> 01:15:16.430
Ja.

01:15:17.090 --> 01:15:18.050
Auto-Approve.

01:15:21.270 --> 01:15:21.950
Apply. Bam.

01:15:24.150 --> 01:15:24.790
So, aber gucken wir mal,

01:15:24.790 --> 01:15:26.350
ob ich mich jetzt danach drauf einloggen kann.

01:15:32.270 --> 01:15:33.250
Die Instanz gibt es nicht.

01:15:33.350 --> 01:15:34.790
Ne, du hast gesehen, der hat nichts angelegt.

01:15:36.530 --> 01:15:38.450
Der hat alles wieder rückgängig gemacht.

01:15:38.570 --> 01:15:39.610
Beziehungsweise, ich glaube, Hetzner

01:15:39.610 --> 01:15:41.770
hat in der API-Abfrage schon gesagt,

01:15:41.870 --> 01:15:43.730
nö, gibt es nicht. So, State.

01:15:45.970 --> 01:15:46.890
Ne, Show.

01:15:48.130 --> 01:15:49.690
Show war es. Hier, da sind wir.

01:15:50.690 --> 01:15:51.830
SSH, Root, Add.

01:15:56.370 --> 01:15:57.770
SSH, Keygen.

01:15:59.270 --> 01:16:00.050
Minus R.

01:16:01.450 --> 01:16:02.470
Yes.

01:16:04.030 --> 01:16:04.350
Haha.

01:16:06.210 --> 01:16:07.290
Da sind wir.

01:16:09.050 --> 01:16:10.790
Und der Login steht nicht drin.

01:16:10.850 --> 01:16:12.710
Moment, der Login steht immer erst beim zweiten Mal drin.

01:16:13.650 --> 01:16:14.990
Der Login steht nicht drin.

01:16:15.270 --> 01:16:16.410
Es hat funktioniert, Leute.

01:16:18.870 --> 01:16:19.470
Update.

01:16:20.790 --> 01:16:21.810
So, Server ist da.

01:16:22.330 --> 01:16:23.210
Ist angelegt.

01:16:29.570 --> 01:16:31.760
So.

01:16:32.380 --> 01:16:32.940
Destroy.

01:16:32.940 --> 01:16:34.260
Destroy. Bam.

01:16:37.340 --> 01:16:38.420
Und jetzt kann ich das Ding wieder löschen.

01:16:38.900 --> 01:16:40.680
Ja, das ist natürlich cool.

01:16:41.500 --> 01:16:43.600
Also, mit der Geschwindigkeit hast du definitiv

01:16:43.600 --> 01:16:43.980
im

01:16:43.980 --> 01:16:46.880
Auto-Approve.

01:16:47.000 --> 01:16:48.580
Immer Auto-Approve. Alles weg.

01:16:49.660 --> 01:16:51.660
Da hast du eher nicht das Problem.

01:16:52.660 --> 01:16:53.860
Da bist du auf jeden Fall

01:16:53.860 --> 01:16:55.920
langsamer im Web-Interface.

01:16:57.400 --> 01:16:57.660
Zack.

01:16:57.740 --> 01:16:58.880
Und alles wieder weg. Gut.

01:16:59.300 --> 01:17:01.700
Jetzt machen wir noch eine Sache in unser Aufbauskript.

01:17:01.980 --> 01:17:02.900
Beziehungsweise in unser

01:17:02.900 --> 01:17:04.520
Cloud-Init-Skript.

01:17:06.440 --> 01:17:06.920
Update.

01:17:06.920 --> 01:17:08.840
Update. Upgrade. Fertig.

01:17:08.900 --> 01:17:13.530
Äh. Ich mach das jetzt ohne Ansible.

01:17:13.530 --> 01:17:15.910
An der Stelle brauch ich ja für die paar Sachen wirklich kein Ansible.

01:17:15.910 --> 01:17:17.010
So. Fertig.

01:17:17.010 --> 01:17:19.490
So, und jetzt probieren wir drei Server anzulegen.

01:17:19.490 --> 01:17:21.970
Da muss ich... Wie geht das mit dem Index?

01:17:23.970 --> 01:17:24.770
Count.

01:17:24.770 --> 01:17:27.250
Count ist ein Meta-Argument.

01:17:27.250 --> 01:17:30.450
Defined by Terraform Language.

01:17:30.450 --> 01:17:32.450
Count Index.

01:17:32.450 --> 01:17:43.630
Also, im Prinzip...

01:17:43.630 --> 01:17:45.630
So was?

01:17:45.630 --> 01:17:47.630
Ich nenne das einfach mal Node.

01:17:47.630 --> 01:17:48.830
Dann...

01:17:48.830 --> 01:17:49.750
Muss das Unix sein?

01:17:49.750 --> 01:17:51.750
Oder checkt der das automatisch?

01:17:51.750 --> 01:17:53.750
COVID-19...

01:17:53.750 --> 01:17:55.750
COVID-9...

01:17:55.750 --> 01:17:57.750
910 ist krank.

01:17:57.750 --> 01:17:59.750
Das ist schlecht.

01:17:59.750 --> 01:18:10.040
MonkaS.

01:18:10.040 --> 01:18:12.040
Kein Reboot?

01:18:12.040 --> 01:18:16.180
Ehrlich gesagt...

01:18:16.180 --> 01:18:18.180
Nee.

01:18:18.180 --> 01:18:22.900
Das dauert dann nämlich zu lang, wenn ich reboote.

01:18:22.900 --> 01:18:24.900
Was? Du musst noch...

01:18:24.900 --> 01:18:29.370
Ah. Ach, so geht das.

01:18:29.370 --> 01:18:31.370
Ah, ja.

01:18:31.370 --> 01:18:33.370
Also quasi...

01:18:33.370 --> 01:18:35.370
Vier Stück?

01:18:35.370 --> 01:18:37.370
Oder drei Stück?

01:18:37.370 --> 01:18:39.370
Und dann...

01:18:39.370 --> 01:18:41.370
Qt, Chat, Node...

01:18:41.370 --> 01:18:45.260
Node.

01:18:45.260 --> 01:18:47.260
Irgendwie so.

01:18:47.260 --> 01:18:49.260
Weiß gar nicht, konnte man überhaupt...

01:18:49.260 --> 01:18:51.260
Dürfte man Underscores machen in Servernamen bei Hetzner?

01:18:51.260 --> 01:18:53.260
Irgendwo war das nicht erlaubt.

01:18:53.260 --> 01:18:55.260
Ist Ansible so was ähnliches wie Formen?

01:18:55.260 --> 01:18:57.260
Nee, das ist was komplett anderes.

01:18:57.260 --> 01:18:59.260
Formen ist ein...

01:18:59.260 --> 01:19:01.260
Wie sagen sie offiziell?

01:19:01.260 --> 01:19:03.260
Lifecycle-Management-Ding?

01:19:03.260 --> 01:19:05.260
Im Prinzip ist Formen ein Web-Interface,

01:19:05.260 --> 01:19:07.260
wo du Server anlegst und dann

01:19:07.260 --> 01:19:09.260
von Puppet oder Ansible als Inventar

01:19:09.260 --> 01:19:11.260
verwenden kannst.

01:19:11.260 --> 01:19:13.260
Das kann man ganz ehrlich...

01:19:13.260 --> 01:19:15.260
Das, was man mit Formen macht,

01:19:15.260 --> 01:19:17.260
kannst du auch mit einem großen YAML-File machen.

01:19:17.260 --> 01:19:19.260
Wir haben auf der Arbeit auch Formen.

01:19:19.260 --> 01:19:21.260
Ich mag das Tool nicht sonderlich gern.

01:19:21.260 --> 01:19:25.780
Aber vielleicht...

01:19:25.780 --> 01:19:27.780
Wir gucken mal. Ich mach mal doch ein Reboot

01:19:27.780 --> 01:19:29.780
und mal gucken, wie lang das braucht jetzt insgesamt.

01:19:29.780 --> 01:19:36.900
Also...

01:19:36.900 --> 01:19:38.900
Destroy hab ich schon.

01:19:38.900 --> 01:19:40.900
Apply.

01:19:40.900 --> 01:19:42.900
Wir sollten jetzt, wenn das funktioniert,

01:19:42.900 --> 01:19:44.900
wir sollten 3 Server bekommen,

01:19:44.900 --> 01:19:46.900
die QChat-Node haben.

01:19:46.900 --> 01:19:48.900
Es kann aber sein, dass Underscore bei Hetzner

01:19:48.900 --> 01:19:52.540
in Servernamen nicht erlaubt ist.

01:19:52.540 --> 01:19:54.540
Ach ja, und jetzt ein weiterer Vorteil

01:19:54.540 --> 01:19:56.540
von Terraform zu von Hand ist,

01:19:56.540 --> 01:19:58.540
von Hand müsste ich die Server

01:19:58.540 --> 01:20:00.540
der Reihe nach durchklicken.

01:20:00.540 --> 01:20:02.540
Terraform kann das bis zu 10 Server gleichzeitig,

01:20:02.540 --> 01:20:04.540
ich glaub, das ist Default-Setting,

01:20:04.540 --> 01:20:09.320
parallel anlegen.

01:20:09.320 --> 01:20:11.320
Terraform Apply.

01:20:11.320 --> 01:20:16.420
Bam.

01:20:16.420 --> 01:20:18.420
Oh. Okay. Alles klar.

01:20:18.420 --> 01:20:24.620
Ich darf keine Underscores verwenden.

01:20:24.620 --> 01:20:26.620
Creating.

01:20:26.620 --> 01:20:28.620
Und ihr werdet sehen gleich...

01:20:28.620 --> 01:20:30.620
Zack.

01:20:30.620 --> 01:20:32.620
3 neue Cluster-Nodes

01:20:32.620 --> 01:20:37.910
am Start.

01:20:37.910 --> 01:20:39.910
So, und jetzt kommt natürlich

01:20:39.910 --> 01:20:41.910
der DevOps Any% Speedrun, Leute.

01:20:43.910 --> 01:20:45.910
Wir müssen mal kurz unsere Terraform-Sachen

01:20:45.910 --> 01:20:47.910
für 2 Minuten unterbrechen,

01:20:47.910 --> 01:20:49.910
weil mir ist gerade ein Problem eingefallen,

01:20:49.910 --> 01:20:51.910
was mich theoretisch extrem abfacken würde.

01:20:51.910 --> 01:20:59.830
Ja, genau.

01:20:59.830 --> 01:21:01.830
Terraform

01:21:01.830 --> 01:21:03.830
kann KVM,

01:21:03.830 --> 01:21:05.830
allerdings nicht von Haus aus.

01:21:05.830 --> 01:21:07.830
Es gibt aber ein Plugin, KVM.

01:21:07.830 --> 01:21:09.830
Du kannst ESX machen.

01:21:09.830 --> 01:21:11.830
Du kannst mehr oder weniger

01:21:11.830 --> 01:21:13.830
die meisten...

01:21:13.830 --> 01:21:15.830
Du kannst auch Docker-Container damit anlegen

01:21:15.830 --> 01:21:17.830
und sowas. Also ja, kannst du lokal auch machen.

01:21:17.830 --> 01:21:19.830
Ich finde das sogar eigentlich eine ganz coole Sache.

01:21:19.830 --> 01:21:21.830
Ich meine, nur weil da Cloud dransteht,

01:21:21.830 --> 01:21:46.390
kann man das lokal auch verwenden.

01:21:46.390 --> 01:21:48.390
Was benutzt du für ein Desktop-Environment?

01:21:48.390 --> 01:21:50.390
Das ist Manjaro.

01:21:50.390 --> 01:21:52.390
Also nicht Arch, by the way,

01:21:52.390 --> 01:21:54.390
als Manjaro-User sagt, man benutzt Arch

01:21:54.390 --> 01:21:56.390
und

01:21:56.390 --> 01:21:58.390
I3-VM.

01:21:58.390 --> 01:22:00.390
So, jetzt checken wir mal, ob wir uns drauf einloggen können.

01:22:00.390 --> 01:22:02.390
QChat, Node,

01:22:02.390 --> 01:22:04.390
1, ssh, root, add.

01:22:04.390 --> 01:22:12.500
Hehe.

01:22:12.500 --> 01:22:15.820
Das ist der Reboot, den ich

01:22:15.820 --> 01:22:23.100
eingebaut habe.

01:22:23.100 --> 01:22:25.100
Jetzt muss ich mal kurz auf meinen Reboot warten.

01:22:25.100 --> 01:22:27.100
Deswegen mag ich das mit dem Reboot

01:22:27.100 --> 01:22:29.100
nicht, denn...

01:22:29.100 --> 01:22:31.100
Jetzt kann ich das nämlich auch nochmal erklären.

01:22:31.100 --> 01:22:33.100
Warum ich der Meinung bin,

01:22:33.100 --> 01:22:35.100
muss nicht unbedingt sein.

01:22:35.100 --> 01:22:37.100
Weil,

01:22:37.100 --> 01:22:39.100
wenn man das System öfters

01:22:39.100 --> 01:22:41.100
neu aufbaut, hat es automatisch...

01:22:41.100 --> 01:22:43.100
Also ich würde das System gar nicht rebooten.

01:22:43.100 --> 01:22:45.100
Ich würde das System einfach neu aufbauen,

01:22:45.100 --> 01:22:47.100
wenn ich einen

01:22:47.100 --> 01:22:49.100
Loadbalancer davor habe und Updates machen will.

01:22:49.100 --> 01:22:51.100
Das ist

01:22:51.100 --> 01:22:53.100
wahrscheinlich die einfachere Variante.

01:22:53.100 --> 01:22:55.100
Gut, man ist dann halt nicht super

01:22:55.100 --> 01:22:57.100
aktuell, sondern irgendwie

01:22:57.100 --> 01:22:59.100
2-3 Tage alt, bis Hetzner

01:22:59.100 --> 01:23:01.100
das Image aktualisiert.

01:23:01.100 --> 01:23:08.090
Alter!

01:23:08.090 --> 01:23:12.620
Kackel!

01:23:12.620 --> 01:23:20.920
Da sind wir wieder.

01:23:20.920 --> 01:23:22.920
Ich könnte das nutzen, wenn ein Reboot

01:23:22.920 --> 01:23:31.420
indicated ist.

01:23:31.420 --> 01:23:33.420
Ich weiß nicht, ob Terraform sowas kann.

01:23:33.420 --> 01:23:35.420
Terraform, ssh...

01:23:35.420 --> 01:23:37.420
Aber du hast das Richtige erkannt.

01:23:37.420 --> 01:23:39.420
Wisst ihr, was mir gerade eingefallen ist?

01:23:39.420 --> 01:23:41.420
Weshalb wir unsere Terraform

01:23:41.420 --> 01:23:43.420
Sache für 2 Minuten mal unterbrechen müssen.

01:23:43.420 --> 01:23:45.420
Und zwar...

01:23:45.420 --> 01:23:47.420
Ähm...

01:23:47.420 --> 01:23:49.420
Wir könnten jetzt

01:23:49.420 --> 01:23:51.420
Folgendes machen.

01:23:51.420 --> 01:23:53.420
Der Login ist

01:23:53.420 --> 01:23:55.420
jetzt halt ziemlicher Abfuck.

01:23:55.420 --> 01:23:57.420
Wir könnten jetzt aber sagen,

01:23:57.420 --> 01:23:59.420
hcloud server list

01:23:59.420 --> 01:24:01.420
und dann sehen wir hier, das sind unsere Server.

01:24:01.420 --> 01:24:03.420
Wir könnten jetzt folgendes machen.

01:24:03.420 --> 01:24:05.420
Passt mal auf.

01:24:05.420 --> 01:24:07.420
Massive, Massive, Fifat.

01:24:07.420 --> 01:24:09.420
Enter, Enter, Tilde...

01:24:09.420 --> 01:24:11.420
Das kenne ich noch nicht.

01:24:11.420 --> 01:24:13.420
Wir können jetzt Massive, Massive, Fifat

01:24:13.420 --> 01:24:15.420
machen hier. Passt mal auf.

01:24:15.420 --> 01:24:17.420
Bin mal gespannt, ob ich das so aus dem Stehgreif

01:24:17.420 --> 01:24:19.420
was hinkriege. Wir könnten uns jetzt

01:24:19.420 --> 01:24:21.420
automatisches Menü basteln zum Einloggen.

01:24:21.420 --> 01:24:23.420
Also, ssh

01:24:23.420 --> 01:24:25.420
root, add

01:24:25.420 --> 01:24:27.420
Zack.

01:24:27.420 --> 01:24:29.420
Ähm... Okay, Moment.

01:24:29.420 --> 01:24:31.420
Das muss ich mal anders machen.

01:24:31.420 --> 01:24:33.420
hcloud grep

01:24:33.420 --> 01:24:35.420
Wenn's geht, zeige ich euch, was ich meine.

01:24:35.420 --> 01:24:37.420
hcloud grep

01:24:37.420 --> 01:24:39.420
Ähm...

01:24:39.420 --> 01:24:41.420
Hä? Kann das...

01:24:41.420 --> 01:24:43.420
Muss das das zwangsläufig

01:24:43.420 --> 01:24:45.420
in CSV auflisten?

01:24:45.420 --> 01:24:47.420
Das ist ja eklig.

01:24:47.420 --> 01:24:49.420
Awk

01:24:49.420 --> 01:24:52.730
awk

01:24:52.730 --> 01:24:54.730
awk-syntax, Leute.

01:24:54.730 --> 01:24:56.730
Print, Dollar, 2,

01:24:56.730 --> 01:24:58.730
so, ah, okay,

01:24:58.730 --> 01:25:00.730
nice, nice, six hat time.

01:25:00.730 --> 01:25:05.260
Ähm...

01:25:05.260 --> 01:25:07.260
Aber mehr, mehr...

01:25:07.260 --> 01:25:18.500
Okay.

01:25:18.500 --> 01:25:20.500
Du hast recht.

01:25:20.500 --> 01:25:22.500
Nee, nicht tail,

01:25:22.500 --> 01:25:24.500
nicht tail minus 3,

01:25:24.500 --> 01:25:26.500
hat, nee,

01:25:26.500 --> 01:25:28.500
oder war das tail, dass man die erste Zeile

01:25:28.500 --> 01:25:31.880
abschneidet?

01:25:31.880 --> 01:25:33.880
Oder tail, oder hat?

01:25:33.880 --> 01:25:35.880
War das head?

01:25:35.880 --> 01:25:39.900
Nee, Moment, ähm...

01:25:39.900 --> 01:25:41.900
Head plus 1?

01:25:41.900 --> 01:25:47.260
Warte mal.

01:25:47.260 --> 01:25:49.260
Head, remove, first line.

01:25:49.260 --> 01:25:55.960
Ach, tail minus n

01:25:55.960 --> 01:25:57.960
plus 2, okay.

01:25:57.960 --> 01:26:02.230
Alles klar, das wusste ich

01:26:02.230 --> 01:26:06.250
aus dem Kopf nicht.

01:26:06.250 --> 01:26:08.250
So, und guckt mal, nur mal so die, also, nur mal so

01:26:08.250 --> 01:26:10.250
als Idee, was ich jetzt grad machen, was ich jetzt

01:26:10.250 --> 01:26:12.250
grad machen will, wo ich grad...

01:26:12.250 --> 01:26:14.250
Print, Dollar,

01:26:14.250 --> 01:26:16.250
4.

01:26:16.250 --> 01:26:18.250
Und jetzt, und jetzt, passt mal auf,

01:26:18.250 --> 01:26:23.160
und jetzt haben wir ne Liste,

01:26:23.160 --> 01:26:25.160
die wir auswählen können.

01:26:25.160 --> 01:26:27.160
Das heißt, theoretisch könnte ich jetzt sowas

01:26:27.160 --> 01:26:29.160
machen, ssh, root,

01:26:29.160 --> 01:26:31.160
add, das da,

01:26:31.160 --> 01:26:36.650
und jetzt,

01:26:36.650 --> 01:26:38.650
hätt's da, mag

01:26:38.650 --> 01:26:40.650
das nicht, dass ich das so oft abfrage, oder so,

01:26:40.650 --> 01:26:42.650
glaub ich, und jetzt

01:26:42.650 --> 01:26:44.650
kann ich auswählen, den Server,

01:26:44.650 --> 01:26:46.650
und er macht automatisch

01:26:46.650 --> 01:26:48.650
ssh-login. Ist das nicht

01:26:48.650 --> 01:26:55.740
pock?

01:26:55.740 --> 01:26:57.740
Was ist

01:26:57.740 --> 01:27:04.380
FZF?

01:27:04.380 --> 01:27:06.380
FZF ist ein

01:27:06.380 --> 01:27:08.380
Command Line Fuzzy

01:27:08.380 --> 01:27:10.380
Finder. Hat

01:27:10.380 --> 01:27:12.380
auch, hat auch, äh,

01:27:12.380 --> 01:27:14.380
ziemlich

01:27:14.380 --> 01:27:16.380
viele Sterne, 45.000

01:27:16.380 --> 01:27:18.380
Sterne mittlerweile.

01:27:18.380 --> 01:27:25.430
Meine Güte.

01:27:25.430 --> 01:27:27.430
Ja, du hast recht, wir können das,

01:27:27.430 --> 01:27:29.430
wir können das noch verbessern, ja,

01:27:29.430 --> 01:27:31.430
unser Skript ist noch nicht frei fertig genug,

01:27:31.430 --> 01:27:33.430
ähm, wir machen das so,

01:27:33.430 --> 01:27:35.430
wir, wir machen das mit

01:27:35.430 --> 01:27:37.430
dem AWK raus, wir machen

01:27:37.430 --> 01:27:39.430
so, FZF,

01:27:39.430 --> 01:27:41.430
ja,

01:27:41.430 --> 01:27:43.430
ähm, und dann

01:27:43.430 --> 01:27:45.430
speichern wir das, keine Ahnung,

01:27:45.430 --> 01:27:47.430
result, speichern wir da drin,

01:27:47.430 --> 01:27:51.580
echo,

01:27:51.580 --> 01:27:53.580
$result,

01:27:53.580 --> 01:27:55.580
und da

01:27:55.580 --> 01:27:57.580
machen wir jetzt das AWK hinter,

01:27:57.580 --> 01:27:59.580
ich hoffe, dass das funzt, was ich da

01:27:59.580 --> 01:28:01.580
jetzt mache, $2,

01:28:01.580 --> 01:28:03.580
ne,

01:28:03.580 --> 01:28:05.580
$4 war's,

01:28:05.580 --> 01:28:07.580
ja, genau,

01:28:07.580 --> 01:28:12.490
ja, das kann ich machen,

01:28:12.490 --> 01:28:14.490
so, und das Ganze

01:28:14.490 --> 01:28:16.490
jetzt, root, add,

01:28:16.490 --> 01:28:18.490
Alter, haha, was ein Ding, ey,

01:28:18.490 --> 01:28:24.040
funzt, okay,

01:28:24.040 --> 01:28:26.040
also,

01:28:26.040 --> 01:28:28.040
das ist tatsächlich ganz nützlich, muss ich

01:28:28.040 --> 01:28:30.040
sagen, ich glaub, sowas sollte ich mir für die Arbeit

01:28:30.040 --> 01:28:32.040
auch mal bauen, mit unseren ganzen SSH-Dingern,

01:28:32.040 --> 01:28:37.270
ich kann es auf dem,

01:28:37.270 --> 01:28:39.270
aus dem FZF wieder rauspipen,

01:28:39.270 --> 01:28:41.270
du hast recht, ich kann's aus dem, aus dem FZF

01:28:41.270 --> 01:28:43.270
wieder rauspipen, ich brauch das gar nicht

01:28:43.270 --> 01:28:45.270
zwischenspeichern.

01:28:45.270 --> 01:28:47.270
Stimmt.

01:28:47.270 --> 01:28:52.060
Einfach so, ne,

01:28:52.060 --> 01:28:54.060
hä, ich glaub, Hetzner drosselt mich schon,

01:28:54.060 --> 01:28:56.060
jetzt krieg ich ne Auswahl mit allen

01:28:56.060 --> 01:28:58.060
Nodes, die ich laufen hab, sag ich will mich

01:28:58.060 --> 01:29:00.060
auf den verbinden, zack,

01:29:00.060 --> 01:29:02.060
oh, das ist cool, das gefällt mir,

01:29:02.060 --> 01:29:04.060
ich glaube, sowas muss ich mir, ich glaub,

01:29:04.060 --> 01:29:06.060
sowas muss ich mir für die Arbeit bauen, für alle,

01:29:06.060 --> 01:29:08.060
für alle Kisten, ich mein, ich hab dann halt

01:29:08.060 --> 01:29:10.060
3000 Linux-Kisten in der Auswahl, aber das

01:29:10.060 --> 01:29:12.060
macht ja nix, haha, das ist trotzdem

01:29:12.060 --> 01:29:14.060
schnell durchsucht, okay,

01:29:14.060 --> 01:29:16.060
edits, ZSH,

01:29:16.060 --> 01:29:18.060
äh, alias,

01:29:18.060 --> 01:29:20.060
äh,

01:29:20.060 --> 01:29:22.060
SSH,

01:29:22.060 --> 01:29:24.060
mir fällt, mir fällt grad nix anderes ein,

01:29:24.060 --> 01:29:26.060
äh, gleich das da,

01:29:28.060 --> 01:29:30.060
so,

01:29:30.060 --> 01:29:32.060
hups, äh, wobei, war gar, war

01:29:32.060 --> 01:29:34.060
gar nicht so schlecht, hups,

01:29:34.060 --> 01:29:36.060
Moment,

01:29:36.060 --> 01:29:38.060
w, warte mal,

01:29:38.060 --> 01:29:44.820
hab ich irgendwas, ah,

01:29:44.820 --> 01:29:46.820
nee, nee, nee, Moment, das ist jetzt natürlich bescheuert,

01:29:46.820 --> 01:29:53.460
äh, wie, wie mach ich

01:29:53.460 --> 01:29:55.460
ein,

01:29:55.460 --> 01:29:57.460
warte mal, wie setz ich ein Alias mit,

01:29:57.460 --> 01:29:59.460
muss ich das,

01:29:59.460 --> 01:30:01.460
so machen, und dann

01:30:01.460 --> 01:30:05.290
da drinne,

01:30:05.290 --> 01:30:13.460
ups, warte,

01:30:13.460 --> 01:30:15.460
SSH,

01:30:15.460 --> 01:30:17.460
fuck, geht nicht,

01:30:17.460 --> 01:30:19.460
aber ich, ich, ich hab irgendwas verkehrt

01:30:19.460 --> 01:30:21.460
gemacht hier, SSH,

01:30:21.460 --> 01:30:28.170
root, add, da fehlt

01:30:28.170 --> 01:30:30.170
noch ne Klammer,

01:30:30.170 --> 01:30:32.170
äh, wo,

01:30:32.170 --> 01:30:38.170
was, ich muss die Dinger escapen,

01:30:38.170 --> 01:30:41.930
nee, am Ende fehlt

01:30:41.930 --> 01:30:46.390
keine Klammer, nee,

01:30:46.390 --> 01:30:48.390
wo soll da ne Klammer fehlen, hier ist ne Klammer,

01:30:48.390 --> 01:30:50.390
nee, warum sollte da ne,

01:30:50.390 --> 01:30:52.390
was,

01:30:52.390 --> 01:30:54.390
ah,

01:30:54.390 --> 01:30:56.390
ihr habt recht, da,

01:30:56.390 --> 01:31:03.480
da fehlt die Klammer,

01:31:03.480 --> 01:31:06.920
Chat hat immer recht,

01:31:06.920 --> 01:31:08.920
ah, oft, oft,

01:31:08.920 --> 01:31:10.920
oft hat der Chat recht, das liegt

01:31:10.920 --> 01:31:12.920
aber nur an den ganzen Prime-Subs,

01:31:12.920 --> 01:31:14.920
weil die Leute mittlerweile einfach massive

01:31:14.920 --> 01:31:16.920
high IQ haben, ok,

01:31:16.920 --> 01:31:24.260
Funs, oder auch nicht,

01:31:24.260 --> 01:31:34.940
funktioniert nicht,

01:31:34.940 --> 01:31:36.940
nicht, nicht, nicht high IQ

01:31:36.940 --> 01:31:44.020
genug gewesen,

01:31:44.020 --> 01:31:46.020
ok, wisst ihr was, wisst ihr was,

01:31:46.020 --> 01:31:48.020
ich, ich,

01:31:48.020 --> 01:31:56.390
wir machen das jetzt anders,

01:31:56.390 --> 01:31:58.390
mein AWK braucht tatsächlich,

01:31:58.390 --> 01:32:00.390
ja, so, und ich denke,

01:32:02.390 --> 01:32:04.390
dass ich das so machen kann,

01:32:04.390 --> 01:32:11.740
an der Stelle,

01:32:11.740 --> 01:32:16.010
also, Struggle is real, äh,

01:32:16.010 --> 01:32:18.010
ja, ich glaube auch, ich glaube der Alias

01:32:18.010 --> 01:32:20.010
tut's, tut's nicht, ja,

01:32:20.010 --> 01:32:22.010
ok, Function,

01:32:22.010 --> 01:32:24.010
Keckel, ey,

01:32:24.010 --> 01:32:29.940
HSSH,

01:32:29.940 --> 01:32:31.940
der Alias ist dazu,

01:32:31.940 --> 01:32:35.260
zu schlecht,

01:32:35.260 --> 01:32:37.260
für,

01:32:37.260 --> 01:32:39.260
so, jetzt aber, ha,

01:32:39.260 --> 01:32:46.220
ah,

01:32:46.220 --> 01:32:48.220
ja, so, nice,

01:32:48.220 --> 01:32:50.220
so ist das doch schon

01:32:50.220 --> 01:32:52.220
besser, so, und jetzt kann ich jedes

01:32:52.220 --> 01:32:54.220
Mal, wartet mal,

01:32:54.220 --> 01:32:56.220
hier mal anladen, kurz

01:32:56.220 --> 01:32:58.220
anmachen, und jetzt kann ich jedes Mal,

01:32:58.220 --> 01:33:00.220
äh, repo,

01:33:00.220 --> 01:33:02.220
repo, kekw,

01:33:02.220 --> 01:33:04.220
S2 Service, da sind wir, Infra,

01:33:04.220 --> 01:33:06.220
so, und jetzt kann ich jedes Mal, wenn ich

01:33:06.220 --> 01:33:08.220
den Kram, guck mal, guck mal, wie, wie nice das ist!

01:33:08.220 --> 01:33:10.340
das ist. Mal angenommen, ich mache jetzt, ich schmeiße

01:33:10.340 --> 01:33:12.240
jetzt meine ganze Server-Infrastruktur wieder

01:33:12.240 --> 01:33:13.460
weg. Bam, destroy.

01:33:14.120 --> 01:33:15.800
Alle Kisten wieder weg. Zack.

01:33:16.640 --> 01:33:17.960
Den Reboot mache ich, by the way,

01:33:18.240 --> 01:33:19.760
weg. Der ist useless.

01:33:21.260 --> 01:33:21.400
So.

01:33:23.480 --> 01:33:23.920
Apply.

01:33:26.430 --> 01:33:27.830
Lass ich jetzt die Server neu aufbauen.

01:33:29.390 --> 01:33:29.830
Jetzt ändern

01:33:29.830 --> 01:33:31.610
sich die IPs und jetzt ändern sich die

01:33:31.610 --> 01:33:33.310
IDs und alles mögliche.

01:33:35.710 --> 01:33:37.510
Und jetzt sind die Server neu aufgebaut.

01:33:37.510 --> 01:33:41.610
Und jetzt sage ich einfach

01:33:41.610 --> 01:33:43.650
H-S-S-H

01:33:43.650 --> 01:33:45.390
und

01:33:45.390 --> 01:33:47.430
zack, habe ich die neuen IPs drin und kann

01:33:47.430 --> 01:33:48.410
sagen, ach, ich will da hin.

01:33:49.430 --> 01:33:50.450
Okay, der Server ist noch nicht da.

01:33:52.270 --> 01:33:53.910
War vielleicht

01:33:53.910 --> 01:33:55.270
ein bisschen zu schnell.

01:33:55.710 --> 01:33:57.390
Und jetzt habe ich schon die neuen IPs und alles

01:33:57.390 --> 01:34:01.950
drin. Das ist sehr nice.

01:34:02.050 --> 01:34:02.670
Das gefällt mir.

01:34:05.350 --> 01:34:05.470
Ja.

01:34:06.850 --> 01:34:09.110
Ja gut, das ist jetzt, weil es die IP tatsächlich

01:34:09.110 --> 01:34:10.070
doppelt gegeben hat.

01:34:19.500 --> 01:34:19.900
Nice.

01:34:19.960 --> 01:34:25.030
Ne,

01:34:25.250 --> 01:34:27.930
wir können

01:34:27.930 --> 01:34:29.810
das anders machen. Wir können einfach

01:34:29.810 --> 01:34:31.850
die Hardcore-Variante machen.

01:34:32.070 --> 01:34:33.390
S-S-H-O

01:34:33.390 --> 01:34:35.910
Strict Host Key Checking

01:34:35.910 --> 01:34:37.690
gleich No.

01:34:38.370 --> 01:34:39.650
Ich bin mir ehrlich gesagt nicht

01:34:39.650 --> 01:34:41.850
sicher, was der Unterschied zwischen Off und No

01:34:41.850 --> 01:34:42.170
ist.

01:34:47.660 --> 01:34:48.880
Guckt und schon.

01:34:50.220 --> 01:34:50.860
Ups.

01:34:51.500 --> 01:34:52.660
Könnt ihr es einfach neu einlesen.

01:34:53.360 --> 01:34:54.020
Und schon

01:34:56.020 --> 01:34:56.780
geht es

01:34:56.780 --> 01:34:57.020
trotzdem.

01:34:57.060 --> 01:34:59.060
Weil das ignoert.

01:35:02.390 --> 01:35:03.110
Okay, weiter.

01:35:04.210 --> 01:35:05.050
Also, wir können jetzt

01:35:05.050 --> 01:35:07.070
easy drei Server aufbauen und ihr seht,

01:35:07.170 --> 01:35:08.290
wie zackig das funktioniert.

01:35:08.870 --> 01:35:11.470
Was brauchen wir jetzt als nächstes? Und Server wieder gelöscht.

01:35:12.430 --> 01:35:13.090
Gut, also,

01:35:13.170 --> 01:35:15.030
lasst mal überlegen. Was brauchen wir denn? Loadbalancer brauchen wir

01:35:15.030 --> 01:35:16.190
als nächstes, würde ich sagen.

01:35:17.570 --> 01:35:19.330
Weil wir wollen ja sowas hier bauen.

01:35:20.810 --> 01:35:21.250
Loadbalancer

01:35:21.250 --> 01:35:23.570
und drei Applications. Und wir brauchen ein Netzwerk.

01:35:24.690 --> 01:35:25.410
Wir brauchen

01:35:25.410 --> 01:35:26.250
ein privates

01:35:26.250 --> 01:35:28.190
Private Netz.

01:35:28.190 --> 01:35:28.270
Das ist das.

01:35:32.950 --> 01:35:34.950
Die Server selbst lasse ich mal

01:35:34.950 --> 01:35:36.950
jetzt mal mit Public IP dran.

01:35:36.950 --> 01:35:38.950
Weil, das ist

01:35:38.950 --> 01:35:40.950
zum managen jetzt und zum ausprobieren

01:35:40.950 --> 01:35:42.950
einfacher.

01:35:42.950 --> 01:35:44.950
Aber eigentlich will ich die ja ohne Public IP haben.

01:35:44.950 --> 01:35:49.290
Okay.

01:35:49.290 --> 01:35:51.290
Also, wie baut man jetzt

01:35:51.290 --> 01:35:53.290
ein Loadbalancer

01:35:53.290 --> 01:35:55.290
mit dem Terraform?

01:35:55.290 --> 01:35:57.290
Es gäbe jetzt ja mehrere

01:35:57.290 --> 01:35:59.290
Varianten. Entweder

01:35:59.290 --> 01:36:01.290
wir nehmen den Loadbalancer, den

01:36:01.290 --> 01:36:05.110
Hetzner anbietet.

01:36:05.110 --> 01:36:07.110
Oder wir bauen selbst ein, das mit

01:36:07.110 --> 01:36:09.110
würde ich das nächste Mal machen.

01:36:09.110 --> 01:36:11.110
Und jetzt zum ausprobieren einfach den von Hetzner nehmen.

01:36:11.110 --> 01:36:13.110
Da können wir nämlich auch gleich gucken, wie gut die Terraform Integration ist.

01:36:13.110 --> 01:36:27.110
Selbstbauen ist jetzt auch nicht so schwierig, wenn man sowas wie Kadi verwendet oder meinetwegen auch HAproxy. Wobei HAproxy müsste ich mir auch mal angucken. Da bin ich auch nicht so auf dem aktuellsten Stand.

01:36:27.110 --> 01:36:30.870
Erstmal brauchen wir ein Netzwerk.

01:36:30.870 --> 01:36:32.870
Oder Traffic oder irgendwas in der Richtung können wir nehmen.

01:36:32.870 --> 01:36:34.870
Jetzt brauchen wir als erstes ein Netzwerk.

01:36:34.870 --> 01:36:36.870
Ein Private, hier, Loadbalancer Network.

01:36:36.870 --> 01:36:38.870
Server Network.

01:36:38.870 --> 01:36:40.870
Oder kann man bei Server vielleicht

01:36:40.870 --> 01:36:42.870
das Netzwerk direkt angeben?

01:36:42.870 --> 01:36:44.870
Network.

01:36:44.870 --> 01:36:46.870
Network ID.

01:36:46.870 --> 01:36:48.870
Network Zone.

01:36:48.870 --> 01:36:50.870
IP Range.

01:36:50.870 --> 01:36:52.870
H-Cloud Network Subnet.

01:36:52.870 --> 01:36:57.460
Ok, wie genau funktioniert das jetzt?

01:36:57.460 --> 01:37:00.780
Network?

01:37:00.780 --> 01:37:10.810
Wartet mal, nur mal, dass ich das jetzt richtig verstehe.

01:37:10.810 --> 01:37:12.810
Man muss, man definiert das

01:37:12.810 --> 01:37:17.530
Netzwerk.

01:37:17.530 --> 01:37:27.370
Man muss, man definiert das Netzwerk.

01:37:27.370 --> 01:37:29.370
Man muss, man definiert das Netzwerk.

01:37:29.370 --> 01:37:31.370
Man nutzt sein Netzwerk hier oben.

01:37:31.370 --> 01:37:33.370
Und hier unten definiert man dann quasi

01:37:33.370 --> 01:37:36.680
eigentlich nur

01:37:36.680 --> 01:37:38.680
in welches Netzwerk der Server

01:37:38.680 --> 01:37:40.680
gehängt werden soll.

01:37:40.680 --> 01:37:42.680
gehängt werden soll.

01:37:42.680 --> 01:37:44.680
Also sprich, brauche ich sowas.

01:37:44.680 --> 01:37:46.680
Ok.

01:37:46.680 --> 01:37:48.680
Network Subnet.

01:37:48.680 --> 01:37:53.080
Was ist Terraform?

01:37:53.080 --> 01:37:55.080
Ein Tool um

01:37:55.080 --> 01:37:57.080
Cloud Ressourcen, nicht nur Cloud,

01:37:57.080 --> 01:37:59.080
um Ressourcen anzulegen.

01:37:59.080 --> 01:38:01.080
Also um VMs zu erstellen, Container zu erstellen

01:38:01.080 --> 01:38:03.080
und

01:38:03.080 --> 01:38:05.080
mit den richtigen Settings anzulegen vor allem.

01:38:05.080 --> 01:38:07.080
Also im Prinzip das, was du im Web Interface

01:38:07.080 --> 01:38:09.080
von deinem Cloud Anbieter machen kannst,

01:38:09.080 --> 01:38:11.080
kannst du so mit deinem

01:38:11.080 --> 01:38:13.080
Config File reproduzierbar machen

01:38:13.080 --> 01:38:15.080
und halt deutlich schneller als mit

01:38:15.080 --> 01:38:17.080
als von Hand im Web Interface.

01:38:17.080 --> 01:38:22.250
als von Hand im Web Interface.

01:38:22.250 --> 01:38:24.250
Also, Resource H-Cloud Network.

01:38:24.250 --> 01:38:28.200
Also, Resource H-Cloud Network.

01:38:28.200 --> 01:38:32.980
Warum gibt es Subnet?

01:38:32.980 --> 01:38:43.400
Achso, man kann

01:38:43.400 --> 01:38:45.400
ein Netz anlegen und dann noch verschiedene

01:38:45.400 --> 01:38:47.400
Subnets drin definieren.

01:38:47.400 --> 01:38:49.400
Achso.

01:38:49.400 --> 01:38:51.400
Das Tool nutzt die API.

01:38:51.400 --> 01:38:53.400
Jaja, klar, sonst würde es ja gar nicht funktionieren.

01:38:53.400 --> 01:38:55.400
Und der Terraform Provider ist auch offiziell von Hetzner.

01:38:55.400 --> 01:38:58.780
So.

01:38:58.780 --> 01:39:00.780
Also, das ist hier private.

01:39:00.780 --> 01:39:02.780
Wie soll man das nennen?

01:39:02.780 --> 01:39:04.780
C000 Dings.

01:39:04.780 --> 01:39:06.780
Ja, passt.

01:39:06.780 --> 01:39:08.780
Also gibt es das net.

01:39:08.780 --> 01:39:10.780
So, und da kann ich

01:39:10.780 --> 01:39:12.780
da jetzt sowas sagen, wie Network?

01:39:12.780 --> 01:39:14.780
Ne, ne, das muss ich...

01:39:14.780 --> 01:39:18.660
Network?

01:39:18.660 --> 01:39:20.660
IP will ich nicht.

01:39:20.660 --> 01:39:22.660
Network ID.

01:39:22.660 --> 01:39:24.660
Hm.

01:39:24.660 --> 01:39:26.660
Woher weiß ich denn die Network ID?

01:39:26.660 --> 01:39:31.960
Woher weiß ich denn die Network ID?

01:39:31.960 --> 01:39:35.720
Achso.

01:39:35.720 --> 01:39:37.720
Also, quasi...

01:39:37.720 --> 01:39:39.720
Also, quasi...

01:39:39.720 --> 01:39:41.720
So?

01:39:41.720 --> 01:39:43.720
Da bin ich ja mal gespannt, ob das so funktioniert,

01:39:43.720 --> 01:39:45.720
was ich gebaut habe.

01:39:45.720 --> 01:39:47.720
Also, von der Idee her sollte der jetzt das...

01:39:47.720 --> 01:39:49.720
Also, der sollte folgendes machen, was ich hier...

01:39:49.720 --> 01:39:51.720
Also, man kann hier auf Networks gehen.

01:39:51.720 --> 01:39:53.720
Create Network.

01:39:53.720 --> 01:39:55.720
Und da kann man ein internes Netzwerk für seine Server anlegen.

01:39:55.720 --> 01:39:57.720
Also auf Cloud-Seite.

01:39:57.720 --> 01:39:59.720
Was nicht mit dem Internet verbunden ist.

01:39:59.720 --> 01:40:01.720
Und was auch nix mit dem Netzwerk daheim zu tun hat.

01:40:01.720 --> 01:40:03.720
Und was auch nix mit dem Netzwerk daheim zu tun hat.

01:40:03.720 --> 01:40:05.720
Sondern auf Server-Seite.

01:40:05.720 --> 01:40:07.720
Auf Cloud-Seite ein Netzwerk anlegen,

01:40:07.720 --> 01:40:09.720
wo die Server untereinander kommunizieren können.

01:40:09.720 --> 01:40:11.720
Wo du dann auch beispielsweise

01:40:11.720 --> 01:40:13.720
Server drüber ansprechen kannst,

01:40:13.720 --> 01:40:15.720
die gar nicht im Internet hängen.

01:40:15.720 --> 01:40:17.720
Also von der Idee her, wenn das jetzt funktioniert,

01:40:17.720 --> 01:40:19.720
sollte der ein neues Netzwerk anlegen.

01:40:19.720 --> 01:40:21.720
Und unsere drei Serverkisten

01:40:21.720 --> 01:40:23.720
an dieses Netzwerk attachen.

01:40:23.720 --> 01:40:25.720
Wenn ich das richtig verstehe.

01:40:25.720 --> 01:40:29.930
Ist das ähnlich zu Ansible?

01:40:29.930 --> 01:40:31.930
Es sind unterschiedliche...

01:40:31.930 --> 01:40:33.930
Was ist denn das hier?

01:40:33.930 --> 01:40:35.930
Ach, das ist... Ihr habt abgestimmt.

01:40:35.930 --> 01:40:37.930
Ne, das ist ähnlich.

01:40:37.930 --> 01:40:39.930
Aber vom Ansatz her

01:40:39.930 --> 01:40:41.930
komplett anders gedacht.

01:40:41.930 --> 01:40:43.930
Terraform ist dafür da,

01:40:43.930 --> 01:40:45.930
um Server anzulegen.

01:40:45.930 --> 01:40:47.930
Und Ansible ist dafür da,

01:40:47.930 --> 01:40:49.930
um Server zu konfigurieren.

01:40:49.930 --> 01:40:51.930
Also, wenn man größere Sachen hat,

01:40:51.930 --> 01:40:53.930
ist die Wahrscheinlichkeit, dass man beides verwendet,

01:40:53.930 --> 01:40:55.930
gar nicht so gering.

01:40:55.930 --> 01:40:57.930
Und...

01:40:57.930 --> 01:40:59.930
Du kannst mit Ansible aber halt auch

01:40:59.930 --> 01:41:01.930
ein bisschen Sachen anlegen

01:41:01.930 --> 01:41:03.930
und du kannst mit Terraform auch ein bisschen

01:41:03.930 --> 01:41:05.930
Sachen konfigurieren.

01:41:05.930 --> 01:41:07.930
Aber wenn du deinen Server

01:41:07.930 --> 01:41:09.930
komplexer konfigurieren musst,

01:41:09.930 --> 01:41:11.930
wenn du da drauf sagen musst, hey,

01:41:11.930 --> 01:41:13.930
ich muss den Nginx installieren,

01:41:13.930 --> 01:41:15.930
dort muss ich irgendwas austauschen,

01:41:15.930 --> 01:41:17.930
in der Config-Datei da noch 20 User anlegen,

01:41:17.930 --> 01:41:19.930
dann hier noch eine PHP-Anwendung hinpacken,

01:41:19.930 --> 01:41:21.930
das über Ansible

01:41:21.930 --> 01:41:23.930
und das Anlegen der Kisten über Terraform.

01:41:23.930 --> 01:41:25.930
Oder aber

01:41:25.930 --> 01:41:27.930
du brauchst es nicht so oft,

01:41:27.930 --> 01:41:29.930
dann kannst du es auch über dein Ansible-Playbook machen.

01:41:29.930 --> 01:41:31.930
Es hat gewisse Überschneidungen, aber

01:41:31.930 --> 01:41:33.930
die...

01:41:33.930 --> 01:41:35.930
Also, wofür es gedacht ist,

01:41:35.930 --> 01:41:37.930
ist halt der Unterschied zwischen

01:41:37.930 --> 01:41:39.930
das eine ist zum Konfigurieren gedacht

01:41:39.930 --> 01:41:43.620
und das andere ist zum Anlegen gedacht.

01:41:43.620 --> 01:41:45.620
Genau, du könntest beispielsweise,

01:41:45.620 --> 01:41:47.620
ja, das könntest du machen,

01:41:47.620 --> 01:41:49.620
du könntest natürlich, nachdem Terraform

01:41:49.620 --> 01:41:51.620
den Server aufgebaut hat,

01:41:51.620 --> 01:41:53.620
kannst du dein Ansible-Playbook darauf laufen lassen.

01:41:53.620 --> 01:41:55.620
Ja, das wäre gar keine schlechte Idee.

01:41:55.620 --> 01:41:57.620
Aber ich komme aktuell mit einem minimalst

01:41:57.620 --> 01:41:59.620
Bash-Ding aus

01:41:59.620 --> 01:42:01.620
für Server-Config.

01:42:01.620 --> 01:42:05.770
So, jetzt gucken wir mal,

01:42:05.770 --> 01:42:07.770
ob der jetzt das private Netzwerk anlegt,

01:42:07.770 --> 01:42:13.830
ob das jetzt funktioniert.

01:42:13.830 --> 01:42:15.830
Ich finde es blöd, dass das Destroy da hinten

01:42:15.830 --> 01:42:19.720
als Argument ist.

01:42:19.720 --> 01:42:23.350
Gibt es nicht auch so?

01:42:23.350 --> 01:42:26.730
Okay, das ist praktisch, weil...

01:42:26.730 --> 01:42:28.730
So,

01:42:28.730 --> 01:42:30.730
das zahlt tatsächlich, das hat funktioniert.

01:42:30.730 --> 01:42:32.730
Private Networks, da ist es.

01:42:32.730 --> 01:42:34.730
Jetzt werden Server angelegt

01:42:34.730 --> 01:42:36.730
und die Server sollten in das Netzwerk gepackt werden.

01:42:36.730 --> 01:42:40.490
Schauen wir mal.

01:42:40.490 --> 01:42:42.490
Gucken wir mal, ob das jetzt funktioniert hat.

01:42:42.490 --> 01:42:44.490
A problem has occurred.

01:42:44.490 --> 01:42:46.490
A problem has occurred.

01:42:46.490 --> 01:42:48.490
Check your... Was?

01:42:48.490 --> 01:42:51.800
Okay, was auch immer.

01:42:51.800 --> 01:42:55.940
Scheint noch alles zu

01:42:55.940 --> 01:42:57.940
funktioniert.

01:42:57.940 --> 01:42:59.940
Okay, Server sind wieder da.

01:42:59.940 --> 01:43:01.940
Networking...

01:43:01.940 --> 01:43:03.940
There is no private IP.

01:43:03.940 --> 01:43:05.940
There is no private IP.

01:43:05.940 --> 01:43:07.940
Attached to network.

01:43:07.940 --> 01:43:09.940
No networks available in the network zone

01:43:09.940 --> 01:43:11.940
of the selected location.

01:43:11.940 --> 01:43:13.940
Ich habe das Netzwerk im falschen Rechenzentrum

01:43:13.940 --> 01:43:15.940
angelegt bei denen. Kann das sein?

01:43:15.940 --> 01:43:17.940
Network ist angelegt

01:43:17.940 --> 01:43:21.580
in...

01:43:21.580 --> 01:43:23.580
Keine Zone?

01:43:23.580 --> 01:43:25.580
Ich glaube, das ist broken.

01:43:25.580 --> 01:43:30.870
Ich glaube, das ist kaputt.

01:43:30.870 --> 01:43:32.870
Ich glaube, das ist kaputt.

01:43:32.870 --> 01:43:34.870
Okay.

01:43:34.870 --> 01:43:36.870
Ah, hier.

01:43:36.870 --> 01:43:38.870
Destroy. Destroy.

01:43:38.870 --> 01:43:40.870
Bam.

01:43:40.870 --> 01:43:44.950
Siehst du, alles wieder weg.

01:43:44.950 --> 01:43:46.950
Alles wieder entfernt.

01:43:46.950 --> 01:43:48.950
Nicht klicken.

01:43:48.950 --> 01:43:50.950
Braucht man ein Subnet?

01:43:50.950 --> 01:43:52.950
Ich glaube eher, dass ich vergessen habe,

01:43:52.950 --> 01:43:54.950
bei dem Netzwerk zu sagen,

01:43:54.950 --> 01:43:59.100
Location oder sowas.

01:43:59.100 --> 01:44:01.100
Ne.

01:44:01.100 --> 01:44:05.300
Wo weiter?

01:44:05.300 --> 01:44:07.300
Hm.

01:44:07.300 --> 01:44:09.300
Vielleicht muss ich ein Subnet anlegen?

01:44:09.300 --> 01:44:11.300
Kann das sein?

01:44:11.300 --> 01:44:30.100
Ich kann gar keine Location

01:44:30.100 --> 01:44:33.990
anlegen.

01:44:33.990 --> 01:44:35.990
Ah, aber hier kann ich Locations anlegen.

01:44:35.990 --> 01:44:42.250
Was wird denn bei

01:44:42.250 --> 01:44:44.250
Hetzner berechnet? Quasi nix.

01:44:44.250 --> 01:44:46.250
Die Server werden stündlich

01:44:46.250 --> 01:44:48.250
oder so abgerechnet.

01:44:48.250 --> 01:44:50.250
Also,

01:44:50.250 --> 01:44:52.250
unterm Strich wahrscheinlich

01:44:52.250 --> 01:44:54.250
ein paar Cent

01:44:54.250 --> 01:45:00.440
oder so. Könnte sogar

01:45:00.440 --> 01:45:02.440
sekündlich sein. Also, das kostet

01:45:02.440 --> 01:45:04.440
nix im Endeffekt.

01:45:04.440 --> 01:45:06.440
So gut wie nix.

01:45:06.440 --> 01:45:08.440
Okay, das ist falsch.

01:45:08.440 --> 01:45:19.110
Wie hab ich das gemacht? Typ?

01:45:19.110 --> 01:45:23.770
Woher weiß ich denn

01:45:23.770 --> 01:45:25.770
was es für Netzwerkzonen

01:45:25.770 --> 01:45:27.770
gibt? Was ist denn, wenn ich das

01:45:27.770 --> 01:45:29.770
im Webinterface anklicke?

01:45:29.770 --> 01:45:31.770
Hier, EU Central, US East.

01:45:31.770 --> 01:45:39.560
Ach, guckt mal,

01:45:39.560 --> 01:45:41.560
hier legt er auch das Subnet standardmäßig an.

01:45:41.560 --> 01:45:43.560
Okay.

01:45:43.560 --> 01:45:45.560
Das heißt, ich muss auf jeden Fall ein Subnet

01:45:45.560 --> 01:45:47.560
anlegen. Sonst wird das nicht

01:45:47.560 --> 01:45:50.940
funktionieren. Äh, anders ausgedrückt,

01:45:50.940 --> 01:45:52.940
wenn man die 24-7 im Monat durchlaufen

01:45:52.940 --> 01:45:54.940
würde, was das kosten würde. Ah, 3 Euro

01:45:54.940 --> 01:45:56.940
oder so, die kleinste Kiste.

01:45:56.940 --> 01:45:58.940
Ohne IP.

01:45:58.940 --> 01:46:00.940
So, guckt mal.

01:46:00.940 --> 01:46:04.500
Ähm. Du willst

01:46:04.500 --> 01:46:06.500
Private Networks haben, du willst keine

01:46:06.500 --> 01:46:08.500
Public IPs haben. Wait a minute,

01:46:08.500 --> 01:46:10.500
ist das teurer?

01:46:10.500 --> 01:46:12.500
Hä?

01:46:12.500 --> 01:46:15.820
Äh.

01:46:15.820 --> 01:46:17.820
Ach nee, so rum. Äh,

01:46:17.820 --> 01:46:19.820
3,56 Euro im Monat.

01:46:19.820 --> 01:46:21.820
Die kleinste Kiste. Ich mein, mit der kleinsten

01:46:21.820 --> 01:46:23.820
Kiste kannst du jetzt keine Bäume ausreißen,

01:46:23.820 --> 01:46:25.820
aber, äh, wenn du, je nachdem was du

01:46:25.820 --> 01:46:27.820
machen willst, reichen dir auch eine CPU und

01:46:27.820 --> 01:46:29.820
2 GB RAM.

01:46:29.820 --> 01:46:31.820
Also ich persönlich finde ja preis-leistungsmäßig

01:46:31.820 --> 01:46:33.820
am besten die 3-Core-Kiste.

01:46:33.820 --> 01:46:35.820
Drei Kerne? Also ich persönlich

01:46:35.820 --> 01:46:37.820
brauch eher drei Kerne und vier RAM als

01:46:37.820 --> 01:46:39.820
zwei und acht RAM, aber, also generell

01:46:39.820 --> 01:46:41.820
kann man eigentlich sagen,

01:46:41.820 --> 01:46:43.820
die hier und die hier, aber ich persönlich,

01:46:43.820 --> 01:46:47.380
ich persönlich die hier. Also

01:46:47.380 --> 01:46:49.380
das ist, das ist ehrlich gesagt meine Lieblingskiste.

01:46:49.380 --> 01:46:51.380
Beispielsweise,

01:46:51.380 --> 01:46:53.380
die sind 24-7 verfügbar,

01:46:53.380 --> 01:46:57.140
ja. Du kommst,

01:46:57.140 --> 01:46:59.140
du bekommst da auch einen Mail-Server

01:46:59.140 --> 01:47:01.140
günstig drauf.

01:47:01.140 --> 01:47:03.140
Also,

01:47:03.140 --> 01:47:05.140
du kannst

01:47:05.140 --> 01:47:07.140
das prinzipiell bei jedem

01:47:07.140 --> 01:47:09.140
XP, ich werde ja noch nicht gesponsert von Headstart,

01:47:09.140 --> 01:47:11.140
du kannst das, aktuell

01:47:11.140 --> 01:47:13.140
nicht, du kannst das bei jedem

01:47:13.140 --> 01:47:17.740
x-beliebigen Cloud-Anbieter machen.

01:47:17.740 --> 01:47:19.740
Die Frage ist halt eher, ob man sich einen privaten

01:47:19.740 --> 01:47:21.740
Mail-Server wirklich geben möchte.

01:47:21.740 --> 01:47:35.480
Ne, das ist nicht außen

01:47:35.480 --> 01:47:37.480
aufrufbar, das ist ein privates Netzwerk

01:47:37.480 --> 01:47:39.480
für, zwischen deinen Servern.

01:47:39.480 --> 01:47:41.480
Du kannst dann beispielsweise von Server A

01:47:41.480 --> 01:47:43.480
nach Server B was kopieren

01:47:43.480 --> 01:47:45.480
über ein privates Netzwerk, ohne dass du es über das Internet

01:47:45.480 --> 01:47:47.480
kopieren musst.

01:47:47.480 --> 01:47:49.480
Wobei, die würden es wahrscheinlich eh nicht rausrouten,

01:47:49.480 --> 01:47:51.480
aber, ja. Und, du kannst

01:47:51.480 --> 01:47:53.480
dementsprechend Server anlegen, die gar keine

01:47:53.480 --> 01:48:00.500
Public-IP haben.

01:48:00.500 --> 01:48:02.500
Meinst du Home Assistant, oder was?

01:48:02.500 --> 01:48:12.920
Die würde ich aber nicht in die Cloud packen.

01:48:12.920 --> 01:48:14.920
Also, ich weiß nicht,

01:48:14.920 --> 01:48:16.920
E-Mail-Server selber hosten, ne.

01:48:16.920 --> 01:48:24.390
Würde ich auch nicht machen.

01:48:24.390 --> 01:48:26.390
Du musst es in die Cloud legen, da du keine

01:48:26.390 --> 01:48:28.390
Alexa-Integration

01:48:28.390 --> 01:48:30.390
Ne, du musst es doch nicht in die Cloud

01:48:30.390 --> 01:48:32.390
legen, oder? Du musst, glaube

01:48:32.390 --> 01:48:34.390
ich, dafür sorgen, dass Google von außen

01:48:34.390 --> 01:48:36.390
auf einem speziellen Port drauf hinkommt,

01:48:36.390 --> 01:48:38.390
aber dazu musst du es doch nicht in die Cloud legen.

01:48:40.390 --> 01:48:42.390
Also, da würde ich mir was anderes überlegen,

01:48:42.390 --> 01:48:44.390
als meinen kompletten Home Assistant in die Cloud

01:48:44.390 --> 01:48:46.390
zu stellen, weil, dein Home Assistant muss an interne

01:48:46.390 --> 01:48:48.390
muss doch an interne Systeme drankommen,

01:48:48.390 --> 01:48:50.390
von da kommst du doch gar nicht hin. Und du willst

01:48:50.390 --> 01:48:52.390
bestimmt kein Reverse VPN

01:48:52.390 --> 01:48:56.790
machen.

01:48:56.790 --> 01:48:58.790
Ja gut, du musst wissen, was du da machst.

01:48:58.790 --> 01:49:02.300
So.

01:49:02.300 --> 01:49:04.300
Also, wo sind wir jetzt stehen?

01:49:04.300 --> 01:49:06.300
Private Network. Wir brauchen

01:49:06.300 --> 01:49:08.300
ein Subnet, habe ich gelesen.

01:49:08.300 --> 01:49:10.300
Sonst funktioniert es anscheinend nicht.

01:49:10.300 --> 01:49:12.300
Also, das ist die komplette IP-Range.

01:49:12.300 --> 01:49:14.300
Dann gibt es jetzt

01:49:14.300 --> 01:49:16.300
H-Cloud Network Subnet.

01:49:16.300 --> 01:49:20.630
Das ist dann

01:49:20.630 --> 01:49:22.630
0

01:49:22.630 --> 01:49:24.630
slash

01:49:24.630 --> 01:49:26.630
ja, meinetwegen slash 24

01:49:26.630 --> 01:49:28.630
oder so. Ja, machen lassen

01:49:28.630 --> 01:49:30.630
wir es so. Type, was?

01:49:30.630 --> 01:49:32.630
Type Cloud? Moment, da gibt es verschiedene Types.

01:49:32.630 --> 01:49:34.630
Server, Cloud, V-Switch.

01:49:34.630 --> 01:49:36.630
What the fuck?

01:49:36.630 --> 01:49:43.140
Äh.

01:49:43.140 --> 01:49:45.140
Was ist denn da der Unterschied?

01:49:45.140 --> 01:49:59.780
V-Switch?

01:49:59.780 --> 01:50:11.740
Weil hier kann ich den Type ja auch nicht

01:50:11.740 --> 01:50:15.880
auswählen. Hm.

01:50:15.880 --> 01:50:24.120
Gucken wir mal, was da der Unterschied ist.

01:50:24.120 --> 01:50:28.840
Ach, das ist für irgendwelche

01:50:28.840 --> 01:50:30.840
Hardwares, Root-Server-Kisten.

01:50:30.840 --> 01:50:32.840
Ok, nee.

01:50:32.840 --> 01:50:34.840
Das brauchen wir nicht. Ok, EU-Central.

01:50:34.840 --> 01:50:36.840
Neues Netz. Soll mir

01:50:36.840 --> 01:50:38.840
alles recht sein.

01:50:38.840 --> 01:50:44.260
Ja, das ist

01:50:44.260 --> 01:50:49.050
Qt Chat

01:50:49.050 --> 01:50:51.050
Net. So.

01:50:51.050 --> 01:50:55.830
ID.

01:50:55.830 --> 01:50:57.830
Und jetzt muss ich da wahrscheinlich sowas

01:50:57.830 --> 01:51:01.210
hier angeben. Ok, schauen

01:51:01.210 --> 01:51:03.210
wir mal, ob es jetzt funktioniert. Apply.

01:51:03.210 --> 01:51:05.210
Bam.

01:51:05.210 --> 01:51:19.850
Okay,

01:51:19.850 --> 01:51:21.850
jetzt habe ich keine Ahnung mehr, wie das funktioniert.

01:51:23.850 --> 01:51:25.850
Jetzt weiß ich nicht, was ich

01:51:25.850 --> 01:51:45.350
verkehrt gemacht habe.

01:51:45.350 --> 01:51:47.350
Also das mit dem Subnet anlegen war alles

01:51:47.350 --> 01:51:50.790
korrekt. Das hat er

01:51:50.790 --> 01:52:00.820
richtig gemacht. Ah,

01:52:00.820 --> 01:52:05.030
ich glaube, ich weiß was falsch. Nee.

01:52:05.030 --> 01:52:07.030
Network. Da müssen wir noch mal Server-Config

01:52:07.030 --> 01:52:09.030
kurz gucken. Server.

01:52:09.030 --> 01:52:17.240
Server Network.

01:52:17.240 --> 01:52:22.220
Hä? Network?

01:52:22.220 --> 01:52:28.890
Subnet? Ja.

01:52:28.890 --> 01:52:30.890
Ach so.

01:52:30.890 --> 01:52:32.890
Man gibt nicht die Subnet-ID an.

01:52:32.890 --> 01:52:37.350
Man gibt

01:52:37.350 --> 01:52:39.350
die normale Network-ID

01:52:39.350 --> 01:52:43.940
an. Aber woher weiß

01:52:43.940 --> 01:52:45.940
er dann, in welches Subnet er soll?

01:52:45.940 --> 01:53:12.230
Ja, ich will ja, dass er

01:53:12.230 --> 01:53:14.230
automatisch was zugeordnet bekommt.

01:53:14.230 --> 01:53:23.110
Ja gut, ich habe ja nur, ich habe

01:53:23.110 --> 01:53:25.110
ja in dem Fall jetzt nur ein Subnet.

01:53:25.110 --> 01:53:27.110
Ok, wir gucken einfach mal, was passiert.

01:53:27.110 --> 01:53:29.110
Was?

01:53:29.110 --> 01:53:31.110
Reference

01:53:31.110 --> 01:53:33.110
to undeclared resource.

01:53:33.110 --> 01:53:46.890
Ach so.

01:53:46.890 --> 01:53:48.890
Ja gut, aber wenn es optional ist.

01:53:48.890 --> 01:53:50.890
Ich muss eben noch auswählen, in welche

01:53:50.890 --> 01:53:52.890
Subnets ich will, ohne eine IP

01:53:52.890 --> 01:53:54.890
eingeben zu müssen. So, schauen wir mal,

01:53:54.890 --> 01:53:56.890
ob das jetzt funktioniert hat. Source-Server ist da.

01:53:56.890 --> 01:53:58.890
Networking.

01:53:58.890 --> 01:54:00.890
Ok, hat funktioniert.

01:54:00.890 --> 01:54:02.890
Alles klar.

01:54:02.890 --> 01:54:04.890
Network private.

01:54:04.890 --> 01:54:06.890
Da sieht man auch, da sieht man auch die Ressourcen, die zugeordnet

01:54:06.890 --> 01:54:08.890
sind. Subnets und was

01:54:08.890 --> 01:54:33.130
da drin ist. Nee, also es

01:54:33.130 --> 01:54:35.130
funktioniert ja anscheinend jetzt. Ist ja alles in Ordnung.

01:54:35.130 --> 01:54:37.130
Wobei, Monsieur, kann ich

01:54:37.130 --> 01:54:39.130
nicht einfach sagen, ich mache ein Subnet,

01:54:39.130 --> 01:54:41.130
was komplett

01:54:41.130 --> 01:54:43.130
komplette IP-Range ist

01:54:43.130 --> 01:54:47.140
und gut ist?

01:54:47.140 --> 01:54:49.140
Jaja, dass der die IP-Adressen random

01:54:49.140 --> 01:54:51.140
DHCP-Technik oder so vergibt,

01:54:51.140 --> 01:54:53.140
ist schon klar. Die Sache ist nur die,

01:54:53.140 --> 01:54:55.140
mal angenommen, ich hätte jetzt hier zwei.

01:54:55.140 --> 01:54:57.140
So. Mal angenommen, ich hätte

01:54:57.140 --> 01:54:59.140
hier zwei.

01:54:59.140 --> 01:55:01.140
Und ich möchte jetzt, dass mein Server

01:55:01.140 --> 01:55:03.140
hier raus was bekommt und nicht

01:55:03.140 --> 01:55:05.140
da raus. Wie würde

01:55:05.140 --> 01:55:07.140
ich ihm das denn jetzt sagen? Weil so sage ich ihm ja

01:55:07.140 --> 01:55:09.140
nur, joine da rein.

01:55:09.140 --> 01:55:11.140
Was jetzt gar nicht der Fall ist.

01:55:11.140 --> 01:55:13.140
Das,

01:55:13.140 --> 01:55:16.520
das können wir jetzt mal ausprobieren.

01:55:16.520 --> 01:55:18.520
Es gibt Hetzner-Codes, ja, aber die sind abgelaufen.

01:55:18.520 --> 01:55:22.980
Meinst du, er kriegt dann zwei?

01:55:22.980 --> 01:55:27.190
Das kann man hier noch angeben.

01:55:27.190 --> 01:55:33.930
Nicht, was?

01:55:33.930 --> 01:55:35.930
Äh, achso, Moment. QChat-Netz

01:55:35.930 --> 01:55:41.740
eins und zwei.

01:55:41.740 --> 01:55:48.950
Gucken wir mal, was er macht.

01:55:48.950 --> 01:55:50.950
Ich meine, guck mal, wie schnell das jetzt geht. Ach, fuck.

01:55:50.950 --> 01:55:52.950
IP-Ranges

01:55:52.950 --> 01:55:58.820
overlap. Äh.

01:55:58.820 --> 01:56:14.330
Nee.

01:56:14.330 --> 01:56:19.430
Bin ich jetzt blöd?

01:56:19.430 --> 01:56:30.300
Da überlappt doch nix.

01:56:30.300 --> 01:56:32.300
Da war noch ein Server-Network. Ja, das stimmt.

01:56:32.300 --> 01:56:51.160
Nee, ich leg zwei

01:56:51.160 --> 01:56:53.160
Subnetze an da drin.

01:56:53.160 --> 01:56:55.160
Das muss doch eigentlich funktionieren.

01:56:55.160 --> 01:56:57.160
Da, da überlappt doch

01:56:57.160 --> 01:56:59.160
nix.

01:56:59.160 --> 01:57:01.160
Das ist von zwei,

01:57:01.160 --> 01:57:03.160
äh, von null bis 250.

01:57:03.160 --> 01:57:05.160
Das ist von eins, null 250.

01:57:05.160 --> 01:57:07.160
Das eine Subnet gab's

01:57:07.160 --> 01:57:09.160
aber doch schon hier. Das sollte der aber eigentlich,

01:57:09.160 --> 01:57:11.160
äh, das sollte der eigentlich

01:57:11.160 --> 01:57:19.080
checken. Das sollte der

01:57:19.080 --> 01:57:21.080
eigentlich kapieren. Du musst das nicht

01:57:21.080 --> 01:57:25.480
vorher löschen. Destroy.

01:57:25.480 --> 01:57:27.480
Bam.

01:57:27.480 --> 01:57:31.750
Alles weg. Was ist das hier?

01:57:31.750 --> 01:57:33.750
Es gibt noch Server-Network.

01:57:33.750 --> 01:57:35.750
So, subnet.

01:57:35.750 --> 01:57:40.280
Hä? Also das...

01:57:40.280 --> 01:57:42.280
Also die...

01:57:42.280 --> 01:57:47.380
Meinst du, der kann das nicht umbenennen?

01:57:47.380 --> 01:57:49.380
Äh, ich denke, das

01:57:49.380 --> 01:57:56.280
passiert jetzt wieder das gleiche.

01:57:56.280 --> 01:57:58.280
Ja, ist wirklich alles weg.

01:57:58.280 --> 01:58:00.280
Schauen wir mal.

01:58:00.280 --> 01:58:02.280
Ja, weil, guck mal.

01:58:02.280 --> 01:58:04.280
Das Netzwerk anlegen mit den zwei

01:58:04.280 --> 01:58:06.280
Subnets, das funktioniert. Kein Problem.

01:58:06.280 --> 01:58:08.280
So, und jetzt bin ich halt mal

01:58:08.280 --> 01:58:10.280
gespannt, in welchem Netz die Server drinstehen.

01:58:10.280 --> 01:58:12.280
Ja, okay, das mit dem Umbenennen scheint nicht

01:58:12.280 --> 01:58:14.280
funktioniert zu haben. Ja, wahrscheinlich. Wahrscheinlich

01:58:14.280 --> 01:58:17.910
war's das. So.

01:58:17.910 --> 01:58:19.910
Guck! Die sind jetzt

01:58:19.910 --> 01:58:21.910
random! Mal in eins, mal in

01:58:21.910 --> 01:58:23.910
zwei!

01:58:23.910 --> 01:58:25.910
Ich muss doch irgendwie an... Ich muss doch irgendwie

01:58:25.910 --> 01:58:27.910
angeben können,

01:58:27.910 --> 01:58:29.910
in welches Subnet mein

01:58:29.910 --> 01:58:31.910
Server joinen soll. So passt

01:58:31.910 --> 01:58:33.910
es, so passt es aber nicht wirklich, oder?

01:58:33.910 --> 01:58:35.910
Null.

01:58:35.910 --> 01:58:39.740
Ne, das ist,

01:58:39.740 --> 01:58:41.740
das ist nicht so sehr der Zweck der Sache.

01:58:41.740 --> 01:58:45.620
Ne, hab ich doch!

01:58:45.620 --> 01:58:47.620
Passt nicht. Ist verkehrt.

01:58:47.620 --> 01:58:53.240
Ach so, meinst du, nur eins von...

01:58:53.240 --> 01:58:55.240
Ich will ja nicht zwei Adressen. Ich will alle im gleichen

01:58:55.240 --> 01:58:57.240
haben. Will nicht zwei Adressen

01:58:57.240 --> 01:58:59.240
haben. Das ist doch unsinnig. Das muss doch

01:58:59.240 --> 01:59:01.240
anders funktionieren.

01:59:01.240 --> 01:59:03.240
Also, hier legt er was an. Hier legt er einen Server

01:59:03.240 --> 01:59:05.240
an. So, und hier macht er

01:59:05.240 --> 01:59:07.240
was? Server-ID des

01:59:07.240 --> 01:59:09.240
IP... Aber das konnte man doch direkt

01:59:09.240 --> 01:59:11.240
auch bei dem Server auch vergeben.

01:59:11.240 --> 01:59:13.240
Okay, das ist ne Sache, die check ich nicht.

01:59:13.240 --> 01:59:15.240
...

01:59:15.240 --> 01:59:18.810
Ähm, nicht zwangsläufig.

01:59:18.810 --> 01:59:20.810
Nicht zwangsläufig.

01:59:20.810 --> 01:59:22.810
Es könnte doch sein, dass ich zwei

01:59:22.810 --> 01:59:24.810
verschiedene Clustergruppen anlegen will.

01:59:24.810 --> 01:59:26.810
Ja, ich... Die

01:59:26.810 --> 01:59:28.810
QChat-Nodes und die Ayaya-Nodes. Und

01:59:28.810 --> 01:59:30.810
beide sollen unterschiedliche Subnetzes rein.

01:59:30.810 --> 01:59:34.440
Aber beide haben das gleiche übergeordnete

01:59:34.440 --> 01:59:36.440
Netz.

01:59:36.440 --> 01:59:38.440
Kann schon sein. Aber letztendlich ist es wurscht,

01:59:38.440 --> 01:59:40.440
weil...

01:59:40.440 --> 01:59:42.440
Ich mach das einfach weg.

01:59:42.440 --> 01:59:44.440
Und sag, der soll das komplette

01:59:44.440 --> 01:59:46.440
Slash8 verwenden und who cares.

01:59:46.440 --> 01:59:48.440
...

01:59:48.440 --> 01:59:50.440
0 Slash8. Gut ist. Fertig.

01:59:50.440 --> 01:59:52.440
Zack.

01:59:52.440 --> 01:59:54.440
Gut. Also, das würde ich

01:59:54.440 --> 01:59:56.440
sagen, das funktioniert.

01:59:56.440 --> 01:59:58.440
Du musst noch an das

01:59:58.440 --> 02:00:00.440
depends-on-hcloud-network-subnet

02:00:00.440 --> 02:00:02.440
denken. Das...

02:00:02.440 --> 02:00:04.440
Sonst versucht er die Server

02:00:04.440 --> 02:00:06.440
gleichzeitig mit den... Sonst versucht er

02:00:06.440 --> 02:00:08.440
das Netzwerk mit dem...

02:00:08.440 --> 02:00:10.440
Gleichzeitig... Also, du meinst, ich muss

02:00:10.440 --> 02:00:12.440
da reinschreiben hier noch...

02:00:12.440 --> 02:00:14.440
depends... Ne, wo steht

02:00:14.440 --> 02:00:16.440
das? Server...

02:00:16.440 --> 02:00:20.390
depends-on...

02:00:20.390 --> 02:00:26.260
Aha!

02:00:26.260 --> 02:00:28.260
Ah! Verstehe.

02:00:28.260 --> 02:00:33.110
Okay, das ist natürlich...

02:00:33.110 --> 02:00:35.110
Das ist natürlich sinnvoll,

02:00:35.110 --> 02:00:37.110
dass ihr die Server

02:00:37.110 --> 02:00:39.110
auf jeden Fall erst anlegt nach

02:00:39.110 --> 02:00:59.450
dem. Ja, okay.

02:00:59.450 --> 02:01:01.450
Das leuchtet ein. Das...

02:01:01.450 --> 02:01:03.450
Das lass ich mir gefallen. Also, wenn man hier... Also, sprich,

02:01:03.450 --> 02:01:05.450
sag ich dem da jetzt... äh...

02:01:05.450 --> 02:01:07.450
depends-on...

02:01:07.450 --> 02:01:09.450
Warum hab ich das eigentlich nicht hier zu...

02:01:09.450 --> 02:01:11.450
Depends hab ich hier nicht auf...

02:01:11.450 --> 02:01:13.450
depends-on-hcloud-network-subnet

02:01:13.450 --> 02:01:19.640
depends-on-hcloud-network-subnet

02:01:19.640 --> 02:01:21.640
und dann das da?

02:01:21.640 --> 02:01:23.640
Okay.

02:01:23.640 --> 02:01:29.060
Das ist ne gute Idee.

02:01:29.060 --> 02:01:31.060
Naja, die...

02:01:31.060 --> 02:01:33.060
Die Sachen in Terraform sind relativ einheitlich.

02:01:33.060 --> 02:01:35.060
Relativ. Manche Sachen sind halt

02:01:35.060 --> 02:01:37.060
cloud-spezif... provider-spezifisch.

02:01:37.060 --> 02:01:39.060
Aber das

02:01:39.060 --> 02:01:41.060
unten drunter, die API, ist natürlich jedes Mal anders.

02:01:41.060 --> 02:01:43.060
Je nach Cloud-Anbieter. Also, es sieht

02:01:43.060 --> 02:01:45.060
aber ungefähr ähnlich aus. Also, wenn du bei AWS

02:01:45.060 --> 02:01:47.060
was anlegst, hast du halt AWS-spezifische

02:01:47.060 --> 02:01:49.060
Sachen drin. Aber User-Data hast du beispielsweise

02:01:49.060 --> 02:01:51.060
bei ganz vielen für Cloud-Init.

02:01:51.060 --> 02:01:53.060
Ja.

02:01:53.060 --> 02:01:55.060
Also, es ist schon server-spezifisch.

02:01:55.060 --> 02:01:57.060
Äh, provider-spezifisch.

02:01:57.060 --> 02:02:04.280
Okay.

02:02:04.280 --> 02:02:06.280
Was auch immer. Wir applyen das jetzt

02:02:06.280 --> 02:02:08.280
nochmal. Jetzt sollten wir

02:02:08.280 --> 02:02:10.280
drei Server haben.

02:02:10.280 --> 02:02:12.280
Ein Subnet.

02:02:12.280 --> 02:02:14.280
Und alle Server sollten da

02:02:14.280 --> 02:02:19.770
dranhängen. Ja.

02:02:19.770 --> 02:02:21.770
Network. Subnet.

02:02:21.770 --> 02:02:23.770
Aber noch hat er nicht erstellt.

02:02:25.770 --> 02:02:27.770
Da sind sie.

02:02:27.770 --> 02:02:29.770
Jawoll.

02:02:29.770 --> 02:02:31.770
QChat-Node 012

02:02:31.770 --> 02:02:33.770
ist am Start. Perfekt. Nice.

02:02:33.770 --> 02:02:35.770
Okay. Also, das funktioniert schon mal.

02:02:35.770 --> 02:02:37.770
Jetzt müssen wir gucken, wie wir

02:02:37.770 --> 02:02:39.770
Load-Balancer anlegen.

02:02:39.770 --> 02:02:41.770
Six-Set. Six-Set-Time.

02:02:41.770 --> 02:02:43.770
Wie legen wir Load-Balancer

02:02:43.770 --> 02:02:45.770
an über die API? Also, wir wollen

02:02:45.770 --> 02:02:47.770
ja, wie gesagt, sowas hier bauen.

02:02:47.770 --> 02:02:52.040
Ein Load-Balancer vorne

02:02:52.040 --> 02:02:54.040
und dann hinten drauf Load-Balanzen auf die

02:02:54.040 --> 02:02:56.040
internen Server.

02:02:56.040 --> 02:03:00.040
So, wie legen wir einen

02:03:00.040 --> 02:03:02.040
Load-Balancer an?

02:03:02.040 --> 02:03:04.040
Load-Balancer-Network.

02:03:04.040 --> 02:03:06.040
Provides erhänzender Cloud-Load-Balancer-Network.

02:03:08.040 --> 02:03:10.040
Private-Network.

02:03:10.040 --> 02:03:12.040
Okay.

02:03:12.040 --> 02:03:21.300
Ne, das brauchen wir nicht.

02:03:21.300 --> 02:03:23.300
Das ist für einen...

02:03:23.300 --> 02:03:25.300
Ne, ne. Das kriegen wir bestimmt.

02:03:25.300 --> 02:03:27.300
Load-Balancer.

02:03:27.300 --> 02:03:30.680
Target.

02:03:30.680 --> 02:03:32.680
Nach welchen Kriterien soll er welche Last balancen?

02:03:32.680 --> 02:03:34.680
Einfach der Reihe nach.

02:03:34.680 --> 02:03:36.680
Aktuell läuft auf den Servern im Backend

02:03:36.680 --> 02:03:41.590
ja noch gar nix.

02:03:41.590 --> 02:03:43.590
Vielleicht sollten wir auf den Servern

02:03:43.590 --> 02:03:45.590
irgendein Hallo-Welt

02:03:45.590 --> 02:03:47.590
oder so starten.

02:03:47.590 --> 02:03:49.590
Guck mal, wir können jetzt unser

02:03:49.590 --> 02:03:51.590
SSH... Achso, Moment.

02:03:51.590 --> 02:03:53.590
Doch. Komm, wir können unseren SSH-Wrapper

02:03:53.590 --> 02:03:55.590
verwenden und uns drauf

02:03:55.590 --> 02:03:57.590
connecten und uns

02:03:57.590 --> 02:03:59.590
freuen, wie gut das funktioniert.

02:03:59.590 --> 02:04:01.590
Ähm, auf welcher

02:04:01.590 --> 02:04:03.590
IP sind wir jetzt?

02:04:03.590 --> 02:04:05.590
Hab ich gar nicht geguckt.

02:04:05.590 --> 02:04:07.590
Äh.

02:04:07.590 --> 02:04:09.590
Wait a minute.

02:04:09.590 --> 02:04:13.290
Wo sind wir hin? Connected.

02:04:13.290 --> 02:04:15.290
Da. Okay, damals.

02:04:15.290 --> 02:04:17.290
Upinstall

02:04:17.290 --> 02:04:19.290
Engine N... Alter.

02:04:19.290 --> 02:04:23.940
Engine X.

02:04:23.940 --> 02:04:25.940
Warum hat er die Pakete nicht aktualisiert?

02:04:25.940 --> 02:04:29.640
Gute Frage. Hab ich das rausgeschmissen?

02:04:29.640 --> 02:04:31.640
Doch, der hat die Pakete aktualisiert.

02:04:31.640 --> 02:04:33.640
Der schreibt... Der schreibt

02:04:33.640 --> 02:04:35.640
dummes Zeug.

02:04:35.640 --> 02:04:37.640
Der schreibt Blödsinn.

02:04:37.640 --> 02:04:42.620
Der schreibt

02:04:42.620 --> 02:04:44.620
Mist in den Output.

02:04:44.620 --> 02:04:46.620
Vielleicht hab ich mich auch schon eingeloggt noch während

02:04:46.620 --> 02:04:48.620
das lief. Keine Ahnung. Aber hat

02:04:48.620 --> 02:04:50.620
funktioniert.

02:04:50.620 --> 02:04:52.620
So, ich installier mal kurz den Engine X.

02:04:52.620 --> 02:04:54.620
Und dann gucken wir, ob

02:04:54.620 --> 02:04:56.620
ich die Hallo-Welt-Seite krieg, wenn ich da drauf

02:04:56.620 --> 02:05:00.950
komm. Was?

02:05:00.950 --> 02:05:06.180
Jaja.

02:05:06.180 --> 02:05:11.610
Was zum...

02:05:11.610 --> 02:05:13.610
Welcome to Engine X!

02:05:13.610 --> 02:05:15.610
Okay, da sind wir. Wunderbar.

02:05:15.610 --> 02:05:24.680
So, ich mach das auch gleich

02:05:24.680 --> 02:05:26.680
über mein Terraform-Skript. Ich will bloß gucken,

02:05:26.680 --> 02:05:28.680
dass es automatisch

02:05:28.680 --> 02:05:30.680
äh, ohne Rückfragen installiert.

02:05:30.680 --> 02:05:32.680
Aber wenn ich minus Y hinmach...

02:05:32.680 --> 02:05:34.680
Ja, Moment.

02:05:34.680 --> 02:05:36.680
Diese Abfragen sind ja mal richtig hängengeblieben.

02:05:36.680 --> 02:05:38.680
Die müssen weg. Muss ich das

02:05:38.680 --> 02:05:42.700
mit apt-get machen?

02:05:42.700 --> 02:05:44.700
apt-get minus Y oder so?

02:05:44.700 --> 02:05:48.140
Wie krieg ich das hin, dass er keine

02:05:48.140 --> 02:05:51.830
interaktiven Abfragen macht?

02:05:51.830 --> 02:05:59.820
apt-get yes.

02:05:59.820 --> 02:06:01.820
Also doch minus Y.

02:06:03.820 --> 02:06:14.620
Der fragt nach. Was ist das?

02:06:14.620 --> 02:06:16.620
Export Debian Frontend non inter...

02:06:16.620 --> 02:06:18.620
Seriously?

02:06:18.620 --> 02:06:22.570
Okay, das ist mir...

02:06:22.570 --> 02:06:24.570
Das ist mir neu. Das wusste ich

02:06:24.570 --> 02:06:28.900
noch nicht, dass man das machen muss.

02:06:28.900 --> 02:06:30.900
Das kenn ich nicht.

02:06:30.900 --> 02:06:32.900
Checkt der das denn, wenn ich...

02:06:32.900 --> 02:06:34.900
Okay, okay. Mal was anderes.

02:06:34.900 --> 02:06:36.900
Mal was anderes.

02:06:36.900 --> 02:06:38.900
Wenn ich sage...

02:06:38.900 --> 02:06:43.050
Und es darüber mache...

02:06:43.050 --> 02:06:47.900
Dann müsste das doch eigentlich

02:06:47.900 --> 02:06:49.900
checken, dass ich kein interaktives Terminal

02:06:49.900 --> 02:06:57.110
hab, oder? No.

02:06:57.110 --> 02:07:03.050
Ja, das checkt er.

02:07:03.050 --> 02:07:05.050
Das checkt er.

02:07:05.050 --> 02:07:09.960
Dann wird das wahrscheinlich in dem Cloud

02:07:09.960 --> 02:07:11.960
Init auch checken, weil er kapiert, dass

02:07:11.960 --> 02:07:13.960
es kein interaktives Terminal ist.

02:07:13.960 --> 02:07:18.940
Das probieren wir jetzt aus.

02:07:18.940 --> 02:07:20.940
Ich glaube, ich brauche gar nichts.

02:07:20.940 --> 02:07:28.090
Ich glaube, ich muss gar nichts machen.

02:07:28.090 --> 02:07:30.090
Er checkt das nicht. Mal gucken.

02:07:30.090 --> 02:07:32.090
Mal schauen. Mal schauen, ob das

02:07:32.090 --> 02:07:34.090
jetzt klappt. Also.

02:07:34.090 --> 02:07:36.090
Wir machen den Krempel nochmal weg.

02:07:36.090 --> 02:07:45.220
Wie ist denn das? Ist das

02:07:45.220 --> 02:07:47.220
apt-get upgrade?

02:07:47.220 --> 02:07:49.220
Dass das ein bisschen einheitlich ist.

02:07:49.220 --> 02:07:52.600
Oder war es dist upgrade?

02:07:52.600 --> 02:07:59.880
Ne, Y

02:07:59.880 --> 02:08:01.880
davor.

02:08:01.880 --> 02:08:03.880
Ich verwende eigentlich schon ewig

02:08:03.880 --> 02:08:05.880
apt-get. Weiß ich gar nicht, ob es update und upgrade

02:08:05.880 --> 02:08:07.880
gibt.

02:08:07.880 --> 02:08:12.730
Pull upgrade? Es gab auch noch

02:08:12.730 --> 02:08:18.730
dist upgrade.

02:08:18.730 --> 02:08:26.710
Gab es auch noch.

02:08:26.710 --> 02:08:28.710
Das ist obsolet. Okay.

02:08:28.710 --> 02:08:30.710
Ich glaube euch das jetzt, Chat.

02:08:30.710 --> 02:08:32.710
So.

02:08:32.710 --> 02:08:34.710
Er hat destroyed.

02:08:34.710 --> 02:08:36.710
Und jetzt wird applied.

02:08:36.710 --> 02:08:38.710
Den ganzen Krempel wieder hingestellt.

02:08:38.710 --> 02:08:40.710
Jetzt gucken wir mal, ob wir einen nginx gleich drauf haben.

02:08:42.710 --> 02:08:44.710
Aber das ist cool zu sehen, wie schnell das geht.

02:08:44.710 --> 02:08:46.710
Oder? Ich meine, guck mal.

02:08:46.710 --> 02:08:48.710
Wir haben jetzt innerhalb von 20 Sekunden

02:08:48.710 --> 02:08:50.710
unsere Cloud-Umgebung. Okay, Cloud-Umgebung

02:08:50.710 --> 02:08:52.710
ist

02:08:52.710 --> 02:08:54.710
ist vielleicht etwas

02:08:54.710 --> 02:08:56.710
übertrieben

02:08:56.710 --> 02:08:58.710
das jetzt zu nennen.

02:08:58.710 --> 02:09:00.710
Aber ich meine immerhin, da würden wir locker

02:09:00.710 --> 02:09:02.710
zwei, drei Minuten rumklicken.

02:09:02.710 --> 02:09:06.980
Oh. Ja.

02:09:06.980 --> 02:09:17.270
Ist gut.

02:09:17.270 --> 02:09:19.270
Ja, man weiß halt nicht so genau, wann es fertig aufgebaut ist.

02:09:21.270 --> 02:09:23.270
Gibt es irgendwie die Möglichkeit

02:09:23.270 --> 02:09:25.270
Terraform noch so eine Art

02:09:25.270 --> 02:09:27.270
Health-Check zu machen? So nach dem

02:09:27.270 --> 02:09:29.270
Motto, ähm

02:09:29.270 --> 02:09:31.270
dass ich dann

02:09:31.270 --> 02:09:33.270
also wisst ihr, dass ich sowas hier machen kann?

02:09:33.270 --> 02:09:35.270
Touch? Keine Ahnung.

02:09:35.270 --> 02:09:37.270
Kackel? Irgendwie. Und dann check ich

02:09:37.270 --> 02:09:39.270
ob es die Datei gibt, weil

02:09:39.270 --> 02:09:41.270
sonst nimmt er ja Server ins

02:09:41.270 --> 02:09:43.270
Loadbalancing theoretisch schon auf,

02:09:43.270 --> 02:09:45.270
die er noch gar nicht aufnehmen sollte, weil er noch gar nicht

02:09:45.270 --> 02:09:50.060
fertig ist. Ja.

02:09:50.060 --> 02:09:52.060
Das machen wir jetzt aber nicht. Wir deployen uns jetzt kein

02:09:52.060 --> 02:09:54.060
Kubernetes.

02:09:54.060 --> 02:09:56.060
So. Login.

02:09:56.060 --> 02:09:59.750
Guck mal, er hat immer noch nicht gecheckt, dass er

02:09:59.750 --> 02:10:03.900
der läuft immer noch im Hintergrund

02:10:03.900 --> 02:10:05.900
mit dem Update.

02:10:05.900 --> 02:10:11.000
Ne, Upget Full Upgrade

02:10:11.000 --> 02:10:14.380
gibt's

02:10:14.380 --> 02:10:16.380
anscheinend auch.

02:10:16.380 --> 02:10:18.380
Ja. Sonst würde er meckern.

02:10:18.380 --> 02:10:20.380
Der macht immer, der macht grad Full Upgrade gibt's

02:10:20.380 --> 02:10:22.380
für beides anscheinend. Also ich hab eh

02:10:22.380 --> 02:10:24.380
keinen blassen Schimmer, warum es

02:10:24.380 --> 02:10:26.380
Uptitude und Upget gibt.

02:10:26.380 --> 02:10:28.380
Debian Leute sind einfach zu

02:10:28.380 --> 02:10:33.990
High IQ dafür.

02:10:33.990 --> 02:10:35.990
Ja, du kannst beim Loadbalancing Health-Check

02:10:35.990 --> 02:10:37.990
ähm definieren,

02:10:37.990 --> 02:10:39.990
aber

02:10:39.990 --> 02:10:41.990
ich müsste irgendwie,

02:10:41.990 --> 02:10:43.990
dass Terraform das checkt.

02:10:43.990 --> 02:10:45.990
Wobei, müsste ich

02:10:45.990 --> 02:10:47.990
das? Ne, ich würde einfach die Anwendung als letztes

02:10:47.990 --> 02:10:49.990
starten und gut ist.

02:10:49.990 --> 02:10:51.990
Na, der RPM ist ja

02:10:51.990 --> 02:10:53.990
noch abartiger. Also

02:10:53.990 --> 02:10:55.990
RPM kannst du mich echt jagen mit.

02:10:55.990 --> 02:10:59.620
So. Jetzt ist er fertig.

02:11:01.620 --> 02:11:03.620
Netstat. Ist der

02:11:03.620 --> 02:11:05.620
Nginx auf?

02:11:05.620 --> 02:11:07.620
Nginx ist da. Ok.

02:11:07.620 --> 02:11:09.620
Zack.

02:11:09.620 --> 02:11:11.620
Webserver ist am Start. Ok.

02:11:11.620 --> 02:11:13.620
Das Funst, also unsere Server

02:11:13.620 --> 02:11:15.620
sind da. Ja, kann ich jetzt den

02:11:15.620 --> 02:11:19.000
Loadbalancer da vorhauen?

02:11:19.000 --> 02:11:21.000
Ok. Loadbalancer.

02:11:21.000 --> 02:11:23.000
Loadbalancer mit der Hetzner Cloud.

02:11:23.000 --> 02:11:25.000
Da muss ich die Server taggen, dass das

02:11:25.000 --> 02:11:27.000
funktioniert. Also.

02:11:27.000 --> 02:11:29.000
Gucken wir mal. Wie macht man

02:11:29.000 --> 02:11:31.000
Loadbalancer?

02:11:31.000 --> 02:11:33.000
Server my Server.

02:11:33.000 --> 02:11:35.000
Ja. Also.

02:11:35.000 --> 02:11:37.000
Der Loadbalancer

02:11:37.000 --> 02:11:39.000
sollte auf jeden Fall als erstes

02:11:39.000 --> 02:11:42.440
gebaut werden.

02:11:42.440 --> 02:11:44.440
Kann ich sowas sagen, wie depends

02:11:44.440 --> 02:11:49.350
on

02:11:49.350 --> 02:11:51.350
chat

02:11:51.350 --> 02:11:53.350
lb?

02:11:53.350 --> 02:11:58.580
Weil

02:11:58.580 --> 02:12:00.580
es wäre sinnvoll, wenn die Server erst

02:12:00.580 --> 02:12:02.580
gebaut wären, wenn der Loadbalancer da ist.

02:12:02.580 --> 02:12:04.580
Auf der anderen Seite, warum?

02:12:04.580 --> 02:12:06.580
Ne, das ist Schwachsinn.

02:12:06.580 --> 02:12:08.580
Umgedreht. Umgedreht

02:12:08.580 --> 02:12:12.540
muss das sein.

02:12:12.540 --> 02:12:14.540
Ne, ne, Server. Ne, ne, ne. Server-ID will ich nicht.

02:12:14.540 --> 02:12:16.540
Server-ID brauche ich nicht. Ne, das kann man schon

02:12:16.540 --> 02:12:18.540
parallel machen, weil wir haben ja Health-Checks.

02:12:18.540 --> 02:12:20.540
Das ist egal. Das passt schon. Muss ich nicht.

02:12:20.540 --> 02:12:22.540
Muss ich nicht machen.

02:12:22.540 --> 02:12:24.540
Ne, Server-IDs will ich nicht. Ich will das über Tags machen.

02:12:24.540 --> 02:12:26.540
Weil Server-IPs und Server-IDs

02:12:26.540 --> 02:12:28.540
sind bescheuert.

02:12:28.540 --> 02:12:30.540
Also. Bei Hetzner

02:12:30.540 --> 02:12:32.540
Loadbalancer mache ich das so. Man kann

02:12:32.540 --> 02:12:34.540
Ich zeige euch das mal, wenn man Loadbalancer

02:12:34.540 --> 02:12:36.540
anlegt. Also das ist so das, was ich

02:12:36.540 --> 02:12:38.540
am praktischsten finde. Wenn du Loadbalancer

02:12:38.540 --> 02:12:40.540
anlegst. Ja. Netzwerk auswählen. Targets.

02:12:40.540 --> 02:12:42.540
So. Und da kann man Label auswählen.

02:12:42.540 --> 02:12:44.540
Und bei

02:12:44.540 --> 02:12:46.540
dem Label kann man, man kann jedem

02:12:46.540 --> 02:12:48.540
Server einen Tag verpassen.

02:12:48.540 --> 02:12:50.540
Und dementsprechend muss ich nicht

02:12:50.540 --> 02:12:52.540
die Loadbalancer-Config anpassen,

02:12:52.540 --> 02:12:54.540
wenn ich neue Server hinzufüge. Also

02:12:54.540 --> 02:12:56.540
zum Beispiel. Ich zeige euch das mal.

02:12:56.540 --> 02:12:58.540
Von Hand jetzt. So. Wir geben

02:12:58.540 --> 02:13:00.540
diesem Server jetzt ein Label. Wenn ich wüsste

02:13:00.540 --> 02:13:02.540
wo man das hier jetzt macht.

02:13:02.540 --> 02:13:04.540
Irgendwie hier oben.

02:13:04.540 --> 02:13:06.540
Ach. Wo sind die? Hier. War das. Genau.

02:13:06.540 --> 02:13:08.540
Label. Also ich kann jetzt zum Beispiel

02:13:08.540 --> 02:13:10.540
sagen Keckel.

02:13:10.540 --> 02:13:12.540
Oh. Bestes

02:13:12.540 --> 02:13:14.540
Label überhaupt.

02:13:14.540 --> 02:13:16.540
Und jetzt lege ich den Loadbalancer

02:13:16.540 --> 02:13:21.320
an. Ich will aber kein

02:13:21.320 --> 02:13:23.320
Hands-On in dem Fall. So. Jetzt lege ich

02:13:23.320 --> 02:13:25.320
den Loadbalancer an. Private Network.

02:13:25.320 --> 02:13:28.950
Ähm.

02:13:28.950 --> 02:13:30.950
Ja. Services. Source. Destination.

02:13:30.950 --> 02:13:32.950
Port 80. Round Robin. Alles ok.

02:13:32.950 --> 02:13:34.950
Create.

02:13:34.950 --> 02:13:36.950
So. Und jetzt

02:13:36.950 --> 02:13:38.950
sage ich dem hier Services.

02:13:38.950 --> 02:13:40.950
Oder ne. Targets. Label.

02:13:40.950 --> 02:13:42.950
Und als Label will ich

02:13:42.950 --> 02:13:50.100
äh.

02:13:50.100 --> 02:13:54.180
Keckel. Äh. Warum ist

02:13:54.180 --> 02:13:59.350
der down? Der sollte auf

02:13:59.350 --> 02:14:01.350
Port 80 eigentlich ready sein?

02:14:01.350 --> 02:14:03.350
Ist doch healthy.

02:14:03.350 --> 02:14:05.350
Passt doch. So. Und ihr seht

02:14:05.350 --> 02:14:07.350
jetzt ist ein Server da drinnen.

02:14:07.350 --> 02:14:09.350
Und schaut mal.

02:14:09.350 --> 02:14:11.350
Wenn ich jetzt. Also das

02:14:11.350 --> 02:14:13.350
ist meine Loadbalancer Config.

02:14:13.350 --> 02:14:15.350
Und wenn ich jetzt. Also hier.

02:14:15.350 --> 02:14:17.350
Guckt. Wenn ich auf die Loadbalancer IP gehe.

02:14:17.350 --> 02:14:19.350
Kriege ich Welcome to Nginx.

02:14:19.350 --> 02:14:21.350
Das ist. Obwohl. Hier. Der Server hat die IP.

02:14:21.350 --> 02:14:23.350
Und der Eingang. Also das hier.

02:14:23.350 --> 02:14:25.350
Ist der Eingang. Und das andere ist der Server dahinter.

02:14:25.350 --> 02:14:27.350
So. Und jetzt.

02:14:27.350 --> 02:14:29.350
Deswegen ist das mit den Labels ganz cool.

02:14:29.350 --> 02:14:31.350
Deswegen kann ich jetzt sagen. Ok.

02:14:31.350 --> 02:14:33.350
Ähm.

02:14:33.350 --> 02:14:35.350
Wir gehen jetzt hier in die Server Config.

02:14:35.350 --> 02:14:37.350
Und ich hab jetzt einen neuen Server gebaut.

02:14:37.350 --> 02:14:39.350
Und. Ich sag mal. Den da.

02:14:39.350 --> 02:14:41.350
Und der kriegt auch ein Label.

02:14:41.350 --> 02:14:43.350
Keckel. Bestes Label.

02:14:43.350 --> 02:14:45.350
Und.

02:14:45.350 --> 02:14:47.350
Jetzt. Seht ihr.

02:14:47.350 --> 02:14:49.350
Die Loadbalancer Config. Hat sich.

02:14:49.350 --> 02:14:51.350
Automatisch.

02:14:51.350 --> 02:14:53.350
Den. Der zweite Node

02:14:53.350 --> 02:14:55.350
geadded. Also sprich.

02:14:55.350 --> 02:14:57.350
Ich kann Server hinzufügen. Und die kommen ins

02:14:57.350 --> 02:14:59.350
Loadbalancing rein.

02:14:59.350 --> 02:15:01.350
Automatisch. Ohne das ich die Loadbalancer

02:15:01.350 --> 02:15:03.350
Config anpassen muss. Deswegen ist das mit

02:15:03.350 --> 02:15:05.350
Labels deutlich cooler.

02:15:05.350 --> 02:15:09.880
Man wird ja verrückt. Wenn

02:15:09.880 --> 02:15:11.880
ihr immer das 1 zu 1 mappen musst.

02:15:11.880 --> 02:15:13.880
So. Loadbalancer kommt weg.

02:15:13.880 --> 02:15:15.880
So. Wir destroyen

02:15:15.880 --> 02:15:17.880
das ganze nochmal.

02:15:17.880 --> 02:15:19.880
Das kann man jetzt. Siehst. Jetzt kann man das

02:15:19.880 --> 02:15:21.880
mega easy machen. Infrastruktur hoch

02:15:21.880 --> 02:15:23.880
hochziehen und wieder löschen. Ok.

02:15:23.880 --> 02:15:25.880
Also. Loadbalancer.

02:15:25.880 --> 02:15:27.880
LB11. NBG1. Ist gut. LB11

02:15:27.880 --> 02:15:29.880
ist der kleinste.

02:15:29.880 --> 02:15:31.880
Mein Loadbalancer. Das ist der

02:15:31.880 --> 02:15:33.880
QChat LB.

02:15:33.880 --> 02:15:35.880
Was sonst?

02:15:35.880 --> 02:15:37.880
So. Type Server.

02:15:37.880 --> 02:15:39.880
Nein. Type Server ist falsch.

02:15:39.880 --> 02:15:50.390
Type. Ähm.

02:15:50.390 --> 02:15:59.660
Type. Wo steht es denn? Hier.

02:15:59.660 --> 02:16:01.660
Ne.

02:16:01.660 --> 02:16:03.660
Target.

02:16:03.660 --> 02:16:09.460
Ach hier. Loadbalancer. Target.

02:16:09.460 --> 02:16:13.740
Type Label

02:16:13.740 --> 02:16:23.700
Selector. Ja.

02:16:23.700 --> 02:16:25.700
Ok. Ok. Ok.

02:16:25.700 --> 02:16:27.700
Also. Das muss ich jetzt

02:16:27.700 --> 02:16:29.700
erstmal checken. Wie das gedacht

02:16:29.700 --> 02:16:34.170
ist. Kann ich das Target nicht

02:16:34.170 --> 02:16:36.170
hier drinne? Doch. Kann ich doch hier drinne.

02:16:36.170 --> 02:16:38.170
definieren.

02:16:38.170 --> 02:16:40.170
Moment.

02:16:40.170 --> 02:16:42.170
Beide Leute.

02:16:42.170 --> 02:16:44.170
Kann ich das Subnet auch hier drinne

02:16:44.170 --> 02:16:46.170
definieren? Ne. Das geht. Das geht nicht.

02:16:46.170 --> 02:16:52.740
Also. Loadbalancer.

02:16:52.740 --> 02:16:54.740
Target ist äh. Type ist

02:16:54.740 --> 02:16:56.740
in dem Fall

02:16:56.740 --> 02:16:58.740
Label Selector.

02:16:58.740 --> 02:17:00.740
Server ID gibt es

02:17:00.740 --> 02:17:07.060
nicht. Aber

02:17:09.060 --> 02:17:11.060
Use Private IP.

02:17:11.060 --> 02:17:15.850
Ne.

02:17:15.850 --> 02:17:17.850
Wollen wir eine Type?

02:17:17.850 --> 02:17:19.850
Ach so.

02:17:19.850 --> 02:17:21.850
Ist das. So. Ok.

02:17:21.850 --> 02:17:23.850
Label. Ähm.

02:17:23.850 --> 02:17:25.850
QChat

02:17:25.850 --> 02:17:29.160
Note.

02:17:29.160 --> 02:17:31.160
Ok. Das heißt ich muss

02:17:31.160 --> 02:17:33.160
meine Server jetzt taggen.

02:17:33.160 --> 02:17:37.300
Also Label. Ok.

02:17:37.300 --> 02:17:39.300
Das müssen wir mal der Reihe nach probieren ob das funktioniert.

02:17:39.300 --> 02:17:41.300
Also. Label Selector.

02:17:41.300 --> 02:17:43.300
Also alle Server in den Loadbalancer

02:17:43.300 --> 02:17:45.300
aufnehmen die das Label QChat

02:17:45.300 --> 02:17:47.300
Note haben. Ähm.

02:17:47.300 --> 02:17:49.300
Und Use Private IPs.

02:17:49.300 --> 02:17:51.300
Ist wahrscheinlich ganz sinnvoll weil

02:17:51.300 --> 02:17:53.300
meine. Uch. Das kennt er ja gar nicht.

02:17:53.300 --> 02:17:55.300
Ne. Das ist im Target

02:17:55.300 --> 02:17:57.300
muss das rein. Use.

02:17:57.300 --> 02:17:59.300
Warum ist

02:17:59.300 --> 02:18:06.580
das durchgestrichen?

02:18:06.580 --> 02:18:08.580
Warum? Warum ist das

02:18:08.580 --> 02:18:15.480
durchgestrichen? True.

02:18:15.480 --> 02:18:19.050
Optional?

02:18:19.050 --> 02:18:25.050
Ne. Das ist nicht

02:18:25.050 --> 02:18:27.050
Deplicated. Wär ja auch

02:18:27.050 --> 02:18:32.860
bescheuert. So. Und

02:18:32.860 --> 02:18:34.860
das Netzwerk muss noch attached werden.

02:18:34.860 --> 02:18:36.860
Das Netzwerk muss noch

02:18:36.860 --> 02:18:38.860
attached werden.

02:18:38.860 --> 02:18:40.860
Oh. Netzwerkzone.

02:18:40.860 --> 02:18:42.860
Jetzt wirds. Jetzt wirds aber Advanced Network.

02:18:42.860 --> 02:18:49.620
Netzwerkzone gibt's hier überhaupt

02:18:49.620 --> 02:18:56.900
nicht zum auswählen.

02:18:56.900 --> 02:19:00.470
Moment. Balancer.

02:19:00.470 --> 02:19:02.470
Network Zone.

02:19:02.470 --> 02:19:04.470
Network Zone of the required location

02:19:04.470 --> 02:19:06.470
is set. Ach ne. Das ist

02:19:06.470 --> 02:19:08.470
wo er sie die Public

02:19:08.470 --> 02:19:10.470
IP anlegen soll. Ne. Das

02:19:10.470 --> 02:19:12.470
ist was anderes.

02:19:12.470 --> 02:19:14.470
Loadbalancer Network.

02:19:14.470 --> 02:19:23.670
Vielleicht checkt er das

02:19:23.670 --> 02:19:25.670
wenn ich. Wenn ich sage Use Private

02:19:25.670 --> 02:19:29.560
IP.

02:19:29.560 --> 02:19:34.860
Vielleicht checkt er das.

02:19:34.860 --> 02:19:36.860
Mal gucken. Mal gucken was passiert.

02:19:36.860 --> 02:19:38.860
Mal gucken was passiert. Apply.

02:19:38.860 --> 02:19:40.860
Oh. Was jetzt?

02:19:40.860 --> 02:19:42.860
Unsupported

02:19:42.860 --> 02:19:46.940
Argument.

02:19:46.940 --> 02:19:53.380
Label Selector.

02:19:53.380 --> 02:19:55.380
Warum nicht? Steht doch hier

02:19:55.380 --> 02:19:57.380
drinne.

02:19:57.380 --> 02:19:59.380
Loadbalancer

02:19:59.380 --> 02:20:03.210
Service gibt's noch?

02:20:03.210 --> 02:20:05.210
Ah ja. Service brauchen wir auch noch. Wir müssen ja einstellen

02:20:05.210 --> 02:20:07.210
was der Loadbalancer loadbalancen soll.

02:20:07.210 --> 02:20:09.210
Ist natürlich auch noch sinnvoll.

02:20:09.210 --> 02:20:16.040
Was eine Vereinswebseite an einem

02:20:16.040 --> 02:20:18.040
Wochenende immer sehr viele Zugriffe. Wie könnte

02:20:18.040 --> 02:20:20.040
ich mir da Performance dazu holen? Die DB und

02:20:20.040 --> 02:20:22.040
Webseiten liegen zum Beispiel bei Hetzner Server XY.

02:20:22.040 --> 02:20:24.040
Es ist die Frage wo

02:20:24.040 --> 02:20:26.040
es Performance Probleme gibt.

02:20:26.040 --> 02:20:28.040
Ist es das Netzwerk? Ist es die

02:20:28.040 --> 02:20:30.040
CPU vom Server? Ist es die Datenbank?

02:20:30.040 --> 02:20:32.040
Die einfachste Variante ist einfach

02:20:32.040 --> 02:20:34.040
fettere Hardware.

02:20:34.040 --> 02:20:36.040
Also da kannst du

02:20:36.040 --> 02:20:38.040
Da kannst du nicht

02:20:38.040 --> 02:20:40.040
viel schief gehen.

02:20:40.040 --> 02:20:42.040
Also eine

02:20:42.040 --> 02:20:44.040
Vereinswebseite kommt ihr an die Grenze.

02:20:44.040 --> 02:20:46.040
Was habt ihr denn da für ein Verein?

02:20:46.040 --> 02:20:48.040
Also ganz im Ernst.

02:20:48.040 --> 02:20:50.040
Selbst mit dem allerkleinsten Server kannst

02:20:50.040 --> 02:20:52.040
du hunderte User gleichzeitig

02:20:52.040 --> 02:20:54.040
wahrscheinlich wenn es eine statische Webseite

02:20:54.040 --> 02:20:56.040
ist surfen. Das juckt den überhaupt nicht.

02:20:56.040 --> 02:21:01.210
Was ist das für eine krasse

02:21:01.210 --> 02:21:03.210
Bestimmt

02:21:03.210 --> 02:21:17.780
auf Java Basis oder so.

02:21:17.780 --> 02:21:19.780
Also ich mein ja das wäre natürlich auch eine Variante.

02:21:19.780 --> 02:21:21.780
Aber das ist glaube ich viel zu kompliziert

02:21:21.780 --> 02:21:28.300
für sowas kleines.

02:21:30.300 --> 02:21:32.300
Also das müsste. Gut.

02:21:32.300 --> 02:21:34.300
Ich mein nachdem es eine Datenbank ist

02:21:34.300 --> 02:21:36.300
ist halt die Frage ob es

02:21:36.300 --> 02:21:38.300
vielleicht an der Datenbank liegt.

02:21:38.300 --> 02:21:40.300
Weil du kannst natürlich 3 weitere

02:21:40.300 --> 02:21:42.300
Applikationsserver davor packen.

02:21:42.300 --> 02:21:44.300
Aber wenn es an der Datenbank liegt

02:21:44.300 --> 02:21:46.300
macht es es dann nicht unbedingt besser.

02:21:46.300 --> 02:21:48.300
Also du musst erstmal rauskriegen

02:21:48.300 --> 02:21:50.300
woran es liegt.

02:21:50.300 --> 02:21:52.300
Also wo es, warum es langsam ist.

02:21:52.300 --> 02:21:54.300
Und dann kannst du dir was überlegen.

02:21:56.300 --> 02:21:58.300
Wenn es nämlich an der Datenbank liegt

02:21:58.300 --> 02:22:00.300
dann ist es relativ einfach.

02:22:00.300 --> 02:22:02.300
Oder mehr RAM.

02:22:02.300 --> 02:22:06.440
Je nachdem woran es hängt.

02:22:06.440 --> 02:22:08.440
Und du kannst Server auch automatisch hoch

02:22:08.440 --> 02:22:10.440
und runter skalieren mit Hetzner.

02:22:10.440 --> 02:22:12.440
Aber da musst du sie für ausschalten.

02:22:12.440 --> 02:22:19.850
Also du kannst

02:22:19.850 --> 02:22:21.850
den Server so lassen wie er ist

02:22:21.850 --> 02:22:23.850
und mehr CPU reinmachen und so das geht.

02:22:23.850 --> 02:22:25.850
Aber dafür musst du ihn ausschalten.

02:22:25.850 --> 02:22:27.850
Das ist dann nicht so sinnvoll an der Stelle.

02:22:27.850 --> 02:22:32.950
Ansonsten müsstest du dir

02:22:32.950 --> 02:22:34.950
Gedanken machen um Datenbankcluster

02:22:34.950 --> 02:22:36.950
und da wird es dann wieder eklig.

02:22:36.950 --> 02:22:38.950
Ich würde aber erstmal gucken

02:22:38.950 --> 02:22:40.950
woran es denn liegt dass es langsam ist.

02:22:40.950 --> 02:22:42.950
So.

02:22:42.950 --> 02:22:44.950
Was hat er jetzt für Schmerzen?

02:22:44.950 --> 02:22:46.950
Label Selector.

02:22:46.950 --> 02:22:50.780
Warum ging das jetzt nicht?

02:22:50.780 --> 02:22:52.780
Label Selector.

02:22:52.780 --> 02:22:59.740
Loadbalancer ID. Achso.

02:22:59.740 --> 02:23:01.740
Das Target habe ich doch reingeschrieben.

02:23:01.740 --> 02:23:09.910
Wo ist denn das Problem?

02:23:09.910 --> 02:23:11.910
Sag doch genau

02:23:11.910 --> 02:23:13.910
ich darf das hier reinschreiben.

02:23:13.910 --> 02:23:15.910
Loadbalancer Target.

02:23:15.910 --> 02:23:17.910
Sag doch.

02:23:17.910 --> 02:23:22.890
Label Selector.

02:23:22.890 --> 02:23:24.890
Warum ist Label Selector hier nicht erwartet?

02:23:24.890 --> 02:23:26.890
Der schlägt.

02:23:26.890 --> 02:23:28.890
Der schlägt mir doch Label Selector.

02:23:28.890 --> 02:23:32.580
Ne.

02:23:32.580 --> 02:23:34.580
Hä?

02:23:34.580 --> 02:23:36.580
Wait a minute.

02:23:36.580 --> 02:23:38.580
Server ID?

02:23:38.580 --> 02:23:51.560
Warte mal jetzt blicke ich nicht mehr durch.

02:23:51.560 --> 02:23:58.970
Äh.

02:23:58.970 --> 02:24:00.970
Ich muss eine eigene Ressource machen wahrscheinlich.

02:24:00.970 --> 02:24:02.970
Ja tatsächlich.

02:24:02.970 --> 02:24:04.970
Das habe ich aber noch nicht so genau gecheckt

02:24:04.970 --> 02:24:06.970
wenn ich ehrlich bin.

02:24:06.970 --> 02:24:08.970
Warum muss ich manchmal

02:24:08.970 --> 02:24:10.970
eine eigene Ressource machen und manchmal

02:24:10.970 --> 02:24:14.340
und manchmal darf ich das

02:24:14.340 --> 02:24:16.340
Warum darf ich das hier inline schreiben?

02:24:16.340 --> 02:24:18.340
Und manchmal nicht?

02:24:18.340 --> 02:24:25.690
Und manchmal nicht?

02:24:25.690 --> 02:24:27.690
Das leuchtet mir noch nicht so ganz ein.

02:24:27.690 --> 02:24:29.690
Also brauche ich

02:24:29.690 --> 02:24:31.690
Loadbalancer

02:24:31.690 --> 02:24:33.690
Target.

02:24:33.690 --> 02:24:35.690
Okay.

02:24:35.690 --> 02:24:37.690
Ja das ist aber

02:24:37.690 --> 02:24:39.690
eklig. Ich meine es wäre schöner wenn ich das

02:24:39.690 --> 02:24:41.690
inline schreiben könnte.

02:24:41.690 --> 02:24:43.690
Loadbalancer Target.

02:24:43.690 --> 02:24:48.220
Cute Chat LB Target.

02:24:48.220 --> 02:24:53.510
Type.

02:24:53.510 --> 02:24:55.510
Label Selector.

02:24:55.510 --> 02:24:57.510
Loadbalancer ID.

02:24:57.510 --> 02:24:59.510
Loadbalancer ID.

02:24:59.510 --> 02:25:01.510
Das da.

02:25:01.510 --> 02:25:03.510
Server ID. Nope. Keine Server ID.

02:25:03.510 --> 02:25:07.140
Use Private.

02:25:07.140 --> 02:25:11.540
Ach hier darf ich das jetzt machen.

02:25:11.540 --> 02:25:13.540
Das inline ist nur die Referenz

02:25:13.540 --> 02:25:15.540
auf eine Ressource die du separat

02:25:15.540 --> 02:25:20.970
erstellen musst.

02:25:20.970 --> 02:25:33.370
Ach so.

02:25:33.370 --> 02:25:35.370
Aber warum. Hm?

02:25:35.370 --> 02:25:37.370
Aber

02:25:37.370 --> 02:25:39.370
warum sollte ich das dann hier angeben

02:25:39.370 --> 02:25:41.370
an der Stelle überhaupt?

02:25:41.370 --> 02:25:43.370
Also das heißt das hier

02:25:43.370 --> 02:25:47.260
bräuchte ich nicht.

02:25:47.260 --> 02:25:49.260
Ich kann es im Prinzip so machen.

02:25:49.260 --> 02:25:51.260
Ne. So.

02:25:51.260 --> 02:25:56.620
So.

02:25:56.620 --> 02:25:58.620
So. Und jetzt

02:25:58.620 --> 02:26:00.620
kann ich das Target hier raus

02:26:00.620 --> 02:26:02.620
lassen wahrscheinlich.

02:26:02.620 --> 02:26:06.250
So. Und so

02:26:06.250 --> 02:26:08.250
musst du. Okay. Bin ich mal gespannt

02:26:08.250 --> 02:26:10.250
ob das so tut. Apply.

02:26:10.250 --> 02:26:18.740
Oh. Oh.

02:26:18.740 --> 02:26:20.740
Add Label Selector. Target Loadbalancer is not

02:26:20.740 --> 02:26:22.740
attached to a network.

02:26:22.740 --> 02:26:24.740
Oh.

02:26:24.740 --> 02:26:26.740
Dann habe ich es verkackt. Okay.

02:26:26.740 --> 02:26:28.740
Weiter. Dann muss

02:26:28.740 --> 02:26:30.740
ich noch ein Loadbalancer Network.

02:26:30.740 --> 02:26:32.740
Das ist aber schon. Also das.

02:26:32.740 --> 02:26:34.740
Weiß ich. Die Syntax könnte schon

02:26:34.740 --> 02:26:40.170
schöner sein. Was ist das?

02:26:40.170 --> 02:26:42.170
Ich zeig es dir.

02:26:42.170 --> 02:26:44.170
Ich zeig es dir gleich. Sobald es funktioniert.

02:26:44.170 --> 02:26:46.170
Also ganz kurz. Du kannst mit Terraform

02:26:46.170 --> 02:26:48.170
Cloud Ressourcen anlegen. Ohne das du den

02:26:48.170 --> 02:26:50.170
Kram von Hand im Web Interface

02:26:50.170 --> 02:26:52.170
klicken musst. Das ganze relativ schnell

02:26:52.170 --> 02:26:54.170
und relativ automatisiert.

02:26:54.170 --> 02:26:56.170
Aber irgendwie bin ich gerade

02:26:56.170 --> 02:26:58.170
zu blöd das richtig zu machen.

02:26:58.170 --> 02:27:00.170
Also was muss ich machen?

02:27:00.170 --> 02:27:02.170
Cloud Balancer. Loadbalancer

02:27:02.170 --> 02:27:04.170
Network.

02:27:04.170 --> 02:27:06.170
Aber ich will doch gar keine IP angeben.

02:27:06.170 --> 02:27:12.300
Ach ne. Network ID

02:27:12.300 --> 02:27:14.300
gibt man einfach nur an.

02:27:14.300 --> 02:27:16.300
Cloud und nicht Cloud

02:27:16.300 --> 02:27:18.300
Ressourcen. Genau. Stimmt. Hast recht.

02:27:18.300 --> 02:27:22.890
Jaja. So. Und hier muss ich jetzt auch noch

02:27:22.890 --> 02:27:24.890
Moment. Moment. Hier muss ich jetzt auch noch

02:27:24.890 --> 02:27:26.890
sagen. Bei dem Loadbalancer muss

02:27:26.890 --> 02:27:28.890
ich auf jeden Fall sagen.

02:27:28.890 --> 02:27:30.890
Depends on

02:27:30.890 --> 02:27:32.890
Depends on

02:27:32.890 --> 02:27:34.890
das Subnet hier.

02:27:34.890 --> 02:27:36.890
Also sprich.

02:27:36.890 --> 02:27:38.890
Der darf den Loadbalancer erst anlegen wenn das

02:27:38.890 --> 02:27:40.890
Netzwerk für den Loadbalancer und die Server da ist.

02:27:40.890 --> 02:27:42.890
Ok.

02:27:42.890 --> 02:27:44.890
Hcloud Loadbalancer Target. Haben wir.

02:27:44.890 --> 02:27:46.890
IP kriegt der Loadbalancer.

02:27:46.890 --> 02:27:48.890
Das soll sich einer ausdenken.

02:27:48.890 --> 02:27:50.890
Ist mir doch egal.

02:27:50.890 --> 02:27:52.890
Network. My Network ID. So.

02:27:52.890 --> 02:27:56.330
Private. Private Network

02:27:56.330 --> 02:27:58.330
ist das.

02:27:58.330 --> 02:28:00.330
Das ist aber schon. Also.

02:28:00.330 --> 02:28:02.330
Da muss ich sagen. Das könnte

02:28:02.330 --> 02:28:04.330
schon ein bisschen schöner

02:28:04.330 --> 02:28:06.330
gemacht sein. Das finde ich sehr umständlich

02:28:06.330 --> 02:28:10.790
gerade.

02:28:10.790 --> 02:28:12.790
Also. Jetzt müsste es doch passen.

02:28:12.790 --> 02:28:18.020
Der Loadbalancer hat

02:28:18.020 --> 02:28:20.020
LB

02:28:20.020 --> 02:28:27.050
Network.

02:28:27.050 --> 02:28:29.050
Ne. Pulumi kenne ich

02:28:29.050 --> 02:28:31.050
gar nicht.

02:28:31.050 --> 02:28:33.050
Ist das. Ist das die.

02:28:33.050 --> 02:28:35.050
Ist das

02:28:35.050 --> 02:28:37.050
die. Der neueste. Der neueste

02:28:37.050 --> 02:28:39.050
Shit. Pulumi vs

02:28:39.050 --> 02:28:47.100
Terraform. Aber wahrscheinlich

02:28:47.100 --> 02:28:49.100
hat Pulumi gar nicht die ganzen Provider

02:28:49.100 --> 02:28:53.880
oder? Ach tatsächlich.

02:28:53.880 --> 02:28:58.020
Ähm.

02:28:58.020 --> 02:29:00.020
Ist das. Der Terraform

02:29:00.020 --> 02:29:02.020
Provider. Quasi.

02:29:02.020 --> 02:29:04.020
Haben die ein Modul das sie

02:29:04.020 --> 02:29:06.020
Terraform Provider verwenden können?

02:29:06.020 --> 02:29:10.230
Das wäre natürlich nice.

02:29:10.230 --> 02:29:14.630
Was TypeScript

02:29:14.630 --> 02:29:16.630
Python Ghost. Moment.

02:29:16.630 --> 02:29:18.630
Man kann das in .NET programmieren?

02:29:18.630 --> 02:29:20.630
Das wird mir ja gleich deutlich

02:29:20.630 --> 02:29:25.860
sympathischer nochmal.

02:29:25.860 --> 02:29:27.860
Ok Leute. Das probieren wir als nächstes aus.

02:29:27.860 --> 02:29:29.860
Nicht heute. Aber das probieren wir.

02:29:29.860 --> 02:29:31.860
Das probieren wir als nächstes aus.

02:29:31.860 --> 02:29:33.860
Ich meine das ist doch cool. Wenn die Anwendungen

02:29:33.860 --> 02:29:35.860
und das Zeug in der gleichen

02:29:35.860 --> 02:29:39.880
Sprache programmiert ist.

02:29:39.880 --> 02:29:41.880
Mal gucken ob es jetzt funktioniert meine

02:29:41.880 --> 02:29:55.300
Config die ich gebaut habe.

02:29:55.300 --> 02:29:57.300
Ja. Neue Streamidee.

02:29:57.300 --> 02:29:59.300
Alter.

02:29:59.300 --> 02:30:06.070
Loadbalancer is not attached to a

02:30:06.070 --> 02:30:08.070
Network. Aber ich sage ihm doch attache

02:30:08.070 --> 02:30:10.070
mal das Network.

02:30:10.070 --> 02:30:12.070
Oder muss ich ihm sagen depends

02:30:12.070 --> 02:30:14.070
on. Wait a minute.

02:30:16.070 --> 02:30:18.070
Ok. Das ist schon echt kompliziert.

02:30:18.070 --> 02:30:20.070
Also wie funktioniert

02:30:20.070 --> 02:30:22.070
das jetzt. Also das Target

02:30:22.070 --> 02:30:24.070
Dependet.

02:30:24.070 --> 02:30:28.020
Dependet on.

02:30:28.020 --> 02:30:30.020
So.

02:30:30.020 --> 02:30:32.020
Weil. Das hier muss er doch

02:30:32.020 --> 02:30:43.140
attachen jetzt.

02:30:43.140 --> 02:30:45.140
Ich will nicht das der LB von den Servern abhängig ist.

02:30:45.140 --> 02:30:47.140
Ja. Doch. Theoretisch.

02:30:47.140 --> 02:30:49.140
Schon. Aber der soll

02:30:49.140 --> 02:30:51.140
das ruhig parallel aufbauen dürfen.

02:30:51.140 --> 02:30:54.780
Ach jetzt geht das. Oder wie?

02:30:54.780 --> 02:30:58.540
Aha. Das war es. Ok.

02:30:58.540 --> 02:31:00.540
Ich hätte es auch wirklich.

02:31:00.540 --> 02:31:02.540
Ja. Ich könnte es wirklich nach den Servern machen.

02:31:02.540 --> 02:31:04.540
Ok. Jetzt hat das funktioniert.

02:31:04.540 --> 02:31:06.540
Loadbalancer.

02:31:06.540 --> 02:31:08.540
QChat LB.

02:31:08.540 --> 02:31:10.540
No Targets. Ok. No Targets

02:31:10.540 --> 02:31:12.540
ist klar. Weil meine Server haben ja

02:31:12.540 --> 02:31:14.540
noch keine.

02:31:14.540 --> 02:31:16.540
Services hat es auch noch nicht.

02:31:16.540 --> 02:31:18.540
Ok. Service müssen wir auch anlegen noch.

02:31:18.540 --> 02:31:20.540
Boah. Das wird jetzt ein bisschen.

02:31:20.540 --> 02:31:22.540
Das wird aber ein bisschen unübersichtlich.

02:31:22.540 --> 02:31:24.540
Der Fedminister. Ach ne.

02:31:24.540 --> 02:31:26.540
Der Medminister hat eine Frage.

02:31:26.540 --> 02:31:28.540
Was hat er denn gefragt?

02:31:28.540 --> 02:31:46.060
Ah. Wenn

02:31:46.060 --> 02:31:48.060
die Server. Ja. Ja. Habe ich doch schon gesagt.

02:31:48.060 --> 02:31:50.060
Könnte man machen. Ja.

02:31:50.060 --> 02:31:52.060
Das Label. Ja. Das Label

02:31:52.060 --> 02:31:54.060
muss noch sein. Aber das ist mir gerade ein bisschen

02:31:54.060 --> 02:31:56.060
sehr umständlich. Weil

02:31:56.060 --> 02:31:58.060
da musst du echt genau gucken was was ist.

02:31:58.060 --> 02:32:00.060
Das hätte man schon

02:32:00.060 --> 02:32:02.060
schöner machen können.

02:32:02.060 --> 02:32:12.660
Ne. Mehr konnte man ja gar nicht

02:32:12.660 --> 02:32:14.660
machen. Ja. Das müsste man

02:32:14.660 --> 02:32:16.660
wirklich in mehrere Dateien aufteilen.

02:32:16.660 --> 02:32:18.660
Loadbalancer. Sonst wie. Ok. Aber

02:32:18.660 --> 02:32:20.660
Aber so. Das.

02:32:20.660 --> 02:32:33.260
Moment. Wenn ich das in die rein.

02:32:33.260 --> 02:32:35.260
Macht das Terraform von oben nach unten

02:32:35.260 --> 02:32:43.880
wenn nichts definiert ist?

02:32:43.880 --> 02:32:45.880
Target.

02:32:45.880 --> 02:32:47.880
So. Und wie kriege ich da jetzt den Loadbalancer

02:32:47.880 --> 02:32:49.880
Service hin? Dass das auch dann auf

02:32:49.880 --> 02:32:55.180
irgendwas Loadbalanced?

02:32:55.180 --> 02:32:57.180
Loadbalancer Service.

02:32:57.180 --> 02:33:04.650
Ok.

02:33:04.650 --> 02:33:06.650
Protokoll. HTTP.

02:33:06.650 --> 02:33:08.650
HTTP.

02:33:08.650 --> 02:33:10.650
Loadbalancer ID.

02:33:10.650 --> 02:33:12.650
Ist der hier.

02:33:12.650 --> 02:33:14.650
Ha. Cloud. Loadbalancer.

02:33:14.650 --> 02:33:16.650
Der Cute Chat LB.

02:33:16.650 --> 02:33:18.650
Muss man da ID hinten

02:33:18.650 --> 02:33:20.650
dran machen? Manchmal ist es ID hinten

02:33:20.650 --> 02:33:22.650
dran. Manchmal nicht.

02:33:22.650 --> 02:33:24.650
Was macht man

02:33:24.650 --> 02:33:26.650
mit Terraform? Cloud Ressourcen oder generell

02:33:26.650 --> 02:33:28.650
VMs und

02:33:28.650 --> 02:33:30.650
Container und Sachen automatisch erstellen

02:33:30.650 --> 02:33:32.650
und anlegen lassen.

02:33:32.650 --> 02:33:34.650
So. Protokoll. HTTP ist gut.

02:33:34.650 --> 02:33:36.650
Port. Listenport 80.

02:33:36.650 --> 02:33:38.650
Destination

02:33:38.650 --> 02:33:40.650
Port. Ah. Ok. Wenigstens ist

02:33:40.650 --> 02:33:42.650
es irgendwie halbwegs innovativ.

02:33:42.650 --> 02:33:44.650
Intuitiv gemacht. Health Check.

02:33:44.650 --> 02:33:46.650
Lassen wir erstmal. Haben wir gerade noch keinen?

02:33:46.650 --> 02:33:48.650
Muss ich da auch sagen?

02:33:48.650 --> 02:33:50.650
Depends on irgendwas?

02:33:50.650 --> 02:33:56.070
Ne. Das wird es wahrscheinlich checken.

02:33:56.070 --> 02:33:58.070
Das ist

02:33:58.070 --> 02:34:00.070
also die Loadbalancer-Config finde ich

02:34:00.070 --> 02:34:02.070
ein bisschen sehr

02:34:02.070 --> 02:34:04.070
umständlich. Warum kann man das nicht einfach

02:34:04.070 --> 02:34:06.070
alles in diesen Loadbalancer reinschreiben?

02:34:06.070 --> 02:34:11.820
Was man da braucht. So. Service.

02:34:11.820 --> 02:34:13.820
Ok. Da sollte jetzt ein

02:34:13.820 --> 02:34:15.820
HTTP-Service hinzufügen, dass der

02:34:15.820 --> 02:34:17.820
Loadbalancer HTTP loadbalancet.

02:34:17.820 --> 02:34:19.820
Übrigens hier auch das coole.

02:34:19.820 --> 02:34:21.820
Du musst es ja nicht jedes Mal destroyen und neu aufbauen.

02:34:21.820 --> 02:34:23.820
Du kannst es auch applyen und schon ist es alles

02:34:25.820 --> 02:34:27.820
Loadbalancers. Services.

02:34:27.820 --> 02:34:29.820
Port 8080.

02:34:29.820 --> 02:34:31.820
So. Und jetzt kriegen unsere Server

02:34:31.820 --> 02:34:33.820
Label. Und zwar

02:34:33.820 --> 02:34:35.820
Qt Chat Node kriegen unsere Server.

02:34:35.820 --> 02:34:39.380
Label.

02:34:39.380 --> 02:34:41.380
Das ist eine Liste.

02:34:41.380 --> 02:34:43.380
Halla. Stand da. Ne.

02:34:43.380 --> 02:34:45.380
Eine Liste.

02:34:45.380 --> 02:34:47.380
Qt Chat Node. Ok.

02:34:47.380 --> 02:34:49.380
Und jetzt. Also wenn

02:34:49.380 --> 02:34:51.380
jetzt alles funktioniert.

02:34:51.380 --> 02:34:55.340
Du brauchst das Depends on beim

02:34:55.340 --> 02:35:01.340
Target nicht.

02:35:01.340 --> 02:35:03.340
Doch. Ne. Ach ja. Das habe ich

02:35:03.340 --> 02:35:05.340
das habe ich eben um

02:35:05.340 --> 02:35:07.340
die Reihenfolge geändert.

02:35:07.340 --> 02:35:20.570
Ok.

02:35:20.570 --> 02:35:22.570
Wenn ich das jetzt applye. Oder auch

02:35:22.570 --> 02:35:24.570
nicht. Was?

02:35:24.570 --> 02:35:26.570
Labels. Map of Strings required.

02:35:26.570 --> 02:35:28.570
Wait a minute. Was?

02:35:28.570 --> 02:35:33.350
Äh.

02:35:33.350 --> 02:35:35.350
Was? Label?

02:35:35.350 --> 02:35:37.350
Map of Strings.

02:35:37.350 --> 02:35:42.580
Äh. Wie macht man

02:35:42.580 --> 02:35:48.520
ne Map? Ok.

02:35:48.520 --> 02:35:50.520
Terraform Map of Strings.

02:35:50.520 --> 02:35:55.300
Map.

02:35:55.300 --> 02:36:09.020
Was? Aha.

02:36:09.020 --> 02:36:11.020
Also.

02:36:11.020 --> 02:36:13.020
So.

02:36:13.020 --> 02:36:20.740
Oder Doppelpunkt.

02:36:20.740 --> 02:36:22.740
Ah ne. Doppelpunkt.

02:36:22.740 --> 02:36:24.740
So. Weil ich hab kein Value.

02:36:24.740 --> 02:36:31.000
So. Oder. Oder.

02:36:31.000 --> 02:36:33.000
Ach ne. So. Ok.

02:36:33.000 --> 02:36:35.000
Apply. Nein. Falsch.

02:36:35.000 --> 02:36:37.000
Label Value is not correctly

02:36:37.000 --> 02:36:39.000
formatted.

02:36:39.000 --> 02:36:43.720
Warum? Ok.

02:36:43.720 --> 02:36:48.250
Das ist high IQ.

02:36:48.250 --> 02:36:50.250
Es ist ein Doppelpunkt. Anstatt

02:36:50.250 --> 02:36:52.250
ein Gleich. Oder ist es ein Gleich. Anstatt ein Doppelpunkt.

02:36:52.250 --> 02:37:01.860
Äh.

02:37:01.860 --> 02:37:03.860
Terraform Labels Map.

02:37:03.860 --> 02:37:11.270
Mein Value darf nicht leer sein.

02:37:11.270 --> 02:37:13.270
Dann haben die das aber doof

02:37:13.270 --> 02:37:15.270
programmiert. Weil im

02:37:15.270 --> 02:37:17.270
Webinterface darf er leer sein.

02:37:17.270 --> 02:37:30.820
Muss da wirklich was drinstehen?

02:37:30.820 --> 02:37:32.820
Da schreib ich halt

02:37:32.820 --> 02:37:34.820
mal 1 rein. Oder so.

02:37:34.820 --> 02:37:39.930
1. Ach das ist ok. Oder was?

02:37:39.930 --> 02:37:45.420
Ok. Das ist

02:37:45.420 --> 02:37:51.860
anscheinend erlaubt.

02:37:51.860 --> 02:37:53.860
Ok. So. Und

02:37:53.860 --> 02:37:55.860
jetzt haben wir im Loadbalancer

02:37:55.860 --> 02:37:59.690
Moment. Loadbalancer

02:37:59.690 --> 02:38:01.690
Mixed.

02:38:01.690 --> 02:38:03.690
Wo ist der Health Check

02:38:03.690 --> 02:38:05.690
kaputt Leute?

02:38:05.690 --> 02:38:07.690
Ah ne. Ist alles da.

02:38:07.690 --> 02:38:11.190
Ok. Es hat funktioniert.

02:38:11.190 --> 02:38:13.190
Ach man kann das ganz weglassen. Wirklich?

02:38:13.190 --> 02:38:15.190
Geht das? Ne. Dann

02:38:15.190 --> 02:38:21.830
mag er nicht. Ne.

02:38:21.830 --> 02:38:23.830
Das geht nicht.

02:38:23.830 --> 02:38:25.830
Guck dann. Dann meckert

02:38:25.830 --> 02:38:30.550
er hier schon rum. Und einfach

02:38:30.550 --> 02:38:32.550
nur Gleich geht auch nicht. Dann fehlt

02:38:32.550 --> 02:38:36.890
ihm was. Also anscheinend muss

02:38:36.890 --> 02:38:38.890
man das wirklich so machen.

02:38:38.890 --> 02:38:40.890
Aber es soll mir

02:38:40.890 --> 02:38:45.990
recht sein. Ich mein.

02:38:45.990 --> 02:38:47.990
Da könnte ich einfach jetzt hier nochmal den Index

02:38:47.990 --> 02:38:49.990
einsetzen. Weil.

02:38:49.990 --> 02:38:51.990
Weil. Ja.

02:38:51.990 --> 02:39:00.490
Was? Null?

02:39:00.490 --> 02:39:02.490
Null. Das ist ne gute Idee.

02:39:02.490 --> 02:39:07.340
Vielleicht funktioniert das.

02:39:07.340 --> 02:39:09.340
Null?

02:39:09.340 --> 02:39:11.340
Wir sind ja hier nicht in JavaScript. Aber.

02:39:11.340 --> 02:39:16.060
Ah. Das Null.

02:39:16.060 --> 02:39:19.370
Ok. Auf die Idee wäre

02:39:19.370 --> 02:39:21.370
ich nicht gekommen. Ganz ehrlich.

02:39:21.370 --> 02:39:28.780
Es funktioniert aber auch nicht.

02:39:28.780 --> 02:39:32.600
Es funktioniert

02:39:32.600 --> 02:39:34.600
aber auch nicht.

02:39:34.600 --> 02:39:36.600
Ne. Das checkt er nicht.

02:39:36.600 --> 02:39:38.600
Ok.

02:39:38.600 --> 02:39:40.600
Das ist. Das kapiert er nicht. Ok.

02:39:40.600 --> 02:39:42.600
Ne. Dann. Dann mach ich jetzt doch das was ich vorher

02:39:42.600 --> 02:39:50.580
vorhatte. So.

02:39:50.580 --> 02:39:52.580
Soll das nicht ein Doppelpunkt oder ein Gleich? Das ist ne gute Frage.

02:39:52.580 --> 02:39:54.580
Ob ein Doppelpunkt oder ein Gleich.

02:39:54.580 --> 02:40:04.740
Ja. Das. Das funktioniert.

02:40:04.740 --> 02:40:08.310
Ist egal.

02:40:08.310 --> 02:40:10.310
Doppelpunkt oder Gleich.

02:40:10.310 --> 02:40:12.310
Ja. Dann mach ich

02:40:12.310 --> 02:40:14.310
Doppelpunkt. Alles gut. Nice.

02:40:14.310 --> 02:40:16.310
So. Also das funktioniert. Und jetzt haben wir

02:40:16.310 --> 02:40:18.310
in unserem Loadbalancer auch 3 Targets.

02:40:18.310 --> 02:40:20.310
Das heißt wir sollten jetzt überall.

02:40:20.310 --> 02:40:24.200
Oder auch nicht.

02:40:24.200 --> 02:40:29.050
Ähm. Warum geht das nicht?

02:40:29.050 --> 02:40:31.050
Ach doch geht.

02:40:31.050 --> 02:40:33.050
Hat eine Weile gebraucht. Da sind wir.

02:40:33.050 --> 02:40:35.050
Leute. Also.

02:40:35.050 --> 02:40:37.050
Das Loadbalancen auf die Nginx

02:40:37.050 --> 02:40:39.050
Standardseite funktioniert schon mal.

02:40:39.050 --> 02:40:42.550
Gut. Also das ist.

02:40:42.550 --> 02:40:44.550
Wobei ich ehrlich sagen muss. Also die Server

02:40:44.550 --> 02:40:46.550
Config und so ist super. Nice.

02:40:46.550 --> 02:40:48.550
Habe ich überhaupt keine Schmerzen mit.

02:40:48.550 --> 02:40:50.550
Aber die LB Config ist schon.

02:40:52.550 --> 02:40:54.550
Leicht. Leicht.

02:40:54.550 --> 02:40:56.550
Paints champig.

02:40:56.550 --> 02:41:01.270
Loadbalancer.

02:41:01.270 --> 02:41:03.270
Service. Loadbalancer.

02:41:03.270 --> 02:41:17.660
Target.

02:41:17.660 --> 02:41:19.660
Das ist schon ein bisschen. Weiß nicht.

02:41:19.660 --> 02:41:26.420
Naja. Ich meine.

02:41:26.420 --> 02:41:28.420
Es gibt schlimmeres.

02:41:28.420 --> 02:41:30.420
Ja. Also das ist ja immer noch

02:41:30.420 --> 02:41:32.420
halbwegs übersichtlich.

02:41:32.420 --> 02:41:34.420
Im Prinzip noch nicht mal 100 Zeilen. Und da macht unser ganze.

02:41:34.420 --> 02:41:36.420
Oh. Jetzt ist.

02:41:36.420 --> 02:41:41.530
Leute. Was ist hier los?

02:41:41.530 --> 02:41:43.530
Fake News.

02:41:43.530 --> 02:41:45.530
Es geht alles.

02:41:45.530 --> 02:41:49.930
Stimmt überhaupt nicht.

02:41:49.930 --> 02:41:51.930
Stimmt überhaupt nicht. Der Server ist noch da.

02:41:51.930 --> 02:41:53.930
Der. Der.

02:41:53.930 --> 02:41:55.930
Der Loadbalancer lügt. Alter.

02:41:55.930 --> 02:42:02.310
Fake News. Komplett.

02:42:02.310 --> 02:42:06.460
Stimmt nicht.

02:42:06.460 --> 02:42:08.460
Servers. Da ist alles ab.

02:42:08.460 --> 02:42:10.460
Alles ab. Und gut.

02:42:10.460 --> 02:42:12.460
Der hat irgendeinen Health Check.

02:42:12.460 --> 02:42:14.460
Verschluckt.

02:42:14.460 --> 02:42:16.460
Der sollte hoffentlich aber

02:42:16.460 --> 02:42:18.460
gleich wieder grün werden.

02:42:18.460 --> 02:42:28.740
Was ist das?

02:42:28.740 --> 02:42:30.740
Ja. Irgendwann machen wir nochmal Kubernetes.

02:42:30.740 --> 02:42:32.740
Leute. Ich sehe schon. Komm.

02:42:32.740 --> 02:42:34.740
Auch. Aber dann brauche ich erst wieder

02:42:34.740 --> 02:42:36.740
das Hetzer Sponsorship.

02:42:36.740 --> 02:42:40.820
Warum wird denn der. Warum wird denn der.

02:42:40.820 --> 02:42:44.970
Nicht grün?

02:42:44.970 --> 02:42:46.970
Auf welchem sind wir auf Node 0?

02:42:46.970 --> 02:42:51.180
Wo ist das Problem hier?

02:42:51.180 --> 02:42:53.180
Hat er den jetzt. Sag mal. Hat er den

02:42:53.180 --> 02:42:55.180
Loadbalancer vielleicht geblockt?

02:42:55.180 --> 02:42:57.180
Weil er zu oft drauf zugegriffen hat?

02:42:57.180 --> 02:43:01.830
Oder sowas.

02:43:01.830 --> 02:43:03.830
Ne. Nginx Log kann ich nicht aufmachen.

02:43:03.830 --> 02:43:05.830
Wenn ich das Nginx Log aufmache.

02:43:05.830 --> 02:43:14.100
Ne.

02:43:14.100 --> 02:43:16.100
Also. Der Loadbalancer hat keinen

02:43:16.100 --> 02:43:22.360
Bock auf Node 0.

02:43:22.360 --> 02:43:24.360
Das interessiert den nicht.

02:43:24.360 --> 02:43:26.360
Port 80 ist

02:43:26.360 --> 02:43:28.360
unhealthy.

02:43:28.360 --> 02:43:30.360
So. Mal gucken was passiert.

02:43:30.360 --> 02:43:32.360
Wenn ich jetzt.

02:43:34.360 --> 02:43:36.360
Also. Node 0 meint er ist kaputt.

02:43:36.360 --> 02:43:39.800
Node 0 ist

02:43:39.800 --> 02:43:41.800
debated out there. Wir machen den aus.

02:43:41.800 --> 02:43:43.800
Moment. Ich bin auf Node 0.

02:43:43.800 --> 02:43:45.800
Systemctl

02:43:45.800 --> 02:43:47.800
Systemctl

02:43:47.800 --> 02:43:49.800
Status

02:43:49.800 --> 02:43:54.330
Nginx

02:43:54.330 --> 02:43:56.330
Ist auch active.

02:43:56.330 --> 02:43:58.330
Das heißt er sollte auch enabled sein.

02:43:58.330 --> 02:44:00.330
Ok. Power off.

02:44:00.330 --> 02:44:02.330
Und Power on.

02:44:02.330 --> 02:44:04.330
Der Server ist online.

02:44:04.330 --> 02:44:06.330
Ich weiß. Ich bin auch grad per SSH drauf eingeloggt.

02:44:06.330 --> 02:44:08.330
Das funktioniert.

02:44:08.330 --> 02:44:10.330
Aber der Loadbalancer ist

02:44:10.330 --> 02:44:12.330
der Meinung. No Pass gibt es

02:44:12.330 --> 02:44:19.990
nicht. Aber zum Glück sind die anderen

02:44:19.990 --> 02:44:27.780
beiden da.

02:44:27.780 --> 02:44:29.780
Node 0 ist wieder da.

02:44:29.780 --> 02:44:34.760
Und jetzt ist der

02:44:34.760 --> 02:44:36.760
Server oben.

02:44:36.760 --> 02:44:41.100
Jo. Was hast du

02:44:41.100 --> 02:44:43.100
für eine Tastatur? Irgendein Logitech

02:44:43.100 --> 02:44:45.100
Dings.

02:44:45.100 --> 02:44:47.100
Also.

02:44:47.100 --> 02:44:49.100
Der Loadbalancer hat definitiv

02:44:49.100 --> 02:44:51.100
irgendwelche Schmerzen mit meinem

02:44:51.100 --> 02:44:53.100
ersten Node.

02:44:53.100 --> 02:45:01.910
Und ich weiß nicht warum.

02:45:01.910 --> 02:45:03.910
Kommt der denn über die private IP drauf?

02:45:03.910 --> 02:45:05.910
Es wäre schon komisch.

02:45:05.910 --> 02:45:07.910
Weil.

02:45:07.910 --> 02:45:09.910
Ach jetzt ist er wieder cool.

02:45:09.910 --> 02:45:11.910
Leute. Es ist alles gut. Es war anscheinend

02:45:11.910 --> 02:45:13.910
gar nichts.

02:45:13.910 --> 02:45:15.910
Es ist alles ok wieder.

02:45:15.910 --> 02:45:17.910
Wunderbar.

02:45:17.910 --> 02:45:19.910
So. Also. Können wir die Load aus

02:45:19.910 --> 02:45:21.910
ihr.

02:45:21.910 --> 02:45:23.910
Komm. Wir machen mal kurz ein bisschen.

02:45:23.910 --> 02:45:25.910
Wir machen mal ein bisschen

02:45:25.910 --> 02:45:29.420
Load. Schauen wir mal.

02:45:29.420 --> 02:45:33.110
Gucken wir mal ob da irgendwas

02:45:33.110 --> 02:45:35.110
nennenswertes. Ne da gehen wir.

02:45:35.110 --> 02:45:37.110
Da gehen wir im.

02:45:37.110 --> 02:45:39.110
Äh. In die Auslastungs

02:45:39.110 --> 02:45:41.110
Crafts.

02:45:41.110 --> 02:45:43.110
Oh. Eine Connection

02:45:43.110 --> 02:45:45.110
pro Sekunde. Huiuiui.

02:45:45.110 --> 02:45:47.110
Ok. Machen wir mal kurz ein bisschen

02:45:47.110 --> 02:45:49.110
Test.

02:45:49.110 --> 02:45:51.110
Äh.

02:45:51.110 --> 02:45:53.110
HTTP.

02:45:53.110 --> 02:45:55.110
Hey ist quasi

02:45:55.110 --> 02:45:57.110
der geistige Nachfolger.

02:45:57.110 --> 02:45:59.110
Von dem Apache

02:45:59.110 --> 02:46:01.110
Load. Äh. Von dem Apache Load

02:46:01.110 --> 02:46:03.110
Server Benchmark Tool.

02:46:03.110 --> 02:46:05.110
Nur das das jetzt Multithreaded ist.

02:46:05.110 --> 02:46:07.110
Und besser. Und. Und. Ich glaub sogar in Rust

02:46:07.110 --> 02:46:09.110
programmiert. Die coolen Leute machen

02:46:09.110 --> 02:46:11.110
alles in Rust. Ok. Hier haben wir 40 Connection

02:46:11.110 --> 02:46:13.110
gehabt. Wollen wir das

02:46:13.110 --> 02:46:15.110
Ding mal ein bisschen stressen?

02:46:15.110 --> 02:46:17.110
Da muss ich mal kurz gucken wie viel

02:46:17.110 --> 02:46:19.110
man hier machen kann. Number of requests

02:46:19.110 --> 02:46:21.110
to run. Default ist 200.

02:46:21.110 --> 02:46:23.110
Number of workers 50. Rate

02:46:23.110 --> 02:46:28.980
Limit. Also ich mein wir können

02:46:28.980 --> 02:46:30.980
wir können mal ein paar. Wir können mal ein bisschen mehr

02:46:30.980 --> 02:46:32.980
Requests machen. Ich hoffe der Stream

02:46:32.980 --> 02:46:34.980
kackt nicht ab bei 2000 Requests.

02:46:34.980 --> 02:46:40.660
Läuft. Läuft der Stream noch?

02:46:40.660 --> 02:46:48.140
Alles gut? Ja sind immer noch.

02:46:48.140 --> 02:46:50.140
Moment. Der kriegt nicht genug parallel durch.

02:46:50.140 --> 02:46:57.220
Kann das sein?

02:46:57.220 --> 02:46:59.220
Der Stream ist überhaupt nicht weg. Ich hab doch Vorschau an.

02:47:01.220 --> 02:47:03.220
Der Stream hat noch nicht mal geruckelt.

02:47:03.220 --> 02:47:12.970
Ähm.

02:47:12.970 --> 02:47:14.970
Number of requests to run. Number of workers to run.

02:47:14.970 --> 02:47:18.340
50. Ist doch ok.

02:47:18.340 --> 02:47:23.320
Ok. Weißt du was?

02:47:23.320 --> 02:47:25.320
Bam. Gib ihm.

02:47:25.320 --> 02:47:34.970
Oh ja. 3000.

02:47:34.970 --> 02:47:40.900
Request pro Sekunde.

02:47:40.900 --> 02:47:52.280
Ok da geht ein bisschen was.

02:47:52.280 --> 02:47:54.280
Ich mein irgendwie nennenswert. Auslastung werden wir

02:47:54.280 --> 02:47:56.280
hier nicht bekommen.

02:47:56.280 --> 02:47:58.280
Na doch. Guck mal. Der Nginx Worker.

02:47:58.280 --> 02:48:00.280
Wir haben 20%

02:48:00.280 --> 02:48:02.280
CPU Auslastung pro Server.

02:48:02.280 --> 02:48:04.280
Ich hab 50

02:48:04.280 --> 02:48:06.280
Worker. Das sollte doch reichen oder?

02:48:08.280 --> 02:48:16.780
Meinst du das ist zu wenig?

02:48:16.780 --> 02:48:24.820
Meinst du das ist zu wenig?

02:48:24.820 --> 02:48:31.400
50. Also

02:48:31.400 --> 02:48:33.400
Keine Ahnung. 500. 500

02:48:33.400 --> 02:48:39.400
Worker. Bam. Oh. Oh.

02:48:39.400 --> 02:48:45.530
Oh. Oh.

02:48:45.530 --> 02:48:47.530
Leute. Leute. Mein Stream kackt ab.

02:48:47.530 --> 02:48:49.530
Can't wait.

02:48:49.530 --> 02:48:54.820
Oh. Oh.

02:48:54.820 --> 02:48:56.820
Das ist zu viel.

02:48:56.820 --> 02:48:58.820
Haha.

02:48:58.820 --> 02:49:00.820
Oh.

02:49:00.820 --> 02:49:12.010
100.

02:49:12.010 --> 02:49:18.140
Ok passt.

02:49:18.140 --> 02:49:22.860
Aber alles gut.

02:49:22.860 --> 02:49:24.860
Also gibt ordentliche Connections.

02:49:24.860 --> 02:49:26.860
Funzt alles.

02:49:26.860 --> 02:49:28.860
Der Server ist auch der Meinung.

02:49:28.860 --> 02:49:30.860
Er ist jetzt bei 50% CPU Last.

02:49:30.860 --> 02:49:32.860
Also der kriegt schon ordentliche

02:49:32.860 --> 02:49:34.860
Der kriegt schon ordentlich was ab.

02:49:34.860 --> 02:49:39.700
6000

02:49:39.700 --> 02:49:45.190
Request pro Sekunde.

02:49:45.190 --> 02:49:48.700
Ja. Please abbrechen.

02:49:48.700 --> 02:49:54.310
Bam.

02:49:54.310 --> 02:49:57.820
Der muss jetzt erst mal wieder

02:49:57.820 --> 02:50:03.300
einkriegen. Guck mal.

02:50:03.300 --> 02:50:05.300
Der Nginx Worker ist immer noch

02:50:05.300 --> 02:50:07.300
Am schwitzen.

02:50:07.300 --> 02:50:11.510
Moment.

02:50:11.510 --> 02:50:13.510
Solltet ihr nicht eigentlich aufhören

02:50:13.510 --> 02:50:15.510
jetzt Request zu machen?

02:50:15.510 --> 02:50:17.510
Oder seid. Ihr seid auch am Start

02:50:17.510 --> 02:50:19.510
jetzt oder? Chat. Seid ihr auch

02:50:19.510 --> 02:50:21.510
am Start?

02:50:21.510 --> 02:50:23.510
Ihr müsst am Start sein.

02:50:23.510 --> 02:50:25.510
Von mir kann es

02:50:25.510 --> 02:50:32.150
nicht mehr liegen.

02:50:32.150 --> 02:50:34.150
Der Chat ist auch am Start.

02:50:34.150 --> 02:50:36.150
Und spammt das Ding voll.

02:50:36.150 --> 02:50:38.150
So Chat. Ihr könnt wieder

02:50:38.150 --> 02:50:40.150
ausmachen. Ja. Ja.

02:50:40.150 --> 02:50:42.150
Hört mal auf. Wir testen

02:50:42.150 --> 02:50:44.150
es dann ob das mit dem Deployment

02:50:44.150 --> 02:50:49.130
funktioniert.

02:50:49.130 --> 02:50:51.130
Ich logge keine IPs. Ne.

02:50:51.130 --> 02:50:53.130
Soll ich IPs loggen?

02:50:53.130 --> 02:50:55.130
Ich darf gar keine IPs loggen.

02:50:55.130 --> 02:50:57.130
Ich würde nie IPs loggen.

02:50:57.130 --> 02:51:07.160
So.

02:51:07.160 --> 02:51:09.160
Ja jetzt passt es wieder.

02:51:09.160 --> 02:51:11.160
Chat hat aufgehört. Alles klar.

02:51:11.160 --> 02:51:13.160
Ja also wir haben doch ganz gut.

02:51:13.160 --> 02:51:15.160
Ihr meint aber guck mal insgesamt hatten wir

02:51:15.160 --> 02:51:17.160
bloß 5 Mbit. Also es hält sich sehr

02:51:17.160 --> 02:51:19.160
in Grenzen.

02:51:19.160 --> 02:51:21.160
Übrigens Loadbalancer kann man live

02:51:21.160 --> 02:51:23.160
scalen. Server kann man soweit

02:51:23.160 --> 02:51:25.160
ich weiß nicht live

02:51:25.160 --> 02:51:32.500
scalen. Genau.

02:51:32.500 --> 02:51:34.500
Da musst du den Server nämlich ausschalten.

02:51:34.500 --> 02:51:36.500
Ok. Wunderbar.

02:51:36.500 --> 02:51:38.500
Also das funktioniert.

02:51:38.500 --> 02:51:40.500
Nein ich logge

02:51:40.500 --> 02:51:42.500
keine IPs. Wie kommst du da drauf?

02:51:42.500 --> 02:51:46.330
Ich hab das natürlich alles entfernt.

02:51:46.330 --> 02:51:48.330
Ähm.

02:51:48.330 --> 02:51:55.160
So.

02:51:55.160 --> 02:51:57.160
Was kann man als nächstes machen?

02:51:57.160 --> 02:51:59.160
Muss gerade mal überlegen

02:51:59.160 --> 02:52:01.160
wo wir stehen geblieben sind. Also wir haben jetzt

02:52:01.160 --> 02:52:03.160
ich mein wir haben ja den Kram hier.

02:52:03.160 --> 02:52:05.160
Ist eigentlich mittlerweile Hans Feld

02:52:05.160 --> 02:52:07.160
am Start.

02:52:07.160 --> 02:52:09.160
Der mir diese Gbait E-Mail geschrieben

02:52:09.160 --> 02:52:11.160
hat.

02:52:11.160 --> 02:52:13.160
Also das haben wir jetzt soweit gebaut.

02:52:13.160 --> 02:52:15.160
Ich weiß nicht ob ich das mit dem Deployment

02:52:15.160 --> 02:52:19.620
jetzt noch machen soll.

02:52:19.620 --> 02:52:21.620
Lass mal kurz in mich gehen.

02:52:21.620 --> 02:52:23.620
Wo sind wir denn stehen geblieben?

02:52:23.620 --> 02:52:28.410
Wir haben das automatisch aufgebaut.

02:52:28.410 --> 02:52:30.410
Wir gucken jetzt noch mal ob das automatische

02:52:30.410 --> 02:52:36.660
aufbauen funktioniert.

02:52:36.660 --> 02:52:38.660
Ein Zertifikat.

02:52:38.660 --> 02:52:40.660
Ja du hast recht.

02:52:40.660 --> 02:52:42.660
Natürlich wir wollen ein Zertifikat

02:52:42.660 --> 02:52:47.190
haben. So machen wir

02:52:47.190 --> 02:52:49.190
das. Das habe ich ja ganz

02:52:49.190 --> 02:52:51.190
vergessen. Managed

02:52:51.190 --> 02:52:57.450
Certificate. Ok.

02:52:57.450 --> 02:52:59.450
Wie funktioniert das jetzt?

02:52:59.450 --> 02:53:01.450
Ich mein Hetzner selbst kann dir

02:53:01.450 --> 02:53:03.450
Let's Encrypt Zertifikate übers Web Interface

02:53:03.450 --> 02:53:05.450
machen. Man könnte das auch selbst

02:53:05.450 --> 02:53:07.450
machen und das Zertifikat dann hochladen

02:53:07.450 --> 02:53:09.450
aber du kannst auch

02:53:09.450 --> 02:53:11.450
sagen Services

02:53:11.450 --> 02:53:13.450
Add Service

02:53:13.450 --> 02:53:15.450
TLS Termination HTTPS

02:53:15.450 --> 02:53:17.450
280 und dann kannst du ein Zertifikat

02:53:17.450 --> 02:53:21.210
hinzufügen. Also

02:53:21.210 --> 02:53:23.210
die meisten Zertifikate sind schon

02:53:23.210 --> 02:53:31.900
expired. Aber man könnte

02:53:31.900 --> 02:53:33.900
sich ja auch neue ausstellen

02:53:33.900 --> 02:53:35.900
lassen jetzt. Ok. Managed

02:53:35.900 --> 02:53:37.900
Certificate.

02:53:37.900 --> 02:53:39.900
Übrigens to do.kekw.services

02:53:39.900 --> 02:53:41.900
Es ist anscheinend

02:53:41.900 --> 02:53:43.900
noch

02:53:43.900 --> 02:53:45.900
keine. Es ist noch nicht so lang

02:53:45.900 --> 02:53:47.900
her gewesen wo wir das verwendet haben.

02:53:47.900 --> 02:53:49.900
Wait a minute. Expires?

02:53:49.900 --> 02:53:54.490
Hä?

02:53:54.490 --> 02:53:59.210
Wir haben das erst im April

02:53:59.210 --> 02:54:01.210
gemacht? Ist es

02:54:01.210 --> 02:54:03.210
so kurz her

02:54:03.210 --> 02:54:05.210
dass wir Svelte geübt haben?

02:54:05.210 --> 02:54:07.210
Kann gar nicht sein. Das haben wir doch letztes Jahr schon

02:54:07.210 --> 02:54:11.350
gemacht. Ist auch egal.

02:54:11.350 --> 02:54:13.350
Wie kriegen wir Zertifikate?

02:54:13.350 --> 02:54:15.350
Hier. Hcloud

02:54:15.350 --> 02:54:17.350
Managed Certificate

02:54:17.350 --> 02:54:20.660
Managed Certificate

02:54:20.660 --> 02:54:22.660
Und

02:54:22.660 --> 02:54:24.660
das wird glaube ich jetzt ziemlich

02:54:24.660 --> 02:54:26.660
big brain. Obtain a cloud

02:54:26.660 --> 02:54:28.660
Hetzner Cloud Managed TLS Certificate

02:54:28.660 --> 02:54:34.410
Ich will keine

02:54:34.410 --> 02:54:36.410
Zertifikat uploaden. Ich will, dass die mir eins

02:54:36.410 --> 02:54:38.410
ausstellen. Also die sollen mir

02:54:38.410 --> 02:54:40.410
über Let's Encrypt eins ausstellen. Ich will das

02:54:40.410 --> 02:54:42.410
Ich meine ich könnte das selbst machen.

02:54:42.410 --> 02:54:44.410
Lokal mit irgendwie einem Certboard

02:54:44.410 --> 02:54:46.410
und es dann hochladen.

02:54:46.410 --> 02:54:48.410
Aber...

02:54:48.410 --> 02:54:50.410
Wenn die das machen können, warum nicht?

02:54:50.410 --> 02:54:52.410
Weil wenn ich Certboard machen will

02:54:52.410 --> 02:54:54.410
jetzt beispielsweise für

02:54:54.410 --> 02:54:56.410
kekw.services

02:54:56.410 --> 02:54:58.410
Dann müsste

02:54:58.410 --> 02:55:00.410
ich irgendwie über die

02:55:00.410 --> 02:55:02.410
Da müsste ich mir erstmal einen

02:55:02.410 --> 02:55:04.410
APKey für ein DNS besorgen und sowas.

02:55:04.410 --> 02:55:08.810
Haben die was für DNS?

02:55:08.810 --> 02:55:10.810
DNS?

02:55:10.810 --> 02:55:12.810
Was ist denn R-DNS?

02:55:12.810 --> 02:55:14.810
Reverse DNS

02:55:14.810 --> 02:55:16.810
DNS?

02:55:16.810 --> 02:55:21.910
Cert

02:55:21.910 --> 02:55:27.020
Uploaded Certificate

02:55:27.020 --> 02:55:30.330
Certificates

02:55:30.330 --> 02:55:32.330
Ah ja gut.

02:55:32.330 --> 02:55:34.330
Da könnte ich das Zertifikat, das könnte ich mir

02:55:34.330 --> 02:55:36.330
lokal mit einem Certboard irgendwie ausstellen und dann

02:55:36.330 --> 02:55:40.730
hochschieben.

02:55:40.730 --> 02:55:42.730
Ja das könnte ich machen. Aber die sollen mir lieber

02:55:42.730 --> 02:55:44.730
selbst mal eins ausstellen.

02:55:44.730 --> 02:55:46.730
Resource Cloud Managed

02:55:46.730 --> 02:55:48.730
Okay probieren wir es mal aus.

02:55:48.730 --> 02:55:50.730
Also nachdem der

02:55:50.730 --> 02:55:52.730
Loadbalancer da ist vielleicht

02:55:52.730 --> 02:55:56.490
Gucken ob das funktioniert.

02:55:56.490 --> 02:55:58.490
Domain Names

02:55:58.490 --> 02:56:00.490
Wir wollen

02:56:00.490 --> 02:56:02.490
Sternische Punkt kekw.services

02:56:02.490 --> 02:56:04.490
Das ist ja

02:56:04.490 --> 02:56:06.490
noch auf Hetzner umgebogen. Das müsste noch

02:56:06.490 --> 02:56:08.490
funktionieren. War es

02:56:08.490 --> 02:56:10.490
.service oder .services?

02:56:10.490 --> 02:56:12.490
Hat jemand aufgepasst?

02:56:12.490 --> 02:56:14.490
Na super.

02:56:14.490 --> 02:56:18.060
Geil.

02:56:18.060 --> 02:56:20.060
kekw.services

02:56:20.060 --> 02:56:22.060
war es.

02:56:22.060 --> 02:56:25.620
kekw.services

02:56:25.620 --> 02:56:27.620
Discard

02:56:27.620 --> 02:56:29.620
Also kekw.services Wildcard

02:56:29.620 --> 02:56:31.620
Zertifikat

02:56:31.620 --> 02:56:33.620
Ähm

02:56:33.620 --> 02:56:35.620
Okay brauchen wir ein Wildcard Zertifikat?

02:56:35.620 --> 02:56:37.620
Ist egal.

02:56:37.620 --> 02:56:40.940
Für was sind

02:56:40.940 --> 02:56:42.940
die Labels? Jetzt blick ich nicht

02:56:42.940 --> 02:56:44.940
ganz durch wie das gedacht ist.

02:56:44.940 --> 02:56:46.940
Domain Names

02:56:46.940 --> 02:56:48.940
Zertifikat will be obtained.

02:56:48.940 --> 02:56:50.940
User defined Labels

02:56:50.940 --> 02:56:52.940
should be created with. Ach so.

02:56:52.940 --> 02:56:54.940
Das ist das ich es dann einfacher wieder finde oder

02:56:54.940 --> 02:56:56.940
wie? Nö ich brauch kein Label.

02:56:56.940 --> 02:57:03.000
Ne Moment. Oder

02:57:03.000 --> 02:57:05.000
ist. Da bin ich mir jetzt gar nicht

02:57:05.000 --> 02:57:07.000
so sicher ehrlich gesagt wofür das da ist.

02:57:07.000 --> 02:57:09.000
Egal. Apply.

02:57:09.000 --> 02:57:11.000
Wir probieren das jetzt einfach mal aus.

02:57:11.000 --> 02:57:13.000
Was er macht.

02:57:13.000 --> 02:57:15.000
Apply. Gucken was passiert.

02:57:15.000 --> 02:57:17.000
Mehr als

02:57:17.000 --> 02:57:19.000
Let's Encrypt für die Woche gesperrt werden kann ich nicht.

02:57:19.000 --> 02:57:29.800
Zertifikat

02:57:29.800 --> 02:57:31.800
managed. Creating. Okay.

02:57:31.800 --> 02:57:47.460
Das dauert jetzt ein bisschen.

02:57:47.460 --> 02:57:49.460
Der muss ja diesen ganzen Let's Encrypt

02:57:49.460 --> 02:57:51.460
Zertifizierungskram da

02:57:51.460 --> 02:57:59.060
durchmachen. Okay

02:57:59.060 --> 02:58:01.060
Creation complete. A service

02:58:01.060 --> 02:58:03.060
for the given source port is already defined.

02:58:03.060 --> 02:58:05.060
Ich weiß du sollst es ja auch

02:58:05.060 --> 02:58:07.060
nicht neu anlegen. Kekl alter.

02:58:07.060 --> 02:58:09.060
Okay.

02:58:09.060 --> 02:58:11.060
Ist jetzt ein wenigstens ein Zertifikat da.

02:58:11.060 --> 02:58:19.300
Oh. Habe ich die Services

02:58:19.300 --> 02:58:21.300
Oh ich glaube ich habe die Services

02:58:21.300 --> 02:58:26.150
gerade gekillt.

02:58:26.150 --> 02:58:28.150
Aber hätten wir dann theoretisch ein

02:58:28.150 --> 02:58:30.150
TLS Termination

02:58:30.150 --> 02:58:32.150
Zertifikat. Ach hier guck dir mal.

02:58:32.150 --> 02:58:34.150
Managed Cert. Da ist es doch.

02:58:34.150 --> 02:58:38.620
Aber das sollte nicht

02:58:38.620 --> 02:58:40.620
Managed Cert heißen. Managed Cert ist ein

02:58:40.620 --> 02:58:42.620
ziemlicher Kackname. Ich muss bloß aufpassen

02:58:42.620 --> 02:58:44.620
Leute. Ich darf nicht so viele Zertifikat

02:58:44.620 --> 02:58:46.620
also Let's Encrypt hat jetzt

02:58:46.620 --> 02:58:48.620
relativ großzügige Limits aber

02:58:48.620 --> 02:58:50.620
halt doch

02:58:50.620 --> 02:58:52.620
hat schon halt

02:58:52.620 --> 02:58:56.950
Limits.

02:58:56.950 --> 02:58:58.950
So. Das Zertifikat heißt

02:58:58.950 --> 02:59:00.950
Qt Chat

02:59:00.950 --> 02:59:04.390
Cert

02:59:04.390 --> 02:59:12.180
So.

02:59:12.180 --> 02:59:14.180
Und jetzt müssen wir

02:59:14.180 --> 02:59:16.180
auf den Loadbalancer Service

02:59:16.180 --> 02:59:19.620
auf den Loadbalancer Service

02:59:19.620 --> 02:59:21.620
und dem sagen, dass der

02:59:21.620 --> 02:59:23.620
dieses Zertifikat verwenden soll. Also wahrscheinlich

02:59:23.620 --> 02:59:27.320
hier

02:59:27.320 --> 02:59:29.320
Hier. Dem muss ich nämlich sagen, dass er Zertifikate

02:59:29.320 --> 02:59:31.320
verwenden soll. Und

02:59:31.320 --> 02:59:33.320
dementsprechend muss ich das Zertifikat

02:59:33.320 --> 02:59:35.320
vor dem Service erstellen

02:59:35.320 --> 02:59:37.320
weil ansonsten wird das nix.

02:59:37.320 --> 02:59:39.320
Was genau ist ein Wildcard Zertifikat eigentlich?

02:59:39.320 --> 02:59:41.320
Das ist ein Zertifikat was für alles

02:59:41.320 --> 02:59:43.320
gültig ist unterhalb von kekw.services

02:59:43.320 --> 02:59:45.320
für Sternchenpunkt

02:59:45.320 --> 02:59:47.320
kekw.services. Normalerweise würdest du

02:59:47.320 --> 02:59:49.320
oder normalerweise würdest

02:59:49.320 --> 02:59:51.320
du das Zertifikat ausstellen für diese

02:59:51.320 --> 02:59:53.320
Domain. lul.kekw.services

02:59:53.320 --> 02:59:55.320
Dann bräuchtest du für jede

02:59:55.320 --> 02:59:57.320
Domain ein extra. Ich meine können wir an der

02:59:57.320 --> 02:59:59.320
Stelle eigentlich jetzt auch mal machen ehrlich

02:59:59.320 --> 03:00:01.320
gesagt.

03:00:01.320 --> 03:00:03.320
Wir können dann auch noch ein DNS

03:00:03.320 --> 03:00:05.320
Eintrag machen falls das über Terraform

03:00:05.320 --> 03:00:07.320
geht. Ja DNS Eintrag. Das muss ich

03:00:07.320 --> 03:00:09.320
mal noch. DNS.

03:00:09.320 --> 03:00:11.320
Muss ich mal gucken wie wir das machen.

03:00:11.320 --> 03:00:13.320
Ja wir stellen uns ein Zertifikat hierfür

03:00:13.320 --> 03:00:15.320
aus. Ja also wir haben jetzt hier irgendwie

03:00:15.320 --> 03:00:17.320
Hello.

03:00:17.320 --> 03:00:19.320
Hello.kekw.services

03:00:19.320 --> 03:00:21.320
Haben wir jetzt.

03:00:21.320 --> 03:00:23.320
Und die Label

03:00:23.320 --> 03:00:25.320
brauche ich nicht. Die sind unsinnig.

03:00:25.320 --> 03:00:27.320
Und wie kriege ich denn jetzt hier den

03:00:27.320 --> 03:00:29.320
das Zertifikat

03:00:29.320 --> 03:00:31.320
da rein.

03:00:31.320 --> 03:00:33.320
Also Protokoll kann http

03:00:33.320 --> 03:00:35.320
https sein. Listenport

03:00:35.320 --> 03:00:37.320
muss logischerweise 443 sein.

03:00:37.320 --> 03:00:39.320
Destinationport port 80.

03:00:39.320 --> 03:00:47.370
Wo sich nur

03:00:47.370 --> 03:00:49.370
Cuties rumtreiben dürfen. Ist doch so.

03:00:49.370 --> 03:00:51.370
Chat oder ist das hier nicht so.

03:00:51.370 --> 03:00:53.370
Ich dachte hier sind einzig

03:00:53.370 --> 03:00:55.370
und alleine Cuties

03:00:55.370 --> 03:01:00.280
unterwegs. Oder oder

03:01:00.280 --> 03:01:02.280
nicht. Jetzt

03:01:02.280 --> 03:01:11.610
enttäuscht mich nicht Chat.

03:01:11.610 --> 03:01:13.610
Chat hat kein Bock was zu zu sagen.

03:01:13.610 --> 03:01:15.610
Also.

03:01:15.610 --> 03:01:17.610
Deswegen lurke ich nur.

03:01:17.610 --> 03:01:19.610
Vielleicht liegt es daran ja.

03:01:19.610 --> 03:01:21.610
Vielleicht hast du Angst ausgeschlossen

03:01:21.610 --> 03:01:23.610
zu werden aus dem Cutie Chat.

03:01:23.610 --> 03:01:25.610
Hälfte

03:01:25.610 --> 03:01:27.610
Weep Hälfte

03:01:27.610 --> 03:01:29.610
Giga Chat.

03:01:29.610 --> 03:01:31.610
Ganz bestimmt ja.

03:01:31.610 --> 03:01:33.610
Manche Leute sind Giga Chat und Weep in einem.

03:01:33.610 --> 03:01:35.610
Geht das

03:01:35.610 --> 03:01:37.610
überhaupt.

03:01:37.610 --> 03:01:39.610
Da haben die Nemers was dagegen.

03:01:39.610 --> 03:01:41.610
So wo gebe ich denn jetzt hier das Zertifikat an.

03:01:41.610 --> 03:01:45.050
Enable

03:01:45.050 --> 03:01:47.050
Protokoll Support.

03:01:47.050 --> 03:01:50.870
Was auch immer.

03:01:50.870 --> 03:01:52.870
Certificates hier.

03:01:52.870 --> 03:01:54.870
List of IDs from Certificates with

03:01:54.870 --> 03:01:56.870
Loadbalancer. Ok.

03:01:56.870 --> 03:01:58.870
Also gebe ich jetzt hier

03:01:58.870 --> 03:02:00.870
Redirect http. Ja das wollen wir auch.

03:02:00.870 --> 03:02:05.660
http support

03:02:05.660 --> 03:02:07.660
Sie wollten hinschreiben https supports

03:02:07.660 --> 03:02:21.530
wahrscheinlich.

03:02:21.530 --> 03:02:23.530
Die wollten https support schreiben.

03:02:23.530 --> 03:02:31.640
Also Certificates kann ich

03:02:31.640 --> 03:02:33.640
da jetzt hinschreiben.

03:02:33.640 --> 03:02:35.640
Cert. Ne.

03:02:35.640 --> 03:02:39.850
Hm.

03:02:39.850 --> 03:02:41.850
Gibt es hier angeblich gar nicht.

03:02:41.850 --> 03:02:46.060
http supports

03:02:46.060 --> 03:02:48.060
the following fields.

03:02:48.060 --> 03:02:50.060
Wie http. Kann ich

03:02:50.060 --> 03:02:54.010
einfach http jetzt.

03:02:54.010 --> 03:02:56.010
Ok das finde ich irgendwie.

03:02:56.010 --> 03:02:58.010
Das habe ich noch nicht so genau kapiert.

03:02:58.010 --> 03:03:00.010
Wann man Sachen hier inline schreiben darf.

03:03:00.010 --> 03:03:02.010
Und wann man extra Ressourcen

03:03:02.010 --> 03:03:06.150
anlegen muss. Ok.

03:03:06.150 --> 03:03:08.150
http supports

03:03:08.150 --> 03:03:10.150
fields. Ok.

03:03:10.150 --> 03:03:12.150
Also.

03:03:12.150 --> 03:03:14.150
Certificate.

03:03:14.150 --> 03:03:16.150
Oder das muss sogar https sein.

03:03:16.150 --> 03:03:20.360
Redirect http.

03:03:20.360 --> 03:03:22.360
Certificates.

03:03:22.360 --> 03:03:24.360
Und da jetzt

03:03:24.360 --> 03:03:26.360
eine Liste mit den IDs.

03:03:26.360 --> 03:03:28.360
So. Die Liste

03:03:28.360 --> 03:03:30.360
von den IDs ist ja

03:03:30.360 --> 03:03:32.360
hcloud.managezertifikat

03:03:32.360 --> 03:03:35.670
cutechatcert.

03:03:35.670 --> 03:03:37.670
Für was ist reverse DNS gut?

03:03:37.670 --> 03:03:39.670
Naja. Für was ist DNS gut?

03:03:39.670 --> 03:03:41.670
DNS ist gut um Namen zu

03:03:41.670 --> 03:03:43.670
IPs aufzulösen.

03:03:43.670 --> 03:03:45.670
Und jetzt bist du dran Logical.

03:03:45.670 --> 03:03:49.300
Für was ist reverse DNS gut?

03:03:49.300 --> 03:03:51.300
Bei DNS löst du Namen zu IPs auf.

03:03:51.300 --> 03:04:09.210
Was machst du mit reverse DNS?

03:04:09.210 --> 03:04:11.210
Du hast es falsch gelesen. Du hast reverse Proxy gelesen.

03:04:11.210 --> 03:04:13.210
Also was Lithium schreibt ist

03:04:13.210 --> 03:04:15.210
Schwachsinn. Musst du dir nicht merken.

03:04:15.210 --> 03:04:17.210
Also. DNS löst

03:04:17.210 --> 03:04:19.210
Namen zu IPs auf.

03:04:19.210 --> 03:04:21.210
Und reverse DNS löst IPs zu Namen auf.

03:04:21.210 --> 03:04:37.130
Man muss aber sagen.

03:04:37.130 --> 03:04:39.130
In DNS kann

03:04:39.130 --> 03:04:41.130
ähm

03:04:41.130 --> 03:04:43.130
Ein Name

03:04:43.130 --> 03:04:45.130
Kann im Zweifelsfall

03:04:45.130 --> 03:04:47.130
mehrere

03:04:47.130 --> 03:04:49.130
IPs auflösen. Ja.

03:04:49.130 --> 03:04:51.130
Zu mehreren IPs.

03:04:51.130 --> 03:04:53.130
Aber was nicht geht ist.

03:04:53.130 --> 03:04:55.130
Du kannst nicht eine

03:04:55.130 --> 03:04:57.130
IP zu mehreren Namen

03:04:57.130 --> 03:04:59.130
reverse auflösen lassen.

03:04:59.130 --> 03:05:06.090
So. cutechatcert

03:05:06.090 --> 03:05:08.090
destination port

03:05:08.090 --> 03:05:12.300
So. redirect

03:05:12.300 --> 03:05:14.300
redirect http

03:05:14.300 --> 03:05:16.300
true 0w

03:05:16.300 --> 03:05:18.300
Ok. Wenn jetzt alles

03:05:18.300 --> 03:05:20.300
funktioniert Leute.

03:05:20.300 --> 03:05:22.300
Sollten wir

03:05:22.300 --> 03:05:24.300
gleich ein Loadbalancer haben mit

03:05:24.300 --> 03:05:26.300
gültigem Zertifikat.

03:05:26.300 --> 03:05:28.300
Und dann fehlt uns noch der DNS.

03:05:28.300 --> 03:05:30.300
Apply

03:05:30.300 --> 03:05:32.300
Ach fuck. Na super.

03:05:32.300 --> 03:05:34.300
Das wäre ja zu einfach.

03:05:34.300 --> 03:05:36.300
Incorrect attribute.

03:05:36.300 --> 03:05:38.300
Zertifikat. Achso. Punkt ID fehlt.

03:05:38.300 --> 03:05:42.440
Punkt ID.

03:05:42.440 --> 03:05:46.390
Aha.

03:05:46.390 --> 03:05:48.390
Modifications complete.

03:05:48.390 --> 03:05:50.390
Was macht der Loadbalancer?

03:05:52.390 --> 03:05:54.390
Discard changes.

03:05:54.390 --> 03:05:58.790
Der Loadbalancer macht noch gar nichts.

03:05:58.790 --> 03:06:08.120
Warum legt der

03:06:08.120 --> 03:06:10.120
neue IPs an? Hä?

03:06:10.120 --> 03:06:12.120
Ok. Ich sag nix.

03:06:12.120 --> 03:06:14.120
Still creating.

03:06:14.120 --> 03:06:16.120
Ja. Das Zertifikat erstellen dauert 30-40 Sekunden.

03:06:16.120 --> 03:06:20.330
So.

03:06:20.330 --> 03:06:22.330
Creating. LB service. Alles klar.

03:06:22.330 --> 03:06:24.330
Hat funktioniert.

03:06:24.330 --> 03:06:26.330
So. Da sind wir.

03:06:26.330 --> 03:06:28.330
Services.

03:06:28.330 --> 03:06:30.330
Ja. Und.

03:06:30.330 --> 03:06:34.220
Wo?

03:06:34.220 --> 03:06:36.220
Ja. Der braucht kurz.

03:06:36.220 --> 03:06:38.220
Der Heißkater ist reingedrückt.

03:06:38.220 --> 03:06:40.220
Wo sehe ich denn jetzt die Zertifikate?

03:06:40.220 --> 03:06:42.220
cutechatcert. Da sind wir.

03:06:42.220 --> 03:06:44.220
Zack. Funst.

03:06:44.220 --> 03:06:46.220
Das wird sich

03:06:46.220 --> 03:06:48.220
gleich wieder erholen hier.

03:06:48.220 --> 03:06:54.020
Geh ich mal von aus.

03:06:54.020 --> 03:06:57.910
So. Wunderbar.

03:06:57.910 --> 03:06:59.910
Jetzt fehlt bloß noch DNS.

03:06:59.910 --> 03:07:01.910
DNS.

03:07:01.910 --> 03:07:03.910
Aber das funktioniert wahrscheinlich

03:07:03.910 --> 03:07:11.580
nicht. Wo war jetzt

03:07:11.580 --> 03:07:13.580
Hetzner Cloud Reverse Entry?

03:07:13.580 --> 03:07:24.540
Ähm.

03:07:24.540 --> 03:07:26.540
Ne. Ich brauch DNS Einträge.

03:07:26.540 --> 03:07:30.680
Terraform

03:07:30.680 --> 03:07:32.680
Hetzner DNS.

03:07:32.680 --> 03:07:34.680
Hetzner

03:07:34.680 --> 03:07:40.490
DNS Record.

03:07:40.490 --> 03:07:42.490
Vielleicht gibt es die hier. Guck mal.

03:07:42.490 --> 03:07:44.490
Hetzner DNS Record Resource.

03:07:44.490 --> 03:07:46.490
So. So. Was gibt es noch bei Hetzner?

03:07:46.490 --> 03:07:49.860
Ach. Das sind jetzt.

03:07:49.860 --> 03:07:51.860
Das sind jetzt

03:07:51.860 --> 03:07:53.860
User Dinger.

03:07:53.860 --> 03:08:00.950
Hetzner DNS.

03:08:00.950 --> 03:08:05.930
API Token. Hetzner DNS API Token.

03:08:05.930 --> 03:08:07.930
Okay. Das hat mit der Cloud nichts zu tun.

03:08:07.930 --> 03:08:09.930
Ne. Dann kann ich das so nicht machen.

03:08:09.930 --> 03:08:11.930
Aber was ich machen kann ist

03:08:11.930 --> 03:08:13.930
jetzt von Hand den DNS

03:08:13.930 --> 03:08:18.200
Eintrag zu machen.

03:08:18.200 --> 03:08:20.200
Chat. Ihr müsst mal kurz weggucken.

03:08:20.200 --> 03:08:22.200
Ich bin mir nicht ganz sicher was man sieht.

03:08:22.200 --> 03:08:24.200
Wenn ich den.

03:08:24.200 --> 03:08:28.340
Ich bin mir nicht ganz sicher was man sieht.

03:08:28.340 --> 03:08:30.340
Wenn ich die DNS Settings aufmache.

03:08:30.340 --> 03:08:38.390
DNS Settings.

03:08:38.390 --> 03:08:40.390
Ne. Man sieht gar nichts.

03:08:40.390 --> 03:08:43.960
Man sieht. Man sieht überhaupt nichts.

03:08:43.960 --> 03:08:45.960
Nichts. Nichts Schlimmes.

03:08:45.960 --> 03:08:47.960
So.

03:08:47.960 --> 03:08:51.980
Display.

03:08:51.980 --> 03:08:55.350
Ne. Man sieht überhaupt nichts Schlimmes.

03:08:55.350 --> 03:08:57.350
Also. Queque Service. Können wir hinzufügen.

03:08:57.350 --> 03:08:59.350
Gut. Das müsste man

03:08:59.350 --> 03:09:01.350
halt gucken wie man da

03:09:01.350 --> 03:09:03.350
Hetzner DNS

03:09:03.350 --> 03:09:12.420
API.

03:09:12.420 --> 03:09:17.270
API Zugriffstoken erstellen.

03:09:17.270 --> 03:09:19.270
Okay. Das gucken wir uns

03:09:19.270 --> 03:09:21.270
Das gucken wir uns das nächste Mal.

03:09:21.270 --> 03:09:23.270
Also das nächste Mal muss ich mal aufschreiben.

03:09:23.270 --> 03:09:25.270
Stream Ideen.

03:09:25.270 --> 03:09:27.270
Ähm. Hier. Pulumi

03:09:27.270 --> 03:09:29.270
hieß das was?

03:09:29.270 --> 03:09:31.270
Terraform Alternative

03:09:31.270 --> 03:09:33.270
Hetzner DNS

03:09:33.270 --> 03:09:35.270
API Terraform

03:09:35.270 --> 03:09:37.270
Ja. Weil wir sollten die Loadbalancer

03:09:37.270 --> 03:09:39.270
schon automatisch in DNS aufnehmen.

03:09:39.270 --> 03:09:41.270
Zumindest was wir jetzt machen müssen

03:09:41.270 --> 03:09:43.270
ist folgendes.

03:09:43.270 --> 03:09:45.270
Ich muss die IP vom Loadbalancer

03:09:45.270 --> 03:09:47.270
nehmen. Die da.

03:09:47.270 --> 03:09:49.270
Public IP vom Loadbalancer.

03:09:49.270 --> 03:09:51.270
Und ein A-Record anlegen. Und zwar

03:09:51.270 --> 03:09:53.270
für. Was? Für Hello

03:09:53.270 --> 03:09:55.270
Queque.Services

03:09:55.270 --> 03:09:57.270
Also A-Record

03:09:57.270 --> 03:09:59.270
und die IP. Ach guckt mal da.

03:09:59.270 --> 03:10:01.270
Ah. Den Loadbalancer

03:10:01.270 --> 03:10:07.530
kann ich aber nicht.

03:10:07.530 --> 03:10:09.530
Den Loadbalancer kann ich aber nicht auswählen.

03:10:09.530 --> 03:10:11.530
Die Nodes kann ich auswählen.

03:10:11.530 --> 03:10:13.530
Den Loadbalancer kann ich nicht auswählen.

03:10:13.530 --> 03:10:20.490
Ne. Okay. Das ist. Das ist.

03:10:20.490 --> 03:10:22.490
Das müssen sie noch anpassen.

03:10:22.490 --> 03:10:24.490
Weil ich will ja nicht auf den Server Loadbalancen.

03:10:24.490 --> 03:10:26.490
Ich will ja auf den.

03:10:26.490 --> 03:10:28.490
Auf den Loadbalancer auflösen.

03:10:28.490 --> 03:10:30.490
So. Und jetzt müsstet ihr gleich.

03:10:30.490 --> 03:10:32.490
A-Record

03:10:32.490 --> 03:10:34.490
Jetzt müsstet ihr gleich

03:10:34.490 --> 03:10:36.490
von euch aus.

03:10:36.490 --> 03:10:38.490
Wenn das auflösen geht.

03:10:38.490 --> 03:10:45.000
Noch. Noch löst er nicht auf.

03:10:45.000 --> 03:10:47.000
Oh.

03:10:47.000 --> 03:10:49.000
Ich habs auch falsch gemacht.

03:10:49.000 --> 03:10:51.000
Es ist Hello.Queque.Services

03:10:51.000 --> 03:10:54.440
Alles klar.

03:10:54.440 --> 03:10:56.440
Aber kaum macht man das richtig. Funktioniert's auch.

03:10:56.440 --> 03:11:07.300
Haha. Auflösung geht.

03:11:07.300 --> 03:11:10.870
Ich selbst kann es

03:11:10.870 --> 03:11:14.950
noch nicht auflösen.

03:11:14.950 --> 03:11:16.950
Warum nicht?

03:11:16.950 --> 03:11:18.950
Aber Google. Moment.

03:11:18.950 --> 03:11:20.950
Eben konnte es Google noch auflösen.

03:11:20.950 --> 03:11:30.220
Okay. Das ist noch nicht so ganz

03:11:30.220 --> 03:11:36.020
propagated würde ich sagen.

03:11:36.020 --> 03:11:38.020
Geht's bei euch schon?

03:11:38.020 --> 03:11:40.020
Was sagt Cloudflare dazu?

03:11:40.020 --> 03:11:42.020
Cloudflare hat's schon

03:11:42.020 --> 03:11:50.460
gecheckt.

03:11:50.460 --> 03:11:52.460
Wie kann ich den lokalen

03:11:52.460 --> 03:11:54.460
Linux Clear DNS Cache

03:11:54.460 --> 03:12:01.540
Was?

03:12:01.540 --> 03:12:08.440
System D Resolve?

03:12:08.440 --> 03:12:10.440
Ne. Ich hab kein System D Resolve.

03:12:10.440 --> 03:12:15.860
Äh.

03:12:15.860 --> 03:12:17.860
Weiß ich auch aus dem Kopf nicht.

03:12:19.860 --> 03:12:21.860
War das Arp? Arp minus Dings?

03:12:21.860 --> 03:12:27.990
Oder Ubuntu?

03:12:27.990 --> 03:12:29.990
Ah. Wunderbar.

03:12:29.990 --> 03:12:34.840
Ja. Sag mir wie's geht.

03:12:34.840 --> 03:12:38.150
System D Resolve?

03:12:38.150 --> 03:12:40.150
Weiß ich nicht. Anscheinend macht's das.

03:12:42.150 --> 03:12:44.150
Ich hab doch kein System D Resolve.

03:12:44.150 --> 03:12:47.530
Ne.

03:12:47.530 --> 03:12:49.530
Ich hab keine Ahnung.

03:12:49.530 --> 03:12:51.530
Du kommst auf die Default-Site.

03:12:51.530 --> 03:12:53.530
Ja. Das ist richtig.

03:12:53.530 --> 03:12:57.800
Ping.

03:12:57.800 --> 03:12:59.800
pinghello.kegw.services

03:12:59.800 --> 03:13:03.180
Hmm.

03:13:03.180 --> 03:13:07.190
Also Leute. Aus irgendwelchen

03:13:07.190 --> 03:13:13.960
Gründen.

03:13:13.960 --> 03:13:15.960
Hab ich bei mir irgendwelche dummen

03:13:15.960 --> 03:13:17.960
Weiterleitungen für kegw.services?

03:13:17.960 --> 03:13:22.300
Hab ich in meinem

03:13:24.300 --> 03:13:26.300
Hab ich vielleicht in meinem DNS

03:13:26.300 --> 03:13:30.630
lokal Schwachsinn gemacht?

03:13:30.630 --> 03:13:32.630
Sekunde.

03:13:32.630 --> 03:13:34.630
Ich glaub nicht, dass es

03:13:34.630 --> 03:13:36.630
Ich glaub das ist mein Router.

03:13:36.630 --> 03:13:38.630
Der den Kram gecached hat.

03:13:38.630 --> 03:13:42.200
Der DNS in meinem Router

03:13:42.200 --> 03:13:44.200
hat das Ding gecached. Wart mal. IP

03:13:44.200 --> 03:13:46.200
DNS Cache

03:13:46.200 --> 03:13:48.200
Flush Cache

03:13:48.200 --> 03:13:50.200
Ping

03:13:50.200 --> 03:14:13.480
Fuck. Warum kennt

03:14:13.480 --> 03:14:23.450
der das nicht? Der sagt

03:14:23.450 --> 03:14:25.450
das ist Unknown. Und ich verwende

03:14:25.450 --> 03:14:27.450
als Upstream den Google DNS.

03:14:27.450 --> 03:14:40.100
Hä?

03:14:40.100 --> 03:14:48.730
Das muss ich nicht verstehen, oder?

03:14:48.730 --> 03:14:57.160
Ich hab keine Ahnung.

03:14:57.160 --> 03:14:59.160
Ne, mein Windows löst das auch nicht auf. Warum nicht?

03:14:59.160 --> 03:15:01.160
Aber bei euch geht's, oder was?

03:15:01.160 --> 03:15:14.010
Irgendein

03:15:14.010 --> 03:15:16.010
DNS bei mir auf dem Weg hat das gecached,

03:15:16.010 --> 03:15:18.010
dass es das nicht gibt.

03:15:18.010 --> 03:15:20.010
Das ist natürlich auch

03:15:20.010 --> 03:15:29.210
toll. Gucken wir mal im Browser.

03:15:29.210 --> 03:15:31.210
Hello.kegw.services

03:15:31.210 --> 03:15:33.210
Nö.

03:15:33.210 --> 03:15:38.820
Also ich darf meinen eigenen Kram nicht

03:15:38.820 --> 03:15:40.820
aufrufen. Das ist natürlich auch geil.

03:15:40.820 --> 03:15:42.820
Ne.

03:15:42.820 --> 03:15:44.820
Ich seh schon in meinem Router, dass es Unknown ist.

03:15:44.820 --> 03:15:46.820
Also sprich.

03:15:46.820 --> 03:15:48.820
Google DNS oder so.

03:15:48.820 --> 03:15:50.820
Hat das...

03:15:50.820 --> 03:15:52.820
Ja guck mal, der Google DNS, der antwortet auch mit.

03:15:52.820 --> 03:15:56.140
Der Google DNS ist sich

03:15:56.140 --> 03:15:58.140
noch nicht einig, was Sache ist.

03:15:58.140 --> 03:16:00.140
Der weiß es noch nicht.

03:16:00.140 --> 03:16:02.140
Gucken wir mal.

03:16:02.140 --> 03:16:04.140
Manchmal hat er, manchmal hat er nicht.

03:16:04.140 --> 03:16:23.800
Naja, dass er...

03:16:23.800 --> 03:16:34.410
Keine Ahnung. Gut.

03:16:34.410 --> 03:16:47.450
Ach jetzt. Gucken wir mal.

03:16:47.450 --> 03:16:49.450
Jetzt hat er es glaube ich kapiert.

03:16:49.450 --> 03:16:55.960
Jetzt hat es auch der Google

03:16:55.960 --> 03:16:57.960
DNS gecheckt. Okay.

03:16:57.960 --> 03:16:59.960
Wo ist mein Router?

03:16:59.960 --> 03:17:01.960
Da werfe ich es jetzt auch nochmal raus.

03:17:01.960 --> 03:17:07.130
Okay.

03:17:07.130 --> 03:17:14.310
Ping.

03:17:14.310 --> 03:17:16.310
Ach jetzt funzt es. Okay.

03:17:16.310 --> 03:17:18.310
Das war jetzt ja der größere Akt.

03:17:18.310 --> 03:17:26.490
Kegwait.

03:17:26.490 --> 03:17:42.410
Jetzt funktioniert es.

03:17:42.410 --> 03:17:44.410
Okay Chat, ich muss mal

03:17:44.410 --> 03:17:46.410
ein paar Fenster zumachen bei mir in der Vorschau.

03:17:46.410 --> 03:17:48.410
Das ist definitiv

03:17:48.410 --> 03:17:53.900
zu viel. So.

03:17:53.900 --> 03:17:55.900
Okay das funktioniert.

03:17:55.900 --> 03:17:57.900
Jetzt geht es bei mir auch. Und wir müssten

03:17:57.900 --> 03:17:59.900
ein gültiges Zertifikat haben. Ja.

03:17:59.900 --> 03:18:01.900
Guckt. Gültiges Zertifikat.

03:18:01.900 --> 03:18:03.900
Connection is secure. Let's encrypt.

03:18:03.900 --> 03:18:05.900
Ich meine es ist die Standardseite. Okay.

03:18:05.900 --> 03:18:07.900
Meinetwegen. Lass es mir jetzt gefallen.

03:18:07.900 --> 03:18:09.900
Also mit dem Deployment gucken wir uns dann

03:18:09.900 --> 03:18:11.900
tatsächlich das nächste Mal an.

03:18:11.900 --> 03:18:13.900
Ich bin ja schon mit 3 Stunden 18 wieder on.

03:18:13.900 --> 03:18:15.900
Das ist schon schön lang.

03:18:15.900 --> 03:18:17.900
Aber ich finde es nicht schlecht.

03:18:17.900 --> 03:18:19.900
Also das ist nice. Das gefällt mir.

03:18:19.900 --> 03:18:21.900
Jetzt bin ich mal gespannt, was der macht.

03:18:23.900 --> 03:18:25.900
Was hat der denn für Schmerzen mit dem ersten

03:18:25.900 --> 03:18:31.580
Service?

03:18:31.580 --> 03:18:33.580
Was hat der mit diesem einen Node für Probleme?

03:18:33.580 --> 03:18:35.580
Ich meine ich wette mit euch der Node funktioniert.

03:18:35.580 --> 03:18:37.580
Vollkommen normal. Gar kein Problem.

03:18:37.580 --> 03:18:42.870
Ich kann das ins Repo pushen.

03:18:42.870 --> 03:18:44.870
Ja. Das hier kann ich pushen.

03:18:44.870 --> 03:18:46.870
Git. Git Status.

03:18:46.870 --> 03:18:55.140
Jaja.

03:18:55.140 --> 03:18:57.140
Ähm.

03:18:57.140 --> 03:19:01.160
Die. Was ist denn?

03:19:01.160 --> 03:19:03.160
Hm. Wie macht man das jetzt richtig?

03:19:03.160 --> 03:19:05.160
Terraform. Git.

03:19:05.160 --> 03:19:11.860
Ignore.

03:19:11.860 --> 03:19:19.660
TFState. Terraform.

03:19:19.660 --> 03:19:21.660
Genau. Das brauche ich.

03:19:21.660 --> 03:19:23.660
Ähm. Gibt es die Möglichkeit,

03:19:23.660 --> 03:19:25.660
das Terraform Zeug vielleicht

03:19:25.660 --> 03:19:27.660
in einem anderen Verzeichnis auszuführen?

03:19:27.660 --> 03:19:42.040
Na gut.

03:19:42.040 --> 03:19:44.040
Git Add. Machen wir mal Punkt.

03:19:44.040 --> 03:19:46.040
Jetzt sollte der nur das

03:19:46.040 --> 03:19:48.040
Verzeichnis. Ah ne. Der hat den anderen

03:19:48.040 --> 03:19:52.630
Krempel auch mit geaddert. Das ist natürlich bescheuert.

03:19:52.630 --> 03:19:54.630
Das ist natürlich doof.

03:19:54.630 --> 03:19:56.630
Äh. Äh. Äh. Staged.

03:19:56.630 --> 03:19:58.630
Ne. Äh. Git. Oh. Wie war das?

03:19:58.630 --> 03:20:00.630
Äh.

03:20:00.630 --> 03:20:02.630
Minus. Äh. Staged.

03:20:02.630 --> 03:20:04.630
Git Reset.

03:20:04.630 --> 03:20:06.630
Minus. Minus.

03:20:06.630 --> 03:20:10.330
Staged.

03:20:10.330 --> 03:20:12.330
Irgendwie so. Ne.

03:20:12.330 --> 03:20:14.330
Oh Gott. Äh.

03:20:14.330 --> 03:20:16.330
Git Add.

03:20:16.330 --> 03:20:18.330
Wie macht man Git Add rückgängig

03:20:18.330 --> 03:20:23.050
und nur Git Add.

03:20:23.050 --> 03:20:25.050
Ne. Ne. Das ist mir. Das geht alles.

03:20:25.050 --> 03:20:27.050
Git Rm. Minus. Minus.

03:20:27.050 --> 03:20:41.430
Cached. Es ist Minus.

03:20:41.430 --> 03:20:43.430
Minus. Staged.

03:20:43.430 --> 03:20:45.430
Ich dachte auch, dass es Git Reset. Minus. Minus.

03:20:45.430 --> 03:20:47.430
Staged ist. Ist es aber nicht.

03:20:47.430 --> 03:20:49.430
Oh. Nicht Restore.

03:20:49.430 --> 03:20:55.180
Nein. Nein. Nein.

03:20:55.180 --> 03:20:57.180
Ich meine. Natürlich.

03:20:57.180 --> 03:20:59.180
Das funktioniert. Es geht auch.

03:20:59.180 --> 03:21:01.180
Ja. Also ich kann. Aber das kann ja nicht Sinn und Zweck.

03:21:01.180 --> 03:21:03.180
Das kann ja nicht Sinn und Zweck der Sache sein.

03:21:03.180 --> 03:21:10.780
Ja. Weil das.

03:21:10.780 --> 03:21:12.780
Weil das alles.

03:21:12.780 --> 03:21:14.780
In ein Repo soll. Das hat auch keinen Sinn.

03:21:14.780 --> 03:21:16.780
Wenn ich den Krempel jetzt über.

03:21:16.780 --> 03:21:18.780
50. 50. 50 Dinger verteile.

03:21:18.780 --> 03:21:29.000
Ach so.

03:21:29.000 --> 03:21:35.640
Ich bin jetzt echt verwirrt.

03:21:35.640 --> 03:21:37.640
Wie das richtig gewesen ist.

03:21:37.640 --> 03:21:39.640
Ich meine. Wir können einfach.

03:21:39.640 --> 03:21:48.070
Wir können einfach den Krempel raushauen hier.

03:21:48.070 --> 03:21:55.160
So. Wunderbar.

03:21:55.160 --> 03:21:57.160
Ich will ja alles raushauen.

03:21:57.160 --> 03:21:59.160
Okay. Wir brauchen ein ordentliches

03:21:59.160 --> 03:22:01.160
Git Ignore.

03:22:01.160 --> 03:22:03.160
Git Ignore.

03:22:03.160 --> 03:22:11.780
Ne. Git Reset Punkt.

03:22:11.780 --> 03:22:13.780
Reicht nicht.

03:22:13.780 --> 03:22:15.780
Also. Infra. Slash.

03:22:15.780 --> 03:22:17.780
Also hier. Wir brauchen das Git Ignore

03:22:17.780 --> 03:22:19.780
File einfach davon. Easy.

03:22:19.780 --> 03:22:25.850
Und wir schmeißen das

03:22:25.850 --> 03:22:29.290
Git Ignore weg.

03:22:29.290 --> 03:22:31.290
Git Ignore.

03:22:31.290 --> 03:22:33.290
Machen neues.

03:22:33.290 --> 03:22:36.790
Git Ignore.

03:22:36.790 --> 03:22:38.790
Da pasten wir den Shit rein.

03:22:38.790 --> 03:22:40.790
Gutes.

03:22:40.790 --> 03:22:44.100
Add.

03:22:44.100 --> 03:22:46.100
Ignore.

03:22:46.100 --> 03:22:48.100
Jawoll. Das sieht gut aus.

03:22:48.100 --> 03:22:50.100
Jetzt will er diesen ganzen Müll gar nicht

03:22:50.100 --> 03:22:52.100
adden.

03:22:52.100 --> 03:22:54.100
Terraform Lock?

03:22:54.100 --> 03:22:56.100
Was ist das?

03:22:56.100 --> 03:22:58.100
Das soll da definitiv auch nicht rein.

03:22:58.100 --> 03:23:00.100
Siehste. Das Git.

03:23:00.100 --> 03:23:02.100
Oder soll das da rein?

03:23:02.100 --> 03:23:04.100
Soll das da rein?

03:23:04.100 --> 03:23:06.100
Was steht denn da drinnen?

03:23:06.100 --> 03:23:08.100
Ach ist das. Ist das quasi die.

03:23:08.100 --> 03:23:10.100
Meine Dependencies oder. Oder. Hä?

03:23:10.100 --> 03:23:12.100
Okay. Ne. Das wollen wir dann doch.

03:23:12.100 --> 03:23:14.100
Mitnehmen.

03:23:14.100 --> 03:23:16.100
Dann. Dann wollen wir das doch.

03:23:16.100 --> 03:23:18.100
Okay. Also er addet das.

03:23:18.100 --> 03:23:20.100
Den Controller.

03:23:20.100 --> 03:23:22.100
Git Ignore.

03:23:22.100 --> 03:23:24.100
Main TF.

03:23:24.100 --> 03:23:26.100
Die API Keys lässt er aber glücklicherweise

03:23:26.100 --> 03:23:36.070
raus. Das.

03:23:36.070 --> 03:23:42.390
Das muss ich aber noch da rein schreiben.

03:23:42.390 --> 03:23:44.390
So.

03:23:44.390 --> 03:23:50.070
Nicht das er da auf blöde Ideen kommt.

03:23:50.070 --> 03:23:52.070
Git Add. Minus A.

03:23:52.070 --> 03:23:54.070
Bam.

03:23:54.070 --> 03:23:56.070
Okay.

03:23:56.070 --> 03:23:58.070
Gut.

03:23:58.070 --> 03:24:00.070
Commit. A. Minus M.

03:24:00.070 --> 03:24:02.070
Hackle.

03:24:02.070 --> 03:24:04.070
Beste.

03:24:04.070 --> 03:24:06.070
Git Lock. Minus 1. Minus.

03:24:06.070 --> 03:24:08.070
Name. Only.

03:24:08.070 --> 03:24:10.070
Zeigen was er Committed hat.

03:24:10.070 --> 03:24:12.070
Ja. Die Main Terraform rein. Das Lock File.

03:24:12.070 --> 03:24:14.070
Git Ignore. Irgendwie diesen neuen Service.

03:24:14.070 --> 03:24:16.070
Was auch immer ich da dran gemacht hab.

03:24:16.070 --> 03:24:18.070
Wann wird die Prediction aufgelöst?

03:24:18.070 --> 03:24:20.070
Kurz bevor ich den Stream ausmache.

03:24:20.070 --> 03:24:22.070
So. Okay.

03:24:22.070 --> 03:24:24.070
Was wir jetzt nochmal probieren ist.

03:24:24.070 --> 03:24:26.070
Wenn ich das jetzt.

03:24:26.070 --> 03:24:28.070
Was hat der für Schmerzen.

03:24:28.070 --> 03:24:30.070
Mit dem ersten Note man.

03:24:30.070 --> 03:24:32.070
Vielleicht muss ich doch.

03:24:32.070 --> 03:24:34.070
Irgendwelche Health Checks angeben.

03:24:34.070 --> 03:24:36.070
Services.

03:24:36.070 --> 03:24:40.790
Wo gibt man die Health Checks an?

03:24:40.790 --> 03:24:42.790
Health Check.

03:24:42.790 --> 03:24:53.590
Ja.

03:24:53.590 --> 03:24:55.590
Ist eigentlich richtig.

03:24:55.590 --> 03:24:57.590
Ist vollkommen okay.

03:24:57.590 --> 03:24:59.590
Proxy Protokoll.

03:24:59.590 --> 03:25:04.250
Äh.

03:25:04.250 --> 03:25:06.250
Vollkommen in Ordnung.

03:25:06.250 --> 03:25:08.250
Das ist ein anderer.

03:25:08.250 --> 03:25:12.200
Was ist das so?

03:25:12.200 --> 03:25:14.200
Das versteh ich nicht.

03:25:14.200 --> 03:25:16.200
Zumindest wir sollten jetzt noch.

03:25:16.200 --> 03:25:18.200
Discard Changes.

03:25:18.200 --> 03:25:20.200
Also wir stoppen jetzt mal einfach alles.

03:25:20.200 --> 03:25:22.200
Destroy. Bam.

03:25:22.200 --> 03:25:24.200
Jetzt ist alles weg.

03:25:24.200 --> 03:25:26.200
Ich hoffe mein Zertifikat ist noch da.

03:25:26.200 --> 03:25:28.200
Oh nein.

03:25:28.200 --> 03:25:33.240
Der macht das Zertifikat auch weg.

03:25:33.240 --> 03:25:35.240
Das ist doof.

03:25:35.240 --> 03:25:39.900
Dann läuft man relativ schnell in Let's Encrypt Limits.

03:25:39.900 --> 03:25:41.900
Wollen wir mal kurz gucken.

03:25:41.900 --> 03:25:43.900
Ob wirklich das Zertifikat weg ist.

03:25:43.900 --> 03:25:45.900
TLS bye bye.

03:25:45.900 --> 03:25:53.880
Das ist wirklich weg.

03:25:53.880 --> 03:26:10.760
Gibt das irgendwie die Möglichkeit.

03:26:10.760 --> 03:26:12.760
Was zu protecten.

03:26:12.760 --> 03:26:14.760
From Deletion.

03:26:14.760 --> 03:26:16.760
Ne das ist.

03:26:16.760 --> 03:26:18.760
Das ist pro Domain.

03:26:18.760 --> 03:26:22.390
Terraform.

03:26:22.390 --> 03:26:24.390
Ich hab vorhin irgendwas mit Life Cycle Hooks gelesen.

03:26:24.390 --> 03:26:26.390
Dass man ihm sagen kann.

03:26:26.390 --> 03:26:28.390
Ne Create Before Destroy.

03:26:28.390 --> 03:26:30.390
War das nicht.

03:26:30.390 --> 03:26:32.390
Prevent Destroy.

03:26:32.390 --> 03:26:37.240
Achso ne.

03:26:37.240 --> 03:26:52.710
Dann gibt es ein Error.

03:26:52.710 --> 03:26:56.980
Aber das ist nicht das was ich haben will.

03:26:56.980 --> 03:26:58.980
Prevent.

03:26:58.980 --> 03:27:00.980
Destroy.

03:27:00.980 --> 03:27:09.220
Certificate.

03:27:09.220 --> 03:27:11.220
Ich glaube das muss man dann anderweitig machen.

03:27:13.220 --> 03:27:15.220
Und kann das nicht in dieses Playbook.

03:27:15.220 --> 03:27:18.980
Reinschreiben.

03:27:18.980 --> 03:27:20.980
Da müsste ich mir was überlegen.

03:27:20.980 --> 03:27:22.980
Aber wir schauen jetzt mal.

03:27:22.980 --> 03:27:24.980
Ob das komplette Neuaufbauen.

03:27:24.980 --> 03:27:31.180
Ordentlich funktioniert.

03:27:31.180 --> 03:27:33.180
Eigentlich wisst ihr was ich will.

03:27:33.180 --> 03:27:35.180
Ich will das der nur guckt das das Zertifikat da ist.

03:27:35.180 --> 03:27:39.060
Aber es nie löscht.

03:27:39.060 --> 03:27:41.060
Sowas gibt es aber wahrscheinlich nicht oder.

03:27:41.060 --> 03:27:43.060
So Add Only.

03:27:43.060 --> 03:27:45.060
Mit State AM aus dem State löschen.

03:27:45.060 --> 03:27:55.420
Five Head Time.

03:27:55.420 --> 03:28:10.060
Da gibt es bestimmt was.

03:28:10.060 --> 03:28:12.060
Wie das besser funktioniert.

03:28:12.060 --> 03:28:21.380
Ich will ja kein existierendes benutzen.

03:28:21.380 --> 03:28:23.380
Ich will ein neues hinzufügen.

03:28:23.380 --> 03:28:25.380
Wenn das noch nicht da ist.

03:28:25.380 --> 03:28:27.380
Aber er soll beim Down das nicht löschen.

03:28:27.380 --> 03:28:29.380
Also ich glaube.

03:28:29.380 --> 03:28:31.380
Ich muss das anderweitig machen.

03:28:31.380 --> 03:28:33.380
Ich muss das selbst generieren.

03:28:33.380 --> 03:28:35.380
Und dann kann ich genau.

03:28:35.380 --> 03:28:37.380
Dann kann ich eins hinzufügen.

03:28:37.380 --> 03:28:39.380
Anderweitig.

03:28:39.380 --> 03:28:41.380
Jaja.

03:28:41.380 --> 03:28:43.380
So löscht der das halt automatisch.

03:28:43.380 --> 03:28:52.200
Prevent Destroy.

03:28:52.200 --> 03:29:05.690
Certificates.

03:29:05.690 --> 03:29:07.690
Da steht doch gar nichts über Zertifikate drinnen.

03:29:07.690 --> 03:29:09.690
Cake Wait.

03:29:09.690 --> 03:29:17.420
Ja das ergibt keinen Sinn.

03:29:17.420 --> 03:29:19.420
Das stimmt schon.

03:29:19.420 --> 03:29:21.420
Das muss ich anders.

03:29:21.420 --> 03:29:23.420
Ich muss das selbst.

03:29:23.420 --> 03:29:25.420
Ich muss das selbst mir generieren.

03:29:25.420 --> 03:29:27.420
Mit einem Zert Button.

03:29:27.420 --> 03:29:29.420
Und dann uploaden.

03:29:29.420 --> 03:29:31.420
Irgendwie so.

03:29:31.420 --> 03:29:33.420
Da muss ich mir was überlegen zu.

03:29:33.420 --> 03:29:35.420
Aber ich werde den Kram jetzt nochmal hochladen.

03:29:35.420 --> 03:29:37.420
Und gucken ob jetzt alles funktioniert.

03:29:37.420 --> 03:29:42.460
Mit dem Anlegen.

03:29:42.460 --> 03:29:44.460
Aber den Loadbalancer.

03:29:44.460 --> 03:29:46.460
Ganz im Ernst.

03:29:46.460 --> 03:29:48.460
Den Loadbalancer machen wir nach den Servern.

03:29:48.460 --> 03:29:55.990
Also quasi.

03:29:55.990 --> 03:29:57.990
Diesen ganzen Krempel.

03:29:57.990 --> 03:29:59.990
Loadbalancer.

03:29:59.990 --> 03:30:01.990
Wenn der Server.

03:30:01.990 --> 03:30:03.990
Fertig ist.

03:30:03.990 --> 03:30:05.990
Depends on das Netzwerk.

03:30:05.990 --> 03:30:07.990
Ist tatsächlich sinnvoll.

03:30:07.990 --> 03:30:13.800
Und jetzt.

03:30:13.800 --> 03:30:15.800
Das können wir jetzt hier.

03:30:15.800 --> 03:30:26.090
Depends on.

03:30:26.090 --> 03:30:30.040
Wie habe ich das?

03:30:30.040 --> 03:30:32.040
Einfach nur Node.

03:30:32.040 --> 03:30:34.040
Benennen wir um.

03:30:34.040 --> 03:30:38.380
Depends on.

03:30:38.380 --> 03:30:40.380
H-Server.

03:30:40.380 --> 03:30:42.380
Gut.

03:30:42.380 --> 03:30:44.380
So und.

03:30:44.380 --> 03:30:46.380
Da können wir das nämlich weg machen.

03:30:46.380 --> 03:30:48.380
Weil die Server ja schon dependen an das Netz.

03:30:48.380 --> 03:30:50.380
Oder kann ich das weglassen.

03:30:50.380 --> 03:30:53.880
Wenn das danach kommt.

03:30:53.880 --> 03:31:05.260
Werden wir gleich sehen.

03:31:05.260 --> 03:31:07.260
Ich habe ja auch gesagt.

03:31:07.260 --> 03:31:09.260
Ich soll das besser angeben.

03:31:09.260 --> 03:31:11.260
Na schauen wir mal.

03:31:11.260 --> 03:31:13.260
Also Apply.

03:31:13.260 --> 03:31:15.260
Mal gucken ob das jetzt alles funktioniert.

03:31:15.260 --> 03:31:17.260
So.

03:31:17.260 --> 03:31:19.260
Create, create, create.

03:31:19.260 --> 03:31:21.260
Server create.

03:31:21.260 --> 03:31:28.730
Ja Server.

03:31:28.730 --> 03:31:30.730
Createn.

03:31:30.730 --> 03:31:32.730
Creation complete.

03:31:32.730 --> 03:31:34.730
Netzwerk ist angelegt.

03:31:34.730 --> 03:31:40.280
Loadbal-

03:31:40.280 --> 03:31:42.280
Was?

03:31:42.280 --> 03:31:47.130
Da drauf.

03:31:47.130 --> 03:31:49.130
Was hat er jetzt denn für Schmerzen?

03:31:49.130 --> 03:31:53.140
Add label selector.

03:31:53.140 --> 03:31:55.140
Target loadbar is not attached to a network.

03:31:55.140 --> 03:32:01.850
Warum nicht?

03:32:01.850 --> 03:32:03.850
Muss ich wirklich sagen?

03:32:03.850 --> 03:32:16.540
Depends on?

03:32:16.540 --> 03:32:18.540
Ja.

03:32:18.540 --> 03:32:20.540
Anscheinend.

03:32:20.540 --> 03:32:28.650
Und wo hat er jetzt das Zertifikat her?

03:32:28.650 --> 03:32:30.650
Wait a minute.

03:32:30.650 --> 03:32:32.650
Das Zertifikat ist doch noch da.

03:32:32.650 --> 03:32:34.650
Hat Hetzner das Zertifikat gecached?

03:32:34.650 --> 03:32:47.940
Weil das ging definitiv zu schnell.

03:32:47.940 --> 03:32:49.940
Das ging definitiv zu schnell.

03:32:49.940 --> 03:32:53.770
Die haben das Zertifikat irgendwo gecached.

03:32:53.770 --> 03:32:55.770
100 pro.

03:32:55.770 --> 03:33:00.230
100 pro.

03:33:00.230 --> 03:33:02.230
Unhealthy.

03:33:02.230 --> 03:33:06.890
Oh jetzt ist gar nichts drinne.

03:33:06.890 --> 03:33:08.890
Ja weil noch kein Nginx installiert ist.

03:33:08.890 --> 03:33:18.020
Das wird jetzt gleich grün erst.

03:33:18.020 --> 03:33:20.020
Ja.

03:33:20.020 --> 03:33:22.020
Das muss jetzt erstmal.

03:33:22.020 --> 03:33:24.020
Jetzt sollte das gleich checken, dass es wieder grün ist.

03:33:24.020 --> 03:33:26.020
Wobei ist mir egal.

03:33:26.020 --> 03:33:28.020
Ich destroy das jetzt nochmal.

03:33:28.020 --> 03:33:36.070
Und guck ob es jetzt wenigstens durchläuft und funktioniert.

03:33:36.070 --> 03:33:38.070
Kannst du nicht das Initscript?

03:33:38.070 --> 03:33:40.070
Doch das würde ich gerne. Aber ich weiß nicht wie.

03:33:40.070 --> 03:33:42.070
Ich würde gerne sagen hier.

03:33:42.070 --> 03:33:44.070
Warten.

03:33:44.070 --> 03:33:46.070
Bis das durch ist.

03:33:46.070 --> 03:33:48.070
Ich weiß bloß nicht.

03:33:48.070 --> 03:33:50.070
Okay warte mal.

03:33:50.070 --> 03:33:52.070
Terraform wait for cloud init.

03:33:52.070 --> 03:33:54.070
Normalerweise würde das anders funktionieren.

03:33:54.070 --> 03:33:56.070
Das macht ja eigentlich auch keinen Sinn.

03:33:56.070 --> 03:33:58.070
Normalerweise hätte ich einen ordentlichen Health Check.

03:34:00.070 --> 03:34:02.070
Der einfach checkt.

03:34:02.070 --> 03:34:04.070
Slash Health und dann halt wenn der Server da ist.

03:34:04.070 --> 03:34:06.070
Das ist schon okay.

03:34:06.070 --> 03:34:09.640
Dafür sind Health Checks ja da.

03:34:09.640 --> 03:34:11.640
Das ist eigentlich in Ordnung so.

03:34:11.640 --> 03:34:15.400
So mal gucken ob es jetzt funktioniert.

03:34:15.400 --> 03:34:17.400
Weil jetzt habe ich ihm ja gesagt.

03:34:17.400 --> 03:34:19.400
Du bist abhängig vom Netzwerk.

03:34:19.400 --> 03:34:21.400
Du musst warten bis Netzwerk da ist.

03:34:21.400 --> 03:34:28.230
Dass das geht.

03:34:28.230 --> 03:34:30.230
Creation complete.

03:34:30.230 --> 03:34:32.230
Loadbalancer Zertifikat.

03:34:32.230 --> 03:34:34.230
Alter.

03:34:34.230 --> 03:34:36.230
Was ist das Problem?

03:34:36.230 --> 03:34:38.230
Label selector target.

03:34:38.230 --> 03:34:40.230
Loadbalancer not attached to network.

03:34:40.230 --> 03:34:42.230
Also ich muss. Moment.

03:34:42.230 --> 03:34:44.230
Wo kackt der mir denn ab?

03:34:44.230 --> 03:34:46.230
Der kackt mir ab bei Qt Destroy.

03:34:46.230 --> 03:34:49.540
Bei Qt Chat.

03:34:49.540 --> 03:34:51.540
Target.

03:34:53.540 --> 03:34:55.540
Hier kackt der ab.

03:34:55.540 --> 03:35:01.800
Muss ich ihm vielleicht sagen.

03:35:01.800 --> 03:35:03.800
Depend on.

03:35:03.800 --> 03:35:05.800
Chat LB oder.

03:35:05.800 --> 03:35:26.460
Also das ich ihm sagen muss hier.

03:35:26.460 --> 03:35:28.460
Depend on.

03:35:28.460 --> 03:35:30.460
Network.

03:35:30.460 --> 03:35:40.420
So.

03:35:40.420 --> 03:35:42.420
Ja das soll auch aufs Network dependen.

03:35:42.420 --> 03:35:56.810
Alles gut.

03:35:56.810 --> 03:35:58.810
Ne der LB wird nicht erstellt.

03:35:58.810 --> 03:36:04.040
Wir.

03:36:04.040 --> 03:36:11.060
Wir probieren das jetzt einfach nochmal aus.

03:36:11.060 --> 03:36:13.060
So der dependet.

03:36:13.060 --> 03:36:15.060
On das Network.

03:36:15.060 --> 03:36:17.060
Also der dependet.

03:36:17.060 --> 03:36:19.060
Darauf.

03:36:19.060 --> 03:36:21.060
Und der auf die eigentlich Netzwerksachen.

03:36:21.060 --> 03:36:28.020
Aha.

03:36:28.020 --> 03:36:30.020
Jetzt hat es funktioniert.

03:36:30.020 --> 03:36:32.020
Ok.

03:36:32.020 --> 03:36:34.020
Ich habe nichts gesagt.

03:36:34.020 --> 03:36:36.020
Das lag an einem dieser Dinger.

03:36:36.020 --> 03:36:38.020
Muss mir jetzt mal genauer nachschauen.

03:36:38.020 --> 03:36:40.020
So Loadbalancer.

03:36:40.020 --> 03:36:48.140
Status unknown.

03:36:48.140 --> 03:36:50.140
Die Server sind ja auch noch gar nicht da.

03:36:50.140 --> 03:36:52.140
Die müssen jetzt.

03:36:52.140 --> 03:36:54.140
Die müssen jetzt nach und nach.

03:36:54.140 --> 03:36:56.140
Ready.

03:36:56.140 --> 03:37:02.900
Ready werden.

03:37:02.900 --> 03:37:04.900
Das sollte.

03:37:04.900 --> 03:37:06.900
Das sollte in spätestens einer Minute oder so eigentlich alles grün werden.

03:37:06.900 --> 03:37:08.900
Guck mal.

03:37:08.900 --> 03:37:10.900
HSSH.

03:37:10.900 --> 03:37:12.900
Zack da sind meine Nodes schon.

03:37:12.900 --> 03:37:14.900
Netstat.

03:37:14.900 --> 03:37:16.900
Guck mal.

03:37:16.900 --> 03:37:18.900
Der ist mit dem Update noch gar nicht durch.

03:37:18.900 --> 03:37:20.900
Ja dann ist kein Wunder.

03:37:20.900 --> 03:37:22.900
Der macht noch Update.

03:37:22.900 --> 03:37:27.370
Full Upgrade dauert anscheinend ein bisschen.

03:37:27.370 --> 03:37:33.050
Wie würde man das schneller hinkriegen?

03:37:33.050 --> 03:37:35.050
Eigentlich nur mit einem eigenen Ubuntu Image oder sowas.

03:37:35.050 --> 03:37:37.050
Aber das muss nicht sein.

03:37:37.050 --> 03:37:39.050
Also das Full Upgrade braucht aber ewig.

03:37:39.050 --> 03:37:45.050
Jetzt.

03:37:45.050 --> 03:37:47.050
Jetzt hat er Nginx installiert.

03:37:47.050 --> 03:37:54.010
Gleich da.

03:37:54.010 --> 03:37:56.010
Jetzt läuft er auf Port 80.

03:37:56.010 --> 03:37:58.010
Vielleicht erst Nginx installieren.

03:37:58.010 --> 03:38:01.320
Ne.

03:38:01.320 --> 03:38:03.320
Der soll vorher schon erst upgraden.

03:38:03.320 --> 03:38:05.320
Server soll nie ins Internet ohne Sicherheitspatches.

03:38:05.320 --> 03:38:07.320
So.

03:38:07.320 --> 03:38:09.320
Status ist 0 von 1.

03:38:09.320 --> 03:38:11.320
Er sollte es jetzt aber gleich checken.

03:38:11.320 --> 03:38:13.320
Dass die Server da sind.

03:38:13.320 --> 03:38:15.320
Und dann sollte der Kram.

03:38:15.320 --> 03:38:17.320
Langsam aber sicher auf Healthy gehen.

03:38:17.320 --> 03:38:24.020
Und fürs nächste mal mache ich mir Gedanken.

03:38:24.020 --> 03:38:26.020
Wie wir das gescheit machen können mit.

03:38:26.020 --> 03:38:28.020
Mit Deployment.

03:38:28.020 --> 03:38:30.020
Weil ich möchte ja das das der Reihe nach geht.

03:38:30.020 --> 03:38:32.020
Also ich müsste quasi so was hier machen wie.

03:38:32.020 --> 03:38:37.380
Also quasi.

03:38:37.380 --> 03:38:39.380
Dass er den neuen Server hinstellt.

03:38:39.380 --> 03:38:41.380
Bevor der alte Destroyed wird.

03:38:41.380 --> 03:38:43.380
Und der alte muss sich dann am Anfang schlagen lassen.

03:38:43.380 --> 03:38:45.380
Und der alte muss sich dann am Anfang schlagen lassen.

03:38:45.380 --> 03:38:54.280
auf 503 stellen dass der load balancer quasi alle alle verbindungen kappt nee das ist total easy so

03:38:54.280 --> 03:39:01.660
rolling deployment zu machen ich nehme einfach den den tag vom server weg und dann checkt es

03:39:01.660 --> 03:39:05.420
der load balancer und der load balancer load balancer und erst wenn der tag vom server weg

03:39:05.420 --> 03:39:10.340
ist dann fahre ich die anwendung runter da weiß ich bloß nicht wie ich das terraform beibringe

03:39:10.340 --> 03:39:21.940
also ich müsste das irgendwie müsste irgendwie terraform sagen können es soll den tag entfernen

03:39:21.940 --> 03:39:37.260
bei einem destroy weiß ich nicht ob das funktioniert da sind wir leute funzt wieder

03:39:37.260 --> 03:39:55.180
keckhello.keckw.services da sind wir zack das hat mit kubernetes jetzt nichts zu tun wir haben ja

03:39:55.180 --> 03:40:06.770
keinerlei container workloads oder sonstwas gerade okay das funktioniert noch oder auch nicht

03:40:07.670 --> 03:40:12.590
das funktioniert nicht warum ach weil sich die ip des load balancers geändert hat

03:40:12.590 --> 03:40:34.320
deswegen brauchen wir unbedingt entweder feste alps das können wir hier mitmachen was das sind

03:40:34.320 --> 03:40:43.020
die ipv6 dinger oder wir brauchen automatisches anpassen vom dns weil normalerweise löscht man

03:40:43.020 --> 03:40:43.960
den load balancer ja

03:40:43.980 --> 03:40:53.300
nicht normalerweise würdest du mir die notes löschen weiß aber das funktioniert ganz gut

03:40:53.300 --> 03:40:59.120
das finde ich finde ich finde ich top das gefällt mir warum haben deine vor allem so

03:40:59.120 --> 03:41:04.860
public apps rein zum besseren ausprobieren bräuchten sie nicht bräuchten sie nicht wir

03:41:04.860 --> 03:41:09.440
können die entfernen wir können die public das machen wir jetzt noch wir entfernen jetzt noch

03:41:09.440 --> 03:41:15.140
die public apps die brauchen wir nämlich nicht mehr dass das machen wir jetzt noch da komme ich

03:41:15.140 --> 03:41:16.640
da von außen nicht mehr drauf

03:41:16.820 --> 03:41:40.130
es läuft nicht mehr ohne

03:41:40.130 --> 03:41:43.410
작업s wegen der der übung so destroy das machen wir jetzt noch alles alles wieder weg hier sagt sagt networt sonst wie weg die streu network diestro alles destroyed kannst du beim lb rules festlegen dass demudge zu bestimmte machines gehen ja dem Judge hier geht es einfachından

03:41:43.410 --> 03:41:44.230
demuga

03:41:44.230 --> 03:41:46.070
kann ich andere tags geben oder ich kann auch direkt ip einstellen dankeOSH

03:41:46.070 --> 03:41:49.860
gut also ich habe nie aktiviert und habe mir ataup ㅋㅋㅋㅋình hier den untereens und ich bin tatsächlich auch jetzt mehr angestanden aber eben für adm中 habe ich gar keine zurzeit hier des ».

03:41:49.860 --> 03:41:50.280
charles j.j. imd

03:41:50.280 --> 03:41:52.080
machen, weil

03:41:52.080 --> 03:41:54.060
der kein SSH-Login hat.

03:41:54.520 --> 03:41:56.060
Ich könnte SSH über den...

03:41:56.060 --> 03:41:58.320
Ich könnte den Loadbalancer SSH-Loadbalancen

03:41:58.320 --> 03:42:00.120
lassen, aber dann komme ich immer random auf den Server

03:42:00.120 --> 03:42:01.500
raus. Das ist vielleicht auch nicht so sinnvoll.

03:42:05.790 --> 03:42:12.170
Ja. Kannst doch

03:42:12.170 --> 03:42:14.090
einzelne Ressourcen tainten.

03:42:14.670 --> 03:42:18.180
Aha. So.

03:42:18.840 --> 03:42:20.360
Also wie kriege ich das

03:42:20.360 --> 03:42:22.160
denn jetzt da weg, dass

03:42:22.160 --> 03:42:23.560
die Public IPs haben?

03:42:24.640 --> 03:42:24.960
Server.

03:42:27.140 --> 03:42:27.620
Private?

03:42:38.310 --> 03:42:39.670
Ach, so meinst du das?

03:42:39.670 --> 03:42:41.330
Ja, das wird funktionieren.

03:42:41.410 --> 03:42:43.650
Das wird funktionieren, aber das finde ich

03:42:43.650 --> 03:42:45.130
irgendwie auch nicht so schön.

03:42:45.610 --> 03:42:47.490
Ich würde ganz ehrlich, ich würde wahrscheinlich

03:42:47.490 --> 03:42:49.770
den Loadbalancer

03:42:49.770 --> 03:42:51.630
dann eh selbst bauen und darüber dann

03:42:51.630 --> 03:42:53.190
jump-hosten auf die Kisten.

03:42:53.950 --> 03:42:55.250
Oder man macht einen VPN.

03:43:00.110 --> 03:43:01.370
Wann gibt es die Domain? Welche

03:43:01.370 --> 03:43:04.980
Domain? Die ging doch eben schon.

03:43:07.340 --> 03:43:08.500
So. Also.

03:43:09.140 --> 03:43:13.100
Wie macht man denn jetzt die...

03:43:13.100 --> 03:43:14.720
Wie macht man

03:43:14.720 --> 03:43:16.120
keine Public IPs?

03:43:20.680 --> 03:43:33.730
So? Public Net

03:43:33.730 --> 03:43:35.750
Server.

03:43:40.680 --> 03:43:40.860
Ne.

03:43:42.620 --> 03:43:42.820
Ne?

03:43:43.340 --> 03:43:53.880
Public Net? So.

03:43:54.980 --> 03:43:56.220
Public Net

03:43:56.220 --> 03:44:00.180
Falls.

03:44:00.880 --> 03:44:01.480
Falls.

03:44:02.820 --> 03:44:04.440
So. Ich will ja gar keine

03:44:04.440 --> 03:44:06.460
Public IPs. Ich will ja nur das

03:44:06.460 --> 03:44:07.840
Private Network.

03:44:10.600 --> 03:44:11.700
Hier. Apply.

03:44:15.620 --> 03:44:17.000
Okay, das scheint zu funktionieren.

03:44:23.190 --> 03:44:25.030
Ja. Funst. Keine Public IP.

03:44:25.030 --> 03:44:26.490
Sehr schön.

03:44:31.990 --> 03:44:33.670
Na, da kannst du dich doch nicht beschweren.

03:44:33.730 --> 03:44:35.850
Guck mal. Innerhalb von 20 Sekunden

03:44:35.850 --> 03:44:37.930
oder so ist unser Cloud-Klempel am Start.

03:44:40.180 --> 03:44:41.140
So. Und die Targets...

03:44:41.140 --> 03:44:43.020
Gut, die brauchen ein bisschen, bis

03:44:43.020 --> 03:44:44.420
alle fertig konfiguriert sind.

03:44:49.870 --> 03:44:51.810
Das Update funktioniert gar nicht wahrscheinlich.

03:44:53.370 --> 03:44:54.150
Stimmt schon.

03:44:54.550 --> 03:44:55.650
Das Update...

03:44:55.650 --> 03:44:57.930
Na, oder das nuttet irgendwie raus.

03:44:58.190 --> 03:44:59.830
Das weiß ich nicht. Das ist

03:44:59.830 --> 03:45:01.770
bestimmt... Das geht. Ich könnte mir

03:45:01.770 --> 03:45:02.770
vorstellen, das geht.

03:45:04.030 --> 03:45:07.480
Äh. Okay. Ich hab nichts

03:45:07.480 --> 03:45:09.060
gesagt. Ne.

03:45:09.640 --> 03:45:11.360
Oder... Ja, was denn jetzt, Cloud-Balancer?

03:45:19.820 --> 03:45:21.360
Ne, der hat keine Public. Der hat nichts

03:45:21.360 --> 03:45:22.480
Public-mäßiges.

03:45:26.130 --> 03:45:28.050
Ähm. Ich bin mir ehrlich gesagt

03:45:28.050 --> 03:45:29.930
nicht sicher, ob der Server

03:45:29.930 --> 03:45:31.850
rein mit der Private IP rauskommt.

03:45:31.990 --> 03:45:34.130
Ob dort irgendwie ein Gateway

03:45:34.130 --> 03:45:35.870
ist für

03:45:35.870 --> 03:45:43.320
Ad-Root-Gateway.

03:45:43.680 --> 03:45:48.880
Ne. Das müsste man

03:45:48.880 --> 03:45:50.320
wahrscheinlich... Ja.

03:45:51.120 --> 03:45:52.660
Gute Frage. Nächste Frage.

03:45:53.140 --> 03:45:54.800
Das müsste ich mir überlegen, wie man das macht.

03:45:59.290 --> 03:46:00.790
Das müsste ich mir überlegen,

03:46:00.930 --> 03:46:02.730
wie man das ausgehend ausgehen...

03:46:02.770 --> 03:46:07.110
macht. Doch. Kann ich.

03:46:07.210 --> 03:46:09.530
Guck. Da kann Public...

03:46:09.530 --> 03:46:10.910
Alles. Alles wegmachen.

03:46:20.840 --> 03:46:22.000
Nächstes Gold-PF-Sense.

03:46:22.560 --> 03:46:27.620
Naja. Und die

03:46:27.620 --> 03:46:29.420
kommen jetzt natürlich auch nicht ready, weil der

03:46:29.420 --> 03:46:30.600
keinen Internetzugang hat.

03:46:37.120 --> 03:46:39.120
Ja, ist so. Das Ding hat keine IPv6.

03:46:43.630 --> 03:46:44.830
Ist Public Network

03:46:44.830 --> 03:46:45.730
is disabled.

03:46:49.900 --> 03:46:51.680
Ja. Ich mein, klar, man

03:46:51.680 --> 03:46:53.600
könnte IPv6 anmachen.

03:46:54.660 --> 03:46:56.080
Man könnte IPv6

03:46:56.080 --> 03:46:57.680
anmachen. Dann kann der da drüber laden.

03:47:01.170 --> 03:47:02.210
Aber will ich ja nicht.

03:47:02.210 --> 03:47:04.150
Ich... Mir persönlich sind so Server

03:47:04.150 --> 03:47:05.690
dann echt am liebsten, wenn die nicht ins Internet

03:47:05.690 --> 03:47:07.070
können.

03:47:08.050 --> 03:47:10.030
Ich muss bloß sorgen... Ich muss bloß dafür sorgen,

03:47:10.150 --> 03:47:11.590
dass es raus...

03:47:11.590 --> 03:47:13.390
nach außen kommt.

03:47:15.090 --> 03:47:15.490
Und...

03:47:15.490 --> 03:47:18.050
Und dass ich draufkomme, wohlgemerkt.

03:47:18.130 --> 03:47:20.070
Also ich brauch auf jeden Fall in irgendeiner Art und Weise

03:47:20.070 --> 03:47:21.690
noch einen Eingang.

03:47:23.110 --> 03:47:24.510
Das könnte aber die kleinste...

03:47:24.510 --> 03:47:26.290
die kleinste Kiste sein, die die haben.

03:47:26.410 --> 03:47:28.190
Das ist ja... Da muss ich auch mal Gedanken

03:47:28.190 --> 03:47:28.690
zu machen.

03:47:28.690 --> 03:47:28.730
Oh.

03:47:31.330 --> 03:47:31.770
Hetzner?

03:47:32.210 --> 03:47:34.230
Private Cloud... Nee, nee, nicht.

03:47:34.710 --> 03:47:36.990
Hetzner Cloud... Private Network?

03:47:38.710 --> 03:47:40.770
Not. Weiß ich, ob die so...

03:47:40.770 --> 03:47:43.310
PF Sense.

03:47:43.450 --> 03:47:43.930
Ja, klar.

03:47:45.670 --> 03:47:46.730
Ich hauste mir

03:47:46.730 --> 03:47:48.570
natürlich jetzt noch ein eigenes PF Sense, natürlich.

03:48:02.030 --> 03:48:02.810
Ach du Scheiße.

03:48:03.130 --> 03:48:04.670
Die wollen wirklich was mit PF...

03:48:04.670 --> 03:48:06.270
Nee, mit PF Sense ganz bestimmt nicht.

03:48:15.120 --> 03:48:17.080
Da muss ich mal gucken, was da der...

03:48:17.080 --> 03:48:19.320
Der...

03:48:19.320 --> 03:48:19.620
Der...

03:48:19.620 --> 03:48:21.560
Der Way ist, ja.

03:48:22.440 --> 03:48:25.440
Meinung zu Vivaldi-Browser finde ich ganz cool,

03:48:25.520 --> 03:48:27.940
aber irgendwie hat's...

03:48:27.940 --> 03:48:29.920
Doch nicht so den...

03:48:29.920 --> 03:48:31.660
den ausschlaggebenden Punkt, dass ich gesagt habe,

03:48:31.660 --> 03:48:32.500
ich verwende den jetzt.

03:48:33.640 --> 03:48:35.140
Von der Idee her finde ich's cool.

03:48:35.680 --> 03:48:37.740
Das ist ja eine ehemalige Opera, Leute.

03:48:43.300 --> 03:48:43.500
Nope.

03:48:43.940 --> 03:48:45.100
Also die Server kommen nicht ins Internet.

03:48:45.520 --> 03:48:47.900
Das muss ich mir tatsächlich mal überlegen, wie man das

03:48:47.900 --> 03:48:48.880
gescheit machen könnte.

03:48:52.130 --> 03:48:53.850
Mein... Okay. Leute, wir haben jetzt

03:48:53.850 --> 03:48:55.230
18 Uhr. Ich geh gleich was fordern.

03:48:55.710 --> 03:48:58.250
Eine Sache probieren wir mal schnell noch aus.

03:48:58.770 --> 03:49:04.260
Ähm...

03:49:04.260 --> 03:49:04.760
Was ist da?

03:49:06.260 --> 03:49:07.020
Add Server.

03:49:07.920 --> 03:49:08.560
Nürnberg.

03:49:10.180 --> 03:49:10.860
2204.

03:49:11.540 --> 03:49:13.160
Ein Ding. Public...

03:49:13.160 --> 03:49:16.040
Public IP. Private Networks.

03:49:17.540 --> 03:49:18.220
Test.

03:49:19.120 --> 03:49:19.580
Ach so.

03:49:19.780 --> 03:49:19.940
Ha!

03:49:21.100 --> 03:49:23.220
Ich hab ja da noch nicht mal SSH-Keys drauf.

03:49:23.420 --> 03:49:25.640
Das müsste ich dann wirklich per...

03:49:25.640 --> 03:49:27.360
per Jump-Host machen.

03:49:28.500 --> 03:49:29.680
Also zeig mal kurz her.

03:49:31.180 --> 03:49:31.620
Nein.

03:49:31.620 --> 03:49:33.060
Das hab ich falsch gemacht. Guck.

03:49:33.560 --> 03:49:34.060
Kack-Noob.

03:49:34.900 --> 03:49:35.420
Verdrückt.

03:49:37.180 --> 03:49:38.340
Verklickt hab ich mich.

03:49:39.500 --> 03:49:41.180
Weg. Ich will löschen wieder.

03:49:44.460 --> 03:49:45.400
Auf, lass mich löschen.

03:49:51.260 --> 03:49:51.420
Oh.

03:49:52.640 --> 03:49:54.200
Neuer Server. Jetzt aber.

03:49:54.380 --> 03:49:54.880
Nürnberg.

03:49:56.300 --> 03:49:58.620
2204. Das, das, das.

03:49:59.260 --> 03:49:59.620
Das.

03:50:00.520 --> 03:50:01.440
User Data.

03:50:04.590 --> 03:50:04.830
Bäh.

03:50:08.080 --> 03:50:08.320
So.

03:50:08.320 --> 03:50:08.420
Oh.

03:50:13.460 --> 03:50:14.660
Ob der das checkt?

03:50:15.760 --> 03:50:17.560
Okay. User Data.

03:50:18.940 --> 03:50:19.480
Test.

03:50:23.960 --> 03:50:24.840
So. Jetzt, jetzt, jetzt.

03:50:25.080 --> 03:50:27.340
Connecten wir uns mal per Jump-Host da drauf.

03:50:29.850 --> 03:50:31.170
Und schauen, ob das funktioniert.

03:50:32.550 --> 03:50:33.730
Wästest du mit jedem Money?

03:50:33.870 --> 03:50:35.010
Ne. Die Server... Naja.

03:50:35.310 --> 03:50:37.130
Die Server werden sekündlich abgerechnet.

03:50:37.390 --> 03:50:38.850
Also, das hat mich...

03:50:38.850 --> 03:50:41.290
Der ganze Stream heute hat mich vielleicht...

03:50:41.290 --> 03:50:43.410
20 Cent gekostet oder so.

03:50:48.090 --> 03:50:48.870
Root-Add.

03:50:51.560 --> 03:50:52.240
Ah, ist noch nicht da.

03:50:52.240 --> 03:50:52.680
Na gut.

03:50:56.560 --> 03:50:57.800
Dü-dü-dü-dü-dü-dü-dü.

03:50:57.920 --> 03:51:00.560
Dü-dü-dü-dü-dü-dü-dü-dü-dü-dü-dü.

03:51:02.140 --> 03:51:02.940
SSH.

03:51:04.480 --> 03:51:05.020
Igen.

03:51:05.300 --> 03:51:05.640
Minus.

03:51:05.740 --> 03:51:05.960
Röh.

03:51:07.140 --> 03:51:07.660
Weg.

03:51:09.220 --> 03:51:09.660
Yes.

03:51:19.020 --> 03:51:19.520
Still of No.

03:51:19.820 --> 03:51:20.360
Alles klar.

03:51:20.780 --> 03:51:20.960
So.

03:51:21.440 --> 03:51:21.700
Ähm.

03:51:21.820 --> 03:51:22.960
Jetzt probieren wir mal was aus.

03:51:23.060 --> 03:51:24.300
Wir haben jetzt so Public IP.

03:51:24.780 --> 03:51:25.260
Stündlich.

03:51:25.700 --> 03:51:27.220
Na gut, aber wenn ich die unter einer Stunde hab.

03:51:27.460 --> 03:51:29.800
Wie gesagt, das hat nicht viel gekostet.

03:51:31.020 --> 03:51:31.380
Ähm.

03:51:31.380 --> 03:51:31.740
So.

03:51:32.120 --> 03:51:33.280
Also, wenn ich den...

03:51:33.280 --> 03:51:35.260
Wenn ich den Kram jetzt hier erstellt hab.

03:51:36.280 --> 03:51:37.000
Und hier hab ich die...

03:51:37.000 --> 03:51:37.500
Hier hab ich...

03:51:38.560 --> 03:51:40.560
Wo ist die interne IP von dem Server?

03:51:46.140 --> 03:51:47.100
Ist der nicht attached?

03:51:50.370 --> 03:51:51.490
Private Networking?

03:51:53.810 --> 03:51:54.310
Achso.

03:51:54.770 --> 03:51:55.530
Hab ich das vergessen?

03:52:04.200 --> 03:52:04.700
Jetzt.

03:52:04.880 --> 03:52:05.380
Hier.

03:52:10.470 --> 03:52:10.970
Da.

03:52:12.350 --> 03:52:12.850
Also.

03:52:13.170 --> 03:52:13.670
Ähm.

03:52:13.670 --> 03:52:14.510
Wir haben doch jetzt hier...

03:52:14.510 --> 03:52:16.110
Jetzt bin ich mal gespannt, ob ich das auf die Reihe krieg.

03:52:16.510 --> 03:52:18.910
Also wir haben jetzt Server, die diese IP hier haben.

03:52:25.440 --> 03:52:27.400
Kann ich da jump-hosten drauf?

03:52:27.400 --> 03:52:27.900
Also.

03:52:28.320 --> 03:52:29.580
SSH minus...

03:52:31.200 --> 03:52:31.700
J.

03:52:32.760 --> 03:52:33.760
Auf den da.

03:52:45.240 --> 03:52:46.660
Hat der kein SSH laufen?

03:52:48.920 --> 03:52:50.360
Oder wie ging das nochmal?

03:53:00.960 --> 03:53:01.300
Okay.

03:53:02.140 --> 03:53:03.760
Das Ding hat immer SSH laufen.

03:53:05.560 --> 03:53:06.800
Okay, dann ist jetzt vorbei.

03:53:10.030 --> 03:53:11.070
Moment, der andere hat SSH...

03:53:11.070 --> 03:53:11.790
Ne, das ist der da.

03:53:13.210 --> 03:53:14.990
Okay, wenn die Dinger nicht mal SSH...

03:53:14.990 --> 03:53:15.670
Äh.

03:53:15.750 --> 03:53:16.410
Wait a minute.

03:53:17.850 --> 03:53:19.870
Warum hat einer SSH laufen und einer nicht?

03:53:24.500 --> 03:53:25.360
Okay, das funktioniert.

03:53:25.720 --> 03:53:27.760
Guck mal, jetzt bin ich auf QChat Node 2.

03:53:28.580 --> 03:53:28.900
Und zwar.

03:53:28.900 --> 03:53:30.900
Das ist jetzt SSH-Trick 17.

03:53:31.460 --> 03:53:37.220
Also ich sag SSH jetzt, ich will auf diesen Server mich connecten über diesen.

03:53:38.720 --> 03:53:41.040
Das Root kann man hier weglassen, wenn es immer der gleiche User ist.

03:53:41.040 --> 03:53:41.540
Ne.

03:53:41.540 --> 03:53:42.040
Das ist es nicht.

03:53:42.040 --> 03:53:42.540
Okay.

03:53:42.540 --> 03:53:43.040
Kann man nicht.

03:53:43.800 --> 03:53:49.880
Das heißt, SSH lockt sich darauf ein und nimmt dann meinen Key lokal mit und lockt sich darauf ein.

03:53:53.940 --> 03:53:54.440
So.

03:53:59.190 --> 03:53:59.690
Jupp.

03:53:59.690 --> 03:54:00.810
Network unreachable.

03:54:02.750 --> 03:54:03.370
Da geht nix.

03:54:03.370 --> 03:54:04.850
Da müsste ich mir irgendwas bauen.

03:54:04.850 --> 03:54:06.850
Jetzt ist natürlich die Frage.

03:54:06.850 --> 03:54:10.850
Erlaubt der Loadbalancer ausgehenden Traffic?

03:54:10.850 --> 03:54:12.850
Wahrscheinlich nicht, oder?

03:54:14.850 --> 03:54:16.850
Der wird nur eingehenden Traffic machen.

03:54:16.850 --> 03:54:24.070
Ja.

03:54:24.070 --> 03:54:31.540
So, ich müsste jetzt quasi sowas hier machen.

03:54:31.540 --> 03:54:33.540
Als Default Gateway.

03:54:33.540 --> 03:54:35.540
Und dann, was hat mein Loadbalancer für eine IP?

03:54:35.540 --> 03:54:39.110
Weiß ich jetzt gar nicht.

03:54:39.110 --> 03:54:41.110
Was hat denn der Loadbalancer für eine IP?

03:54:41.110 --> 03:54:43.110
Ich glaube aber nicht, dass der auch Gateway machen kann.

03:54:43.110 --> 03:54:45.110
Das wäre...

03:54:45.110 --> 03:54:47.110
Das glaube ich, das würde keinen Sinn ergeben.

03:54:47.110 --> 03:54:49.110
Aber ich probier's, ich probier's mal aus.

03:54:49.110 --> 03:55:01.840
0.0.0 Default Gateway und...

03:55:01.840 --> 03:55:22.850
Nope.

03:55:22.850 --> 03:55:24.850
Äh.

03:55:24.850 --> 03:55:26.850
Muss ich ja noch Root at Default machen?

03:55:26.850 --> 03:55:28.850
Dass das geht?

03:55:28.850 --> 03:55:30.850
Weil da fehlt, da fehlt jetzt ja...

03:55:30.850 --> 03:55:37.740
Root at Default GW 10.0.0.5.

03:55:37.740 --> 03:55:38.740
Wie?

03:55:38.740 --> 03:55:44.420
Network is unreachable?

03:55:44.420 --> 03:55:50.380
Moment.

03:55:50.380 --> 03:55:51.380
Warum ist das...

03:55:51.380 --> 03:56:01.920
Mach ich das falsch?

03:56:01.920 --> 03:56:03.920
Wie das Network is unreachable?

03:56:03.920 --> 03:56:05.920
Ist das gleiche Netzwerk?

03:56:05.920 --> 03:56:15.990
Und ich kann's sogar pingen?

03:56:15.990 --> 03:56:21.090
Äh, das ist schon...

03:56:21.090 --> 03:56:23.090
Äh, 1 geht? Okay.

03:56:23.090 --> 03:56:25.090
Ah, 5 geht nicht.

03:56:25.090 --> 03:56:28.600
Vielleicht muss ich...

03:56:28.600 --> 03:56:32.360
Was war das IP?

03:56:32.360 --> 03:56:46.040
Dell?

03:56:46.040 --> 03:56:48.040
Was? Nee, das war doch GW.

03:56:48.040 --> 03:56:50.040
Nee, nee, nee, sag ich doch GW.

03:56:50.040 --> 03:56:52.040
Also aus irgendwelchen Gründen ist Network unreachable.

03:56:52.040 --> 03:56:54.040
Obwohl er im gleichen Netzwerk ist.

03:56:54.040 --> 03:56:56.040
Alles klar.

03:56:56.040 --> 03:56:58.040
Ähm...

03:56:58.040 --> 03:57:00.040
Ja, aber das ist wahrscheinlich auch gar nicht gedacht.

03:57:00.040 --> 03:57:04.950
Ach so, du meinst...

03:57:04.950 --> 03:57:15.510
Das ist doch egal, über welche Art und Weise ich das hätte.

03:57:15.510 --> 03:57:17.510
Also, den Loadbalancer kannst du auf jeden Fall nicht nehmen.

03:57:17.510 --> 03:57:19.510
Ausgehend.

03:57:19.510 --> 03:57:21.510
Da müsste ich jetzt selbst irgendwas bauen, um wieder rauszukommen.

03:57:21.510 --> 03:57:24.880
Ist jetzt kein...

03:57:24.880 --> 03:57:26.880
großer Akt und auch kein großer Verlust,

03:57:26.880 --> 03:57:30.390
dass das nicht geht?

03:57:30.390 --> 03:57:34.600
Müsste ich mir was überlegen.

03:57:34.600 --> 03:57:36.600
Das glaub ich auch, dass sie das denken.

03:57:36.600 --> 03:57:38.600
Also, Status. Wo sind wir stehen geblieben?

03:57:38.600 --> 03:57:40.600
Def...

03:57:40.600 --> 03:57:42.600
Aus irgendwelchen Gründen...

03:57:42.600 --> 03:57:46.290
Was?

03:57:46.290 --> 03:57:51.460
Das hab ich überhaupt nicht gemacht.

03:57:51.460 --> 03:57:54.960
Oh doch, naja, gut.

03:57:54.960 --> 03:57:56.960
Ähm, Comet.

03:57:56.960 --> 03:58:12.500
Kekkel. Push.

03:58:12.500 --> 03:58:14.500
Ach, aus irgendwelchen Gründen heißt das Ding Brot.

03:58:14.500 --> 03:58:16.500
Moment, ich hab da...

03:58:16.500 --> 03:58:18.500
Sekunde, ich hab da verschiedene Branches.

03:58:18.500 --> 03:58:28.340
Zack.

03:58:28.340 --> 03:58:30.340
Warum hab ich da verschiedene Branches, meine Güte?

03:58:30.340 --> 03:58:34.550
Das ist doch gar...

03:58:34.550 --> 03:58:36.550
Und in beiden Branchen

03:58:36.550 --> 03:58:38.550
ist exakt das gleiche drin.

03:58:38.550 --> 03:58:40.550
Ja, das ist natürlich äußerst sinnvoll,

03:58:40.550 --> 03:58:42.550
dass ich da zwei verschiedene Branchen...

03:58:42.550 --> 03:58:44.550
Was für was hatte ich da zwei verschiedene Branches gemacht?

03:58:44.550 --> 03:59:04.630
Ich weiß es gar nicht mehr.

03:59:04.630 --> 03:59:06.630
Normalerweise ist es die falsche Richtung.

03:59:06.630 --> 03:59:08.630
Aber...

03:59:08.630 --> 03:59:13.350
Ist eh die gleichen Comets. Master. Bam.

03:59:13.350 --> 03:59:15.350
Ja, irgendwas hatten wir uns

03:59:15.350 --> 03:59:17.350
in dem Stream damals gedacht. Ich weiß es nicht mehr.

03:59:17.350 --> 03:59:19.350
So.

03:59:19.350 --> 03:59:21.350
Jetzt haben wir unseren Terraform-Krempel auch noch gepusht.

03:59:23.350 --> 03:59:25.350
Also, wer sich angucken will,

03:59:25.350 --> 03:59:27.350
was wir heute gemacht haben,

03:59:27.350 --> 03:59:29.350
da steht alles drin.

03:59:29.350 --> 03:59:32.980
In dem Repo.

03:59:32.980 --> 03:59:34.980
Was ist denn die Readme eigentlich so hässlich?

03:59:34.980 --> 03:59:43.410
Edit this file e.

03:59:43.410 --> 03:59:45.410
E. File e.

03:59:45.410 --> 03:59:47.410
Sag mal, ist Github gerade kaputt?

03:59:47.410 --> 03:59:51.300
Achso, ich bin nicht eingeloggt.

03:59:51.300 --> 03:59:56.280
Bin nicht eingeloggt.

03:59:56.280 --> 04:00:00.100
Kein keck w.

04:00:00.100 --> 04:00:02.100
Aber das keck w ist der Service.

04:00:02.100 --> 04:00:04.100
Keckel.

04:00:04.100 --> 04:00:12.150
Wunderbar.

04:00:12.150 --> 04:00:14.150
Jetzt ist die Readme

04:00:14.150 --> 04:00:17.840
viel besser.

04:00:17.840 --> 04:00:19.840
Ne, wir haben kein...

04:00:19.840 --> 04:00:27.960
Stimmt, wir haben kein Projektbild.

04:00:27.960 --> 04:00:29.960
Ich weiß, was wir für ein Projektbild machen.

04:00:29.960 --> 04:00:33.590
Ich weiß,

04:00:33.590 --> 04:00:35.590
was wir für ein Projektbild machen.

04:00:35.590 --> 04:00:37.590
Wie heißt denn dieses Emote,

04:00:37.590 --> 04:00:39.590
wo...

04:00:39.590 --> 04:00:41.590
Wo der keck w-Typ so im Schlafanzug

04:00:41.590 --> 04:00:43.590
im Kreis sich dreht?

04:00:43.590 --> 04:00:47.030
Ihr wisst, was ich mein.

04:00:47.030 --> 04:00:52.070
Ich weiß nicht, wie das heißt.

04:00:52.070 --> 04:00:54.070
Es gibt das und es gibt auch das,

04:00:54.070 --> 04:00:56.070
das sich im Kreis dreht, oder?

04:00:56.070 --> 04:00:58.070
Keck wiggle.

04:00:58.070 --> 04:01:07.650
Keck wiggle.

04:01:07.650 --> 04:01:09.650
Ist das ein Seagull-Emote, oder?

04:01:09.650 --> 04:01:11.650
Wir machen

04:01:11.650 --> 04:01:15.280
keck by.

04:01:15.280 --> 04:01:17.280
Keck by. Bestes.

04:01:17.280 --> 04:01:27.320
Keck by. FFZ.

04:01:27.320 --> 04:01:29.320
Oder ist es ein Better Twitch TV Emote?

04:01:29.320 --> 04:01:33.140
Beste.

04:01:33.140 --> 04:01:35.140
Ja, wir brauchen unbedingt

04:01:35.140 --> 04:01:37.140
ein Projektbild.

04:01:37.140 --> 04:01:39.140
Das ist ganz wichtig.

04:01:39.140 --> 04:01:41.140
Ich will ja das animierte haben.

04:01:41.140 --> 04:01:43.140
So, hier das da.

04:01:43.140 --> 04:01:45.140
Wir includen das jetzt einfach

04:01:45.140 --> 04:01:47.140
ganz frech in unsere Readme.

04:01:47.140 --> 04:01:49.140
Wim, Readme?

04:01:49.140 --> 04:01:51.140
Ich kann mir immer nicht merken, wie man Bilder macht

04:01:51.140 --> 04:01:53.140
in Markdown. So, oder?

04:01:53.140 --> 04:01:55.140
Markdown Insert Images.

04:01:55.140 --> 04:02:01.330
Ja.

04:02:01.330 --> 04:02:03.330
Genau.

04:02:03.330 --> 04:02:05.330
Ausrufezeichen?

04:02:05.330 --> 04:02:07.330
So?

04:02:07.330 --> 04:02:10.960
Okay.

04:02:10.960 --> 04:02:14.340
Keck by.

04:02:14.340 --> 04:02:24.440
Massive.

04:02:24.440 --> 04:02:26.440
Ich hoffe, der kann das Bild einbinden so rum.

04:02:26.440 --> 04:02:30.710
Alles klar.

04:02:30.710 --> 04:02:32.710
Jetzt haben wir auch,

04:02:32.710 --> 04:02:34.710
jetzt ist perfektes Projekt.

04:02:34.710 --> 04:02:38.470
Jetzt kann sich keiner mehr beschweren.

04:02:38.470 --> 04:02:40.470
Jetzt hat es alles, was es braucht.

04:02:40.470 --> 04:02:42.470
Ein Ansible Playbook, Terraform

04:02:42.470 --> 04:02:44.470
Config, ein

04:02:44.470 --> 04:02:46.470
der besten Microservice der Welt

04:02:46.470 --> 04:02:48.470
und Keck by als Emote.

04:02:48.470 --> 04:02:50.470
Jetzt ist alles gut.

04:02:50.470 --> 04:02:52.470
Easy Clap.

04:02:52.470 --> 04:02:54.470
Leute, 4 Stunden.

04:02:54.470 --> 04:02:56.470
Alter, das hat länger gedauert, als ich mir das vorgestellt habe.

04:02:56.470 --> 04:02:58.470
Ich hoffe, euch hat es

04:02:58.470 --> 04:03:00.470
gefallen. Wir werden daran auf jeden Fall weiterbauen.

04:03:00.470 --> 04:03:02.470
Er muss ja hier seine

04:03:02.470 --> 04:03:04.470
DevOps, muss er sein DevOps Game

04:03:04.470 --> 04:03:06.470
upsteppen.

04:03:06.470 --> 04:03:08.470
Sein Cloud Native

04:03:08.470 --> 04:03:10.470
DevOps, äh,

04:03:10.470 --> 04:03:12.470
seine Cloud Native agilen

04:03:12.470 --> 04:03:14.470
DevOps Skills erweitern.

04:03:14.470 --> 04:03:16.470
Für mehr Buzzwords.

04:03:16.470 --> 04:03:18.470
Der Katz,

04:03:18.470 --> 04:03:20.470
oh, die liegt irgendwo im Flur

04:03:20.470 --> 04:03:23.780
und rollt sich da rum.

04:03:23.780 --> 04:03:25.780
Also Leute,

04:03:25.780 --> 04:03:27.780
ich geh jetzt was essen. Wir sehen uns.

04:03:27.780 --> 04:03:29.780
Bis dann. Macht's gut. See you.
