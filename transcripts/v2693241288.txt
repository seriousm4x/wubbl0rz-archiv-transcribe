Bis zum nächsten Mal.
Und jetzt kommt die nächste.
Hallo, da bin ich. Ich muss auch kurz den Titel anpassen vom Stream.
Und gerade mal mein RGB fixen von der Tastatur.
So.
So.
Der Titel ist verrückt, ja.
Das stimmt wohl.
Ich kann euch sagen, was ich mache.
Ich versuche, was zu
kompilieren.
Ja, doch, trifft es eigentlich ganz gut.
Das Problem ist, dass dort im Kompilierungsprozess mit den offiziellen Skripts
Podman oder Docker verwendet wird.
Das heißt, wenn ich das tatsächlich, ohne da auf meinem Host rumzumüllen,
bauen will, muss ich quasi Podman in einem Docker-Content,
oder ich erstelle eine eigene VM, ja, aber das ist nicht so schön,
muss ich quasi Podman in Docker laufen lassen,
was wiederum in Vmware Workstation läuft, was wiederum unter Windows 11 in Hyper-V läuft.
Ja, es geht nicht anders. Es geht nicht anders.
es geht nicht anders eine chance aus einer eigenen vm für jeden bild zu bauen ich zeige
euch aber erst mal was ich zeige euch erst mal was also sobald das stream ordentlich
angelaufen ich zeige euch was ich habe mich ein mega neises projekt gefunden auf github
und zwar vom mensch aber eine vor allem noch nicht gestartet was ist denn da los das geht
Wenn die VM jetzt mal startet, dann geht's auch los.
Warum blinkt das? Jetzt blinkt's nicht mehr.
Windows-Logik.
By the way, wisst ihr, wusstet ihr, dass das Startmenü in Windows eine Web-Anwendung mit React ist?
Chat, ich muss euch mal kurz ausblenden.
Ich muss gucken, was Rechnung.png ist.
Ist das vielleicht was,
was gar nicht auf dem User-Account
angezeigt werden soll?
Kann das sein?
Ach Quatsch, das ist eine Fake-Rechnung.
Das ist eine Fake-Rechnung.
Hier, guckt mal.
Ernst muss sommern.
Das war für OCR-Test oder irgendwie sowas.
Ich habe schon gedacht,
Ich hab hier aus Versehen im Streaming Account Zeug hingekopiert.
By the way, was macht das Startmenü eigentlich, wenn man da 111 reinpastet?
Diese Kack-Bing-Suche, Mann.
Ist dein Windows virtualisiert?
Nee, mein Windows ist nicht virtualisiert.
Mein Linux ist virtualisiert.
Aber auch nicht nur.
Ich hab auch ein paar Native-Linux-Kisten.
Gestern erst eine installiert, wieder.
aber mein windows ist nicht virtualisiert man windows ist das host system das hier ist linux
in der vm in vor allem der workstation da drin lassen wir jetzt ein docker container laufen und
in dem docker container müssen wahrscheinlich ein portman vermutlich ja so wie ich mir das
jetzt überlegt habe vermutlich laufen lassen übrigens schön dass so viele schon am start
sind montag 15 48 somit die schlechteste zeit zu streamen streng gesehen ist das windows
virtualisiert so bei hypervi moment moment wenn windows virtualisiert ist heißt das dann ich
habe vor allem der workstation in einem virtualisierten windows in hypervi und vor
immer selbst macht dann noch mal über hypervi linux virtualisiert darin in docker container
und darin potten das kann ich sein ja bing suche ist ich bin jetzt das ist
ein typisches windows feature chat gibt es irgendjemand von euch der die bing
suche verwendet max mund
weg der ist sogar zu doof mein youtube channel zu suchen
Der Best Match, ne? Max FPS. Der Best Match ist eindeutig MaxMut. Gibt nichts anderes, was da matchen könnte.
Ich zeige euch aber mal was. Ich habe ein sehr nices Programm gefunden. Ich überlege euch gerade, wie ich euch das am besten zeige.
Wir installieren Proxmox in der VM.
Nicht zu virtualisieren, mir geht es um ZFS und das Startmenü.
Also das Bootmenü, nicht das Startmenü.
Zu viel Windows-Stells am Start.
Mit dem Frasier.
Schon lange nicht mehr mit dem Fabian geschwätzt.
Ja, aber die Bing-Suche ist Mist
So, ich zeige euch mal was, was ich gefunden habe
Guck mal, ZFS Boot Menu
Irgendjemand, der das kennt oder schon mal benutzt hat
Vielleicht
Max, hast du mitbekommen, wie scheiße das Telekom-Peering geworden ist?
Ja, ich habe mitbekommen
So um drei Ecken habe ich das
Irgendwie erfahren
Da gibt es aber wohl auch News-Posts oder sonst wie dazu
Dass die Telekom wohl
große Probleme mit dem Cloudflare-Peering hat,
weil die Telekom,
jetzt Hörensagen, keine Ahnung, ob das stimmt,
weil die Telekom
Cloudflare nochmal gesondert
abrechnen will für den Traffic.
Und Cloudflare sagt, ihr könnt uns mal.
Und jetzt ist die Verbindung
zu Cloudflare richtig beschissen,
was halt einen
nicht unerheblichen Teil des Internet-Traffics betrifft.
Was ich viel lustiger finde,
was ich viel witziger finde, ist,
Telekom hilft
Twitter
Ich nenn's weiterhin Twitter, aber kommt halt x
So, ich weiß
Wir können Telekom hilft hier jetzt nicht aufmachen
Weil das dann wieder rumspackt
2017, also ich weiß nicht
Warum Twitter so dermaßen schlecht ist, aber
Wir machen einfach Telekom hilft auf Nitta auf
Da sieht man das nämlich viel besser
Und wenn man sich hier anguckt, was die hier schreiben
Die Leute sind hart am flamen, ja
Und
und die Leute, die armen
Telekom-Service-Mitarbeiter, ne?
Aber die haben echt die Arschkarte.
Aber die Antworten sind auch
hardcore lächerlich teilweise.
Wenn man sich das hier anguckt.
Habt ihr seit Monaten Probleme?
Ja, nein, bei uns, wir haben das beste Netz.
Unsere Leitungen sind alle
toll dimensioniert. Entscheißen sie.
Hey, wie meinst du das?
Ja, wie, wo?
Stellen sich da an.
Hatte ich nicht sogar mal ein Telekom-E-Mode?
Genau.
Das habe ich mitbekommen.
Und wisst ihr, dass ich das persönlich richtig scheiße finde, obwohl ich nicht bei der Telekom bin, dass das Telekom-Peering so sagt?
Ich finde das aus dem Grund scheiße, aber richtig Hardcore-Scheiße, weil eventuell bei mir es demnächst Telekom-Glasfaser gibt.
mit, ich weiß nicht, ist es dann sogar
ein Gigabit-Synchron? Bin ich mir gar nicht sicher,
was da so die Standardsache ist.
Zumindest, ohne Mist,
da bleibe ich lieber
bei meinem
halben Gigabit
Vodafone-Anschluss
mit nur, keine Ahnung,
50 Mbit Upload oder so,
anstatt, dass ich mir
den Mist gebe.
Ja, zu Recht,
Da bin ich mal gespannt, was die machen.
Ja, es ist eigentlich lächerlich, ne?
Dass wir immer noch so krasses dritte Weltland sind,
was Internet angeht.
Neuland sind wir.
Das kann ich nicht verstehen.
Wobei, wir sind ja in anderen Bereichen auch eher auf dem Weg
ins dritte Weltland, als in die andere Richtung.
So.
Also.
Chat, Chat, was wir jetzt mal machen,
damit ich euch das Tool zeigen kann.
Wir installieren mal kurz Proxmox.
Das geht mega schnell.
in der inner vm wir wollen damit bevor es einer schreiter ohne vm proxmox
monka es ich sehe es schon im chat leute monka essers sind am start er die monka
w sind am start roxmox in der vm oje wir virtualisieren x wir benutzen zfs von
proxmox ist alles zumal virtualisierung nested virtualisierung seit windows 11
Und vor allem, weil Workstation 25 eh kaputt ist und nestet virtualisieren, wenn man richtig funktioniert.
Wo man sich auch fragt, was haben sie denn da getrieben?
Ja, ja, haben sie. Vor einem Monat oder so gab es da die News zu.
Wobei der Telekom ja wohl irgendwie das Problem ist, dass die sich nicht einig werden, wie man das mit Cloudflare richtig abrechnet.
Die wollen das ja doppelt abkassieren.
hören sagen, ich habe keine Ahnung, was
wirklich Sache ist. So genau habe ich mich
damit noch nicht beschäftigt.
So, was macht denn hier mein...
Oh, guck mal, der flutscht schon ganz schön.
Ja, halbes Gig reicht auch.
1,7 Gig hier
in ein paar Sekunden runtergeladen.
O2, ja dafür ist der Rest, glaube ich, von
O2 Mist, oder?
Kann mich noch dran erinnern.
Wir hatten früher
als ich auch beim Provider war, hatten wir ein Peering zu Freenet.
Und bis dahin habe ich mir Peering immer als so super advancedes, abstraktes Zeug vorgestellt,
bis ich dann mal im Rechenzentrum war und legit einfach ein Glasfaserkabel von unserem Router an den Freenet-Router gesteckt habe.
äh, umgedreht.
Vom Freenet-Router an unseren Router gesteckt hab.
Das war Peering, ja?
Ich durfte nicht an den Freenet-Router dran.
An unseren Router durfte ich dran.
Letztendlich war das einfach ein Glasfaserkabel zwischen zwei Routern.
Top.
So.
Ah, ich wollte Proxmox installieren.
Installieren wir sie in die PXE-Bootkiste.
Die hat ja eigentlich genug Power.
Wir installieren jetzt mal in die PXE-Bootkiste.
Brox.
Mox.
Warum habe ich über...
Chat.
Ich bin blöd.
Guck mal, ich bin richtig hängen geblieben.
Pepega.
Guck mal hier.
Warum habe ich mir überhaupt das ISO runtergeladen?
Sag mir das mal.
Warum lade ich mir das ISO runter?
Ich weiß, ich weiß, ich weiß.
Ich habe das gelesen.
Easybell?
Easybell ist ein VoIP-Anbieter.
Äh.
Ich bin bei Easybell.
Ich habe eine Telefonnummer bei Easybell.
Für 2,80 Euro
oder so im Monat.
Ich dachte, die machen VoIP.
Jetzt habe ich zu lahm gedrückt, Leute.
Wisst ihr mal.
Disconnect.
Also guckt mal, ich bin so blöd, ne?
Ich könnte einfach in meinen
schön AI-generierten PXE-Boot booten.
Steinadler, dankeschön für den Sub.
Exzellente.
So, und jetzt,
ich habe da keinen Proxmox drin, aber ich habe
Netboot XYZ drin.
Das kann ich starten.
Und ich glaube, die
haben einen Proxmox-Installer
mit dabei.
Wenn ich nicht ganz falsch liege.
Ich installiere Proxmox nur, damit ich euch zeigen kann,
was ZFS-Boot-Menü ist. Weil ZFS-Boot-Menü,
das kann ich euch schon sagen,
ist eine extreme
Pogger-Software.
Das ist richtig geil.
Ich hab vorhin schon mal gefragt, irgendjemand von euch
da, der schon mal ZFS-Boot-Menü
benutzt hat? Oder kennt?
Nicht mal benutzt hat?
Okay, live. Live-CDs?
Linux-Networks-Install.
Ist hier Proxmox dabei?
Proxmox.
Da sind wir doch.
Proxmox VE 1.1
Da gibt es einen grafischen Installer.
Ey, wir wollen einen Textinstaller haben.
Installieren wir mal schnell.
Ich versuche das mal kurz zu erklären,
was ZFS Bootmenü ist.
Und zwar,
wenn ihr ZFS verwendet,
ZFS ist ein
advancedes Filesystem für Linux
das macht Checksum über alle Dateien
das hat
ein Write Cache in RAM
das kann extra Read Cache haben
das hat RAID integriert, das hat Encryption
integriert und es hat
Snapshots und Ditapplication
aber Ditapplication würde ich nicht benutzen
und On-The-Fly Encryption integriert
und
Snapshots, Snapshots ist
ein gutes Thema, denn
Jetzt kommt's
Wenn man jetzt
Ein Systemupdate macht
Und sich sein System
Zerschießt
Dann kann man nicht mehr booten
So weit so gut
Wenn ich jetzt vor dem Systemupdate
Ein Snapshot
Gemacht hab bei ZFS
Beziehungsweise wenn ich
Nächtlich einfach einen Snapshot machen lasse
Von meinem System
Dann kann ich auch nicht booten
weil ja mein System kaputt ist und ich brauche ein laufendes System, das ich ZFS restoren kann.
Das heißt, ich müsste dann erstmal mit einer Live-CD booten und den Snapshot restoren, dass das funktioniert.
So, jetzt kommt aber der Trick.
Jetzt gibt es ZFS Bootmenü.
Und ZFS Bootmenü ist quasi ein Bootloader, der ZFS Snapshots booten kann.
Das heißt, sobald ich mein System kaputt gemacht habe, brauche ich kein laufendes System mehr,
dass ich meine Snapshots wieder restoren kann.
Das ist enorm pock.
Das ist so ein bisschen wie wenn man CacheOS verwendet mit BTFS Snapshots
und dort im Bootmenü das auswählen kann.
Nur dass das halt für ZFS, ja, no support.
Ich accriege Advanced Options.
Wir müssen das als ZFS konfigurieren.
Sollte A-Shift nicht immer 11 sein?
Oder 12?
Ist mir vollkommen egal
Wir machen damit eh nix
So, okay
Next
Habt ihr das soweit verstanden, was ich versucht hab zu erklären?
Ihr seht es gleich in Aktion
Root-Passwort
1, 2, 3, 4, 5, 6
Ach ne, na gut, dann
Merci
Administrator-Mail
keckel
at example.com
Ja,
lassen wir halt. Ich brauche es eh nicht.
pve
example.com
So.
1,
4, 5 müssen wir uns merken.
Install.
Moin
So hier
ZFS Bootmanager, ich weiß gar nicht ob
Ja die haben einen Screenshot, guck hier, hier sieht man das so
Hier sieht man das
Guck, hier kann man Snapshots und Sachen auswählen
In dem Bootmanager
Da kann man beispielsweise auch sagen
Ich will booten vor einem ZFS Snapshot
Das ist
Das ist richtig nice
Und man braucht kein Live-System oder sowas
wenn man sein System gekillt hat, um den
Snapshot zu restauren. Das ist
eigentlich richtig pock.
So, und das habe ich ausprobiert
bei mir auf dem NAS. Ich habe
mir hier so einen Ugreen
4800 Plus gekauft
und noch ein Pro, was demnächst
da ist. Und dann habe ich zwei NASes und habe
im Endeffekt nichts anderes als
Pepo Burn Money gemacht.
Und
da habe ich ZFS-Boot-Menü schon drauf.
Es gibt da nur ein Problem.
ZFS-Boot-Menü
in der neuesten Version ist verbuggt.
Auf dem NAS. Beziehungsweise
die offiziellen Builds sind verbuggt.
Da können die aber nichts für. Es geht nur
in ein ZFS-Boot-Menü Build mit Kernel 6.1.
Und es gibt keine neuen Builds
mehr mit Kernel 6.1. Das heißt, ich muss das
selber bilden.
So, installieren wir mal
hier kurz
unser Proxmox-Installer durch.
Ah ja, da sind wir.
Äh, 215.
Äh, 2145.
Ups.
2145.
Ich hatte TPS.
Äh, welcher Port ist...
Moment, welcher Port?
8006.
8006
So, jetzt sind wir hier auf Proxmox drauf
Wie gesagt, mit Proxmox selbst will ich gar nichts machen
Deswegen weiß ich auch nicht, warum ich so blöd bin, mich aufs Webinterface
Was?
Hab ich vertippt?
Moment
Äh, hab ich nicht
So, nehmen wir mal die IP
Jetzt root at
äh, ja, Firefox, genau.
Fix SSH.
Bam.
Ich liebe das Kommando, das ist so prok.
So, jetzt sind wir auf der Kiste eingeloggt.
So, und jetzt zeige ich euch,
jetzt zeige ich euch, was
ZFS Bootmenü macht. Also, proks, smogs,
ZFS Bootmenü.
Wir haben hier ZFS List, ihr seht,
wir haben hier einen ZFS Pool
mit Root drauf.
Mit rrrrrr.
Nicht Reboot.
Mit Root.
und da machen wir jetzt mal ein snapshot von ok zfs snapshot airpool root pve oder kann man auch
gleich den ganzen airpool snapshot keine ahnung so und wie geht das jetzt noch mal mit den mit
den ich bin zu dumm und zfs snapshot aus dem kopf muss man nicht sagen at moment wie ging das noch
mal. ZFS-Snapshot.
How to.
Okay, Oracle.
Die müssen es wissen.
Ach, so war das. Genau.
Ja, ja. Doch mit einem Add. Genau.
Genau. Da war ich doch richtig hier.
Add.
Keine Ahnung.
Pack W. Ist egal, wie das heißt.
So, und jetzt haben wir einen Snapshot.
Den listen wir jetzt mal, die Snapshots.
ZFS-List-Snapshot.
Da sehen wir, wir haben einen Snapshot.
Und jetzt kann ich mit ZFS-Boot-Menü
Jetzt stellt euch vor, ich kann euch, wir können das auch gleich ausprobieren.
Jetzt stellt euch mal vor, ich habe mein System zerstört, ja.
Und will jetzt von dem Snapshot booten, als das System noch okay war.
Das geht ja jetzt nicht.
Aber mit ZFS Bootmenü geht das gleich.
Da brauche ich mal kurz diesen Guide hier.
ZFS Bootmenü Setup für Proxmox.
Brauchen wir alles nett.
Brauchen wir alles nett.
Hier, Mount.
SDA2.
Boot.
Gut, Efi.
Genau.
MKDia.
Ach, ich kack noob.
Ich hab nicht mit Efi ge...
Okay, nochmal installieren.
Ich hab mit Bios gebootet, nicht mit Efi.
Ja, geil.
0 was zum was zimmer habe ich das hier noch eingelegt diese iso
das will ich jetzt ganz bestimmt nicht installieren
nix os generations
was was ist ein nix os all have versteht
ich muss noch mal kurz installiert ich habe es nicht mit box box ist nicht mit der zfs
box box installiert es laber ich für scheiß nicht mit efi box box netboot xyz
So, Linux Network Install, Proxmox, Proxmox VE 9.1.
Oh, nein, VML buggt.
Aber das ist mit VML Workstation 25 ja mittlerweile leider ganz normal, dass es buggt.
Warum ist vor allem eigentlich so kacke geworden in Version 25?
Gerade in Kombination mit Windows 11 und dieser Hyper-V-Virtualisierung und dem ganzen Schrott darunter.
Das ist wirklich kaum benutzbar.
Das Dumme ist nur, ich muss sagen, ich habe es noch nicht ausprobiert.
Aber ich vermute einfach mal, dass es mit VirtualBox nicht viel besser sein wird.
Bugs sind generell ganz normal.
Moment, wir zelebrieren doch hier immer das Error-Free-Programming.
Die sollten sich einfach mal eine Schulung hier holen, würde ich sagen.
Ah ja, wenn das mit NixOS geht, ist das auch nice.
Aber in dem Fall bringt mir das natürlich nichts, weil ich will ja Proxmox installieren mit ZFS, kein NixOS.
Fortbildung. Gibt es jeden Tag hier im Stream?
Oder nicht jeden Tag, jeden Stream gibt es das hier.
Muss man bezahlen mit Prime-Subscriptions.
Probier doch irgendwann mal KVM und LibWirt aus.
Wie, habe ich doch schon ausprobiert.
Ich habe dafür sogar mal selbst einen Client programmiert, den gibt es auf GitHub.
guck hier
vm champ alles anwendungsfehler natürlich gucken wir uns jetzt nicht an
ja vm champ da kannst du vms fast so schnell wie docker container mit starten
das problem ist nur dass es outdated ist und nicht mehr läuft mit der neuesten
libretto version
0 HD.
Habe ich nicht irgendwie was, wie man hier das
das Fenster closen kann?
Habe ich nicht irgendwie Close Fenster?
Close Current.
Ach, es ist nur
Ctrl X. Okay.
Ctrl X. Yes.
Aha, ist da ein Proxmox-Installer am Start?
Probier doch mal auf dem Linux-Host zu streamen und deine VMs in...
Ne, ne, ne, ne, ne.
Oh ne!
Igitt, ich hab Proxmox GUI geladen.
Ich hab noch nie Proxmox GUI...
mit GUI installiert.
Äh, egal.
ZFS-Rate 0.
Advanced Options.
Jaja, alles okay.
options berlin germany passwort huge tops top secret passwort das werdet ihr nie erraten
136 ist es jetzt sollen wir auch recht sein install
Ja aber ich werde auf Cache.js nicht hier meine VMs dann noch laufen haben. Das macht ja irgendwie
keinen Sinn. Dann werde ich auf Cache.js selbst entwickeln und nicht mehr in der VM. Die VM habe
ich ja nur für, weil es hier unter Windows läuft. Für solche Sachen ja, das werde ich unter Linux
auch garantiert mit KVM machen.
Wann installieren wir Proxmox mit Full Disk Encryption
und ZFS SSH Unlock?
Da bin ich mir nicht so
sicher, ob ich das mache.
Ich glaube, bei Proxmox ist die bessere Variante.
Man installiert
das auf einer kleinen Disk ohne Encryption,
hat aber alle Daten
dann in einem Encrypted
Pool. Das lässt sich
ja ganz einfach machen in Proxmox.
Man schaltet einfach alle Sachen für die
für die Disk
also für die Bootplatte ab
und sagt, alles nur noch in dem anderen Pool
erstellen und dann landet auf der Bootplatte nix.
So, next steps.
So, jetzt haben wir
1, 3, 6.
Ah, das ist noch gar nicht da.
Das muss erstmal hier...
Habt ihr gesehen, da hat man gerade den System D Boot gesehen.
Den werden wir jetzt gleich mal
Disablen
So
Also, zack
Eigentlich müssten wir
Jetzt da sein
Ja, da sind wir
Moment, ins Webinterface will ich gar nicht
SSH
Hat wieder den Mist mit kopiert
Root
Add, yes
ok da sind wir auf der box box kiste drauf also gehen wir mal hier hin so mount das mache ich
jetzt mal ganz kommentarlos einfach die anleitung durch ich will euch ja nämlich nur zeigen wie das
dann aussieht so habe ich das installiert so jetzt machen wir noch mal ein snapshot also
Also wie war das? ZFS, Snapshot,
Airpool,
äh,
Airpool, Route,
PVE1,
Add Kekkel. So.
Jetzt haben wir hier unsere Snapshots. Ist da.
Warum ich keine Videos mache?
Mir ging es letztes Jahr über nicht so gut und, ähm,
ist noch nicht alles,
alles gut, ja.
Da habe ich irgendwie gerade keinen Bock.
So, EFI
Bootmanager.
device sdr partition 2 blablabla wunderbar ok und jetzt zeige ich euch was ich war mal
kurz ein snapshot wobei es wird fast funktionieren was sonst jetzt zeige ich euch wofür der zfs boot
manager gut ist stellt euch vor ich habe jetzt mein system kaputt gemachten das boot nicht mehr
Komm jetzt nicht mehr rein, ich kann mein System nicht mehr starten
Aber ich hab ja einen Snapshot vorher gemacht
Guck, jetzt lande ich im ZFS Bootmanager
Haha, ZFS Bootmanager
Und jetzt kann ich im ZFS Bootmanager sagen
Boote mir doch mal von meinem Snapshot
Ist das nicht mega nice?
Ich kann quasi so
Und das ist ein Bootmanager
Also da brauche ich kein laufendes Proxmox dafür, um das zu machen.
Also selbst, wenn ich mein System komplett zerschossen habe, kann ich mit ZFS Bootmenü,
oder ZFS Bootmenü heißt ja nicht, ZFS Bootmanager, kann ich hiervon booten.
Das sage ich jetzt einfach hier.
Ich will Snapshots booten.
Und jetzt muss man, glaube ich, ich glaube, Ctrl-C drücken.
Ich mache einfach, ich drücke einfach mal Enter.
New Boot Environment Name
Und jetzt kann ich vom Slapshot
Ach ne, ich hab mich verdrückt, aber letztendlich geht's auch
Guck, und jetzt boot ich
Jetzt boot ich hier vom
Vom Slapshot
Und bin wieder im Proxmox gleich drinnen
Ah, das geht nicht
Weil ich was aus dem Guide vergessen hab
Ich hab was aus dem Guide vergessen, okay
So, das müssen wir noch
Äh, hallo, Frau Emmer, darf ich
Darf ich das neu starten?
Ja, gut, dass ich mein System nicht doch kaputt gemacht hab
Ja, das normale bootet, das ist kein Problem
Nur der Snapshot bootet nicht
Okay, da sind wir wieder
Ja, das ist nice, ne, das ist das Funds
So, hier gehen wir nochmal drauf
1, 2, 3, 4, 5, 6, 7, 8, 9
Bestes Passwort
Hier, ich hab im Guide was vergessen, nämlich
Man muss noch eine Sache bei Proxmox machen
Weil die so ein komisches hier
Ne, das muss man nicht machen
Hier
Can mount muss ich setzen
No mount muss ich setzen
Weil ansonsten kommt da durcheinander, ob er vom Snapshot
Mounten soll oder nicht vom Snapshot
Deswegen, das muss man einmal einstellen
So
Und das hier
So, jetzt reboot.
So, jetzt stellt euch vor, ich hätte mein System kaputt gemacht.
Liest du dir alle Befehle, die du copy-pastest, immer durch?
Ja, ich gucke da so grob drüber.
Kommt ein bisschen drauf an, was ich mache.
Wenn ich irgendwas ausprobiere, wird auch mal schneller copy-pasted.
So, guck, und jetzt kann ich hier meinen Snapshot booten, den ich von hier erstellt habe.
Wir machen das nochmal.
Ich kann nämlich, glaube ich, Ctrl-C drücken.
Okay, hier, jetzt kann ich meinen Snapshot
booten, guck, ich hab einmal hier
mein normales und meinen Snapshot, den ich
booten kann und zack, jetzt
boot ich mit ZFS Bootmenü in meinen Snapshot rein
So
So viel dazu, was ZFS Bootmenü
macht
Da geht's aber gar nicht drum, heute
geht's darum, ich möchte ZFS Bootmenü
selber kompilieren
Und das
Also, was ich für ein Problem habe, ist folgendes.
Ich habe genau das, was ich gerade in der VM gemacht habe, hier auf meinem NAS gemacht.
Und mein NAS hat anscheinend irgendeine Hardware-Inkompatibilität mit neueren Kernel-Versionen und ZFS-Boot-Menü in Kombination.
Ich zeige euch das mal. Es gab ja auch einen Issue letztens.
Issues, Closed.
Das hier.
Der hat hier ein Ticket aufgemacht.
und genau so sieht das bei mir im Nass auch aus.
Der sagt irgendwas von USB-Controller
und dann hängt er.
Genau dann an der Stelle.
Nee, mach ich nicht weiter.
Und ich hab jetzt hier auch gepostet,
ich hab das gleiche Problem und bla
und sonst was, ich soll die anderen Kernel-Versionen ausprobieren.
Hab ich gemacht.
Was die hier anbieten ist folgendes.
Wenn du hier auf die Releases gehst,
bieten die immer aktuell
ins Bild von ZFS Bootmenü an.
In drei Varianten.
Nämlich in Kernel 6.6, Kernel 18 und Kernel 6.12.
Das Problem ist, dass bei mir alles neuer als 6.1, glaube ich zumindest, verbuggt ist.
Ich habe das ausprobiert.
Ich habe eine ganz alte ZFS Bootmenü-Version genommen.
Dort wo es...
Hier, da gibt es noch...
Hier, Kernel 6.1.
Das habe ich genommen.
So alt ist die gar nicht.
Das habe ich genommen.
ich habe das Kernel 6.1 Image benutzt und damit ging es sofort, das Booten.
Das heißt, irgendwie gibt es irgendeine Hardware-Inkompatibilität,
irgendwelches komisches Zeug, was der Hersteller getrieben hat,
dass alles Neue als Kernel 6.1 in Verbindung mit ZFS Bootmenü nicht funktioniert.
Vielleicht soll ich nochmal kurz sagen, wie ZFS Bootmenü das eigentlich macht.
ZFS Bootmenü ist im Endeffekt eine Init-RAM-FS, also quasi ein Linux-Kernel,
Initram FS mit ein paar Shell-Skripten
dabei, ja, ZFS
integriert und sowas.
Und die machen dann, wenn man
den Snapshot, den man booten will, ausgewählt hat,
machen die ein K-Exec
Linux. K-Exec kann man
aus einem laufenden Linux-System
ein anderes Linux-System starten.
Und bei dieser
Übergabe, quasi vom Boot-Menü-Manager
vom Boot-Manager zum
eigentlichen Proxmox-Kernel, da gibt's
irgendeine Hardware-Inkompatibilität, irgendwas,
was nicht funktioniert und deswegen
crasht alles, was
neuer ist als Kernel 6.1. Bei Kernel
6.1 gab es das anscheinend noch nicht.
So, und was ich jetzt machen will ist,
ich will mir ZFS Bootmenü
selbst kompilieren,
die neueste Version mit einem
Kernel 6.1.
Was ich schon
gemacht habe ist,
ich habe mir den Kram hier schon mal geklont
und habe hier gefunden,
hier gibt es ein Buildscript.
Hier gibt es ein Buildscript für
ZFS Bootmenü
mit sogar
integriertem SSH Server, wo wir gerade beim
Thema SSH Unlock waren, Leute.
Mit integriertem SSH
Server.
Und ich hab mir
Können wir nicht,
bringt nix, weil ich ziemlich sicher bin,
dass der Bug nicht im ZFS Bootmenü
liegt, sondern im Kernel.
Denn ich hab mir ne
Manjaro VM installiert,
Und in der Manjaro VM auf ganz abenteuerliche Art und Weise mir ein neues ZFS-Boot-Menü kompiliert.
Mit einem 6.1er-Körnel.
Das würde funktionieren.
Das würde tatsächlich funktionieren.
Aber da müsste ich jedes Mal, nach jedem Git-Bicep,
müsste ich dann ein Make und ein Config und ein Kernel-Build und alles machen.
Das wäre, glaube ich, relativ zeitintensiv.
Allerdings kürzer, als man so denkt, weil GitBaseAct ist ja ein Binary Search.
Das findet relativ schnell das Broken Comet.
Übrigens, habt ihr gelesen, der nächste Linux-Körnel wird Linux 7?
7.0 ist der nächste Linux-Körnel.
Heute wurde 6.19 veröffentlicht und der nächste ist dann 7.0.
Ich habe keine Ahnung. Ich kann nicht deinen Drucker reparieren.
So.
Und
Linus hat das nicht nur bestätigt,
der hat es selbst gesagt,
dass das so sein wird.
Wie lang
kompiliert der Linux-Körner so auf aktueller,
moderner Hardware? Ganz ehrlich, ich habe
ganz lange schon keinen Linux-Körner mehr kompiliert,
aber ich würde mal sagen, nicht so lang.
Wie lang kompiliert ein Linux-Körner
auf aktuelle hardware wenn du mal guckst sogar mini pc hier mit 16 oder 8 kern
und keine ahnung 40 sekunden oder so chat habt ihr eine ahnung wie lange
kopiert nilowskern aktuell 30 40 sekunden vielleicht hat er mal sieben
acht minuten kompiliert
da gab es doch auch einen linux in den tipp in den video mit leinos tech tipps
wo die neuen pc für für ihn zusammengebaut haben
Ohne Scheiß, Chrome
kompilieren könnt ihr vergessen.
Diese tausend
Dependencies, die du dafür brauchst,
auch an Bildtools und alles, das braucht
Perl, Ruby, Python,
irgendein komisches Make
und sonst was. Und das braucht
so viel RAM und so viel Disk,
du kannst Chrome realistisch betrachtet
gar nicht wirklich
effektiv selbst kompilieren.
Chrome ist mehr als ein Betriebssystem
Chrome hat mehr
deutlich, deutlich mehr Zeilen
5-6-fache von einem Betriebssystem
an Sourcecode mittlerweile
wenn nicht das 10-fache
vielleicht jetzt ein bisschen übertrieben
ah, das ist krass, Leute
das kann man sich nicht vorstellen
ich glaube, ein aktueller Browser
ist so ziemlich die komplexeste Software
die es zur Zeit auf dem Planeten gibt
Also, komplex.
Ja, also vom Umfang her.
32 GIG haben nicht gereicht.
Ja, das wundert mich nicht.
Ich habe einmal versucht, Chrome zu kompilieren.
Ich weiß gar nicht mehr, für was.
Habe ich dann einfach sein lassen.
Habe ich mir gedacht, ne.
Zehnfache, ne?
Also, das ist mega krass.
Okay, gucken wir mal.
Wie viel Chromium Line of Code?
Wie viel hat das mittlerweile?
18,
insgesamt umfasst
über 26 Millionen
Zeilen. Okay.
19. So. Linux
Line of Code.
Codes.
Okay.
Ich hab nix gesagt.
Ich hab nix gesagt.
Linux hat noch mehr
Zeilen als der Browser.
Aber trotzdem.
Das ist, das ist, also es hat, es hat auf jeden Fall mehr als Windows.
Windows hat weniger.
Das glaube ich nicht.
Das glaube ich nicht.
Die AI denkt sich da irgendwas zusammen.
Weil man weiß das ja gar nicht wirklich.
50, 50, das glaube ich nicht.
naja, okay
anscheinend, okay, anscheinend ist es immer noch
aber trotzdem sind Browser ziemlich
mit eines der komplexesten Software
Sachen, die es zur Zeit gibt
ja
so, und was ich jetzt machen will ist
Chat
ich will ein
ZFS Boot Menü mir bauen, ein neues
oder 1 auf Master am besten noch,
dass ich immer top aktuelle
Features hab.
Nee, ich würd sagen aufs letzte Stable Release.
Gegen Kernel
6.1. Ich hab
das schon mal hingekriegt, selbst zu kompilieren.
Aber ganz furchtbar
abenteuerlich. Ich hab mir dafür ne
Manjaro VM installiert.
Mit dem
6.1 LTS Kernel.
Und hab ganz wild rum
copy-pasted und rum kopiert,
bis am Ende das Skript durchgelaufen.
ist. Und damit
habe ich es dann ausprobiert und
habe festgestellt, aha, damit bootet mein Ass.
Das heißt, ich weiß, dass es prinzipiell bootet, da ich so was
brauche, aber ich habe mir gedacht,
wir machen das jetzt mal ordentlich
und zwar was irgendwie reproduzierbares
an Builds, das heißt, wir bilden das jetzt mal in
Docker. Und wenn wir es geschafft haben,
das in Docker zu bilden, dann müssen
wir es mit Potman in Docker
bilden. Oder mit
Docker in Docker. Müssen wir mal gucken.
Warum? Naja, weil dieses
Skript selbst hier wiederum Docker aufruft.
Und wenn ich das irgendwie halbwegs self-contained haben will, das Bild, dann muss ich dieses Bild in einem Container machen, ohne dass ich meinen Host verunstalte mit irgendwelchen Dependencies und Sachen.
Also das probieren wir jetzt mal. Wir versuchen jetzt mal Docker in Docker, nee, Potman in Docker, in VMware in Hyper-V.
Ist es ja dann letztendlich. Hier läuft Docker drauf, in Docker läuft ein Potman, das hier ist VMware Workstation, das läuft in Hyper-V.
So, wir fangen aber mal langsam an.
Wir fangen erstmal an mit, wir machen ein Bild ohne Potman in Docker,
sondern wir versuchen mal ein Bild hinzukriegen, einfach nur in Docker auf meinem Host.
Und wenn ich mir halt ein paar Dependencies installieren muss, dann ist es halt so.
So, also mkdir.
Dafür habe ich übrigens gar kein Template für solche Bastel ein.
ZFS Bootmenu
Bild
Da kann nichts schief gehen
Das ist ausgeschlossen
So, äh, Touch
Dockerfile
Ich vertipp mich in letzter Zeit öfters und schreib dicker File
Dockerfile
Und dann machen wir hier
Eine Bild.sh
So, bin
Bash, auf geht's
Visual Studio Code
Leg los
Digga, Waller-File fehlt noch
Oh, ich hatte, das habe ich ja letztens erzählt
Ich hatte letztens welche beim
Rooster Fried Chicken
Die haben, das war wirklich
Jugendsprache Deluxe
Was?
Do you trust
the authors of the file in this folder?
Yes
Ich brauche keinen Docker hier
Willkommen
Bildpunkt.sh
Dockerfile
Okay
Also
Wie fangen wir denn jetzt am besten an?
Ich würde sagen
Wir fangen jetzt folgendermaßen mal an
Wir fangen jetzt gar nicht mit Docker
Wir versuchen mal
ZFS Bootmenü zu kompilieren
Ohne
Irgendwelche Spiränzchen
Einfach mal gucken, dass ich es hier zum Laufen kriege
also zfs bootmenü hier
waller heißt glaube ich so viel wie ich schwöre ja irgendwie sowas genau
so
also dann klonen wir uns das repo mal und probieren das mal zu bilden ja ich
jetzt mal ganz stupide da rein und führe hier einfach mal kontre kontre remote ssh
bild aus aber gucken was passiert okay vielleicht soll ich uns nicht kommen ich
Ich mach keinen Snapshot davon.
Wurscht.
So, guckt.
Das ist nämlich ein Build-Skript, was selber Docker verwendet.
Und das ist natürlich schwierig, wenn man das in einem Docker-Container laufen lassen will.
Was ist das Coole an ZFS Bootmenü?
Stell dir vor, ich hab hier einen Proxmox-Server.
Den hab ich zerstört mit einem System-Update.
Okay?
Aber ich hab vorhin einen ZFS-Snapshot gemacht.
Da brauchst du ja normalerweise um das zu Restoren, brauchst du ja ein lauffähiges System.
Nicht so mit ZFS Bootmenü.
Mit ZFS Bootmenü kriege ich hier quasi einen Bootmanager, der ZFS Snapshots booten kann.
Wenn ich jetzt quasi den Kram kaputt gemacht habe, dann sage ich einfach, ah ich weiß
beim letzten Daily Snapshot ging es noch und dann kann ich hier vom Snapshot booten.
Und das geht so in der Form nur mit ZFS Bootmenü und das ist eigentlich ziemlich nice.
Das Problem ist bei mir jetzt aber, dass ZFS Bootmenü in der 3.1er Version, in der
neuen Version, nur Builds anbietet mit Kernel 6.6, 6.12, 6.18 und auf meinem NAS gibt es
Bugs beim Booten mit ZFS
Bootmenü, wenn es später
als Kernel 6.1 ist.
Kernel 6.1 ist, glaube ich, der letzte LTS
Kernel, der Long-Long-Term
Extended Support LTS
Kernel. Das heißt, was ich jetzt machen will, ist
ich will mit ZFS
Bootmenü selbst kompilieren
mit einem Kernel 6.1 dabei.
Broken Monk, du
verstehst gar nichts. Ja, da musst du, du kannst
dir alles fragen hier, ne?
Wobei ich vermute mal, dass es ein bisschen eher wie in der
Schule ist, wenn euch der Lehrer vollgetextet
hat, ihr habt nichts verstanden und dann fragt er euch am Ende
und wer hat noch Fragen, wer hat was nicht verstanden?
Dann müsst ihr sagen, ja alles.
Ja, alles nichts verstanden.
Warum ist der Himmel blau?
Weil das der Teil ist,
den die Atmosphäre vom
Sonnenlicht absorbiert. Deswegen ist
der Himmel abends oftmals eher rötlich.
Weil das Licht einen längeren Weg durch die Atmosphäre zurücklegt und deswegen den Blauanteil rausfiltert.
Weil der Blauanteil höher mehr Energie hat und das geht dann länger durch die Atmosphäre und dann wird mehr Blauanteil rausgefiltert und deswegen ist der Himmel abends rötlich.
Exzellent, oder?
Das wisst ihr auch Bescheid.
Ich weiß nicht, was Newton-Ringe sind.
Keine Ahnung.
So, also, das hat funktioniert mit ZFS Boot Mini Compi.
Denn das Problem ist jetzt nur, guck mal,
der macht es halt standardmäßig mit einem Kernel 618.
Das will ich nicht. Ich will den Kernel 6.1 haben.
Und ich hab mir das jetzt folgendermaßen überlegt.
Was ich jetzt machen will.
Also, mal der Reihe nach.
Was ich nicht... Ich sag erstmal, was ich nicht machen will.
ZFS Bootmenü ist ja sogar Netboot XYZ.
Wirklich?
Das ist ja nice.
Das ist sehr cool.
Bringt mir allerdings nix.
weil ich ja mein custom
ZFS Bootmenü brauche
aber ich könnte
Leute, das ist natürlich auch geil
ich könnte ZFS Bootmenü, das ist eigentlich
extremly pock, das mache ich
ich installiere das gar nicht auf meinem Proxmox
installiere das auf meinem PX
E-Server Leute, das ist ja noch viel besser
da muss ich den Proxmox Host gar nicht anpassen
wenn Proxmox
sich kaputt macht und einfach nicht
mehr bootet
drücke ich F10, sag PX E-Network
Boot und boote dann da mein
ZFS-Boot-Menü
drüber.
So machen wir das. Das ist gut.
Also jetzt mal
der Reihe nach, was ich hier mir angeguckt habe.
In diesem Build-Script. Ne, genau, was ich sagen wollte.
Was ich nicht machen will.
Ich will nichts
modifizieren müssen hier in den
ZFS-Boot-Menü-Scripts oder sowas.
Ja. So, und ich habe mir
dieses SSH-Build-Script oder
dieses ZFS-Boot-Menü-
Build-Script mal angeguckt und ich habe gesehen, hier unten
gibt es ein Helper-Args.
Und Helper-Args übergibt anscheinend einfach nur,
ja, Helper-Args, was man ihm sagt.
Also was man ihm per Kommandozeilen-Argumente mitgibt.
Und unter der Haube, das habe ich im Vorfall schon nachgeguckt,
unter der Haube werden diese Helper-Args
mehr oder weniger direkt
an Docker
weitergereicht.
Das heißt, was ich machen kann ist,
anstatt das Standard-Bild-Image
von denen zu nehmen,
ein modifiziertes
Bild-Image zu nehmen und
darin in Kernel 6.1 zu installieren
und es dann bilden zu lassen.
Das probieren wir mal.
Also von der Idee her müsste es so gehen.
Docker minus, was ist
Image? Minus I, ne?
Docker-i und dann sagen wir jetzt hier einfach mal
hier Debian Trixi. Das macht
keinen Sinn, aber... Ja, guck!
Jetzt wird er Debian Trixi pullen.
Funktioniert natürlich nicht, weil
das da drauf nicht ausgelegt ist.
Also das wird funktionieren.
Und
jetzt
kann ich mir ein eigenes
Build-Skript bauen und jetzt müssen wir uns ein eigenes
quasi Build-Docker-Image
aufsetzen.
Auf Basis
denen ihrer Docker-Images.
Die haben ein Docker-Image
auf Docker Hub. Habe ich irgendwo gesehen?
Schon?
Docker Hub?
Äh.
Build Containers?
Hier.
Nicht auf Docker Hub.
Auf GitHub.
hier ghzbm dev zbm bilder das hier das darauf bauen wir jetzt auf also docker file rom gibt
es ja nicht autocomplete rom es bild autocomplete mist da müssen wir jetzt mal sehr damals darauf
aufsetzen mein problem ist ich bin mir nicht ganz sicher auf was die hier
aufsetzen ich glaube auf weit linux das heißt das
müssen wir jetzt erstmal hier
docker geben darf nicht rum geschlossen das ist jetzt erstmal hier investigate
schauen was der sache ist
die musik ne bis laut
Mario Kart Musik geht schon.
Vielleicht noch eins leiser.
Max, warum sind wir eigentlich zu diesem
Grusel-Stream geradet? Weiß ich nicht,
weil der Chat gesagt hat,
gute Sache, die man
hosten zu raiden kann.
Was war denn so gruselig?
Was war denn da?
Oder war der Inhalt zu gruselig,
weil er irgendwelche Körnelsachen gemacht hat?
Tolles Projekt.
Ja, jetzt war nice.
Ja, gut. Leute,
als hätte ich die krasse Sozialkompetenz.
Jetzt hör doch mal auf.
Ich hab nur minus 25.
Ja, gut, das...
Schau mal.
Aber Minus.
Okay, also weiter im Text.
Ich wollte jetzt das hier starten.
Wow, das geht nicht.
Das funktioniert.
Da muss ich den Entry Point überschreiben.
Minus, Minus, Ent...
Entry Point.
Gleich.
Ging das so?
bin, bash, ah ja.
So, jetzt sind wir in dem Container drin.
Jetzt muss ich mal kurz gucken, auf was dieser Container
basiert. etc
issue, etc, void.
Es ist void Linux.
Chatge,
irgendjemand von euch schon mal void Linux
verwendet? Ich noch nie.
Ich hab's auf Reddit
zwei, drei Mal gelesen.
Noch nie was mitgemacht, noch nie mitbeschäftigt,
noch nie verwendet.
Void Linux, das ist, ich habe keine Ahnung, auf welcher Basis das ist.
Void Linux.
Void is a general...
XBPS managed...
Moment, das ist weder Archbase, noch Debian, noch RPM, das ist was eigenes, ne?
Und was ist da dran so cool?
Das ist für Frage mal Chat GPT.
Warum sollte ich Void Linux benutzen?
Runit oder Airunit oder wie auch immer man das ausspricht, statt Systemd.
Und keine GLibc.
Ne, Rocky ist ja ein Red Hat Nachbau.
wir fragen auch mal nicht google ich überlege wollte sein oder extrem schlank
die sich vor allem an nutzer richten die volle kontrolle über system okay bla bla
bla
Gut, dass ChatGPT nicht wieder sagt, ah, Classic, Classic Void Linux Issue.
extrem schnell und schlank runnitz stadt system d sauberes simples design wenig
magic xbps das werde ich mir nie mehr ist richtig gut schneller package manager
Okay, also Void Linux. Gut, wie installiert man in Void Linux jetzt einen 6.1er Linux-Körner?
Ja, ChatGPT schleimt auch immer gerne rum. Oder auch wenn man es darauf hinweist, du hast vollkommen recht, hier habe ich nicht sauber gearbeitet.
XPPS
PS Install
Gibt es auch vielleicht sowas wie
Search? Natürlich nicht
Äh
Search? So irgendwas?
Vielleicht so?
Wie suche ich denn
da mit Packages?
Query? Gab es das?
Ah
Äh, Kernel
Okay
Bash.
Äh, Hit.
Äh, das heißt bestimmt einfach nur Linux.
Hä?
Moment.
Ah, der findet nur exakte Matches.
Kann das sein?
Ah, muss man da vielleicht hier sowas machen?
Hm.
Geht schon geil.
Geh mir nicht mit irgendeinem Spam auf den Sack
Chat gilt gleiche Bannen
Bäm
Keine Modkiste da, aber das mache ich selbst
Bäm
Alter
Das ist ja ätzend
Ben
Das hört ja gar nicht mehr auf
Alter
Ihr seht das nicht
Das landet im Modview
Der wird aber gerade richtig hart gespammt
Also xbpsquerywildcard, geht das irgendwie?
Okay, gibt es eine void linux packages? Gibt es da eine online... Ah, hier gibt es eine
online suche ok kölner linux heißt das wahrscheinlich einfach nur 6.1
ich suche mal nach headers wie könnte der linux kölner denn hier heißen linux
headers das heißt einfach nur linux linux lts linux linux 6.1 heißt das
wahrscheinlich so linux 6.1 das muss ich installieren
wieso kommt zuerst directx headers gute frage und jetzt sage ich was xbps install
Linux 6.1.
Okay. Gut.
Okay.
Haben wir wieder was gelernt, Leute.
Void Linux.
Und jetzt müssen wir noch ZFS installieren.
Wie heißt das?
ZFS?
LibZFS?
libzfs
ist already installed.
Ah ja gut, macht ja Sinn.
Macht ja Sinn.
Und git ist bestimmt auch schon installiert.
Ja, naja, okay.
So, und wie?
Jetzt ist die Frage, wie bilde ich denn jetzt
weil
also wir sind ja im docker container wird das natürlich mit mobb nicht funktionieren ich
muss ja auch gar nicht mod proben ich musste den kornel bilden mit cds support drinne
gute frage nächste frage irgendwas wahrscheinlich wahrscheinlich muss man das dkms machen
Wir gucken mal, was das eigentliche Buildscript macht, okay?
Bilder, Bilder.
Per ZBM Bilder.
Ach guck mal, da gibt es sogar eine Hilfe-Seite dazu.
Das ist ganz nice.
If the source repository is assembling...
Was ist das?
Ne, das ist aber nichts mit den Docker-Containern, oder?
das ist das mit ich glaube nicht dass das das ist was ich brauch
was was was macht er denn hier hat gibt es hier einen docker file oder irgendwas
dass ich mal sehen kann was sie da eigentlich machen
Gibt es einen Docker-Ordner?
Docker-File, aha.
Okay, from void Linux.
Ganz oben lesen.
So.
Nee, nee, nee, nee.
Ich will ja auf den eben Image aufsetzen.
Ah, hier stehen die Kernels drin, ne?
Okay, da, das ist interessant.
Hier kommt jetzt, was der macht, glaube ich.
Okay, Kernels.
Installiert da.
Ja, okay, okay, okay.
Was auch immer das bedeuten soll.
Okay, Kernel Headers brauchen wir anscheinend auch.
Bild Init.
Da müssen wir mal reingucken, was der jetzt macht.
Bild in it.
Wobei, hat der jetzt vielleicht schon was generiert?
Nur weil ich ja den Kernel insate habe.
Gehen wir mal hier nach Punkt gucken.
Ja, der ist doch hier. Kernel 6.1.
Da haben wir es doch schon.
Die Frage ist jetzt nur,
hat dieser Kernel jetzt auch
ZFS mit drin?
Kann man das irgendwie checken?
Okay, wir crappen jetzt da einfach mal nach ZFS drin.
Das ist zwar ein Binary, aber vielleicht
sagen wir...
Äh...
Kann man... Crap Binary?
Was ist minus B?
Crap
in Binary.
Strings, das ist noch besser. Strings, ja klar, da hätte ich auch selbst drauf kommen können.
Ja, Strings, ich bin richtig dumm. Okay, gut.
Ich hab ZMS. Okay, ist da... Ich bin mir nicht sicher, ob da ZMS drin ist.
Wie sieht das bei dem anderen Kernel aus?
Hier 12 zum Beispiel. Da ist kein ZFS drinne? Hä? Wie jetzt? Moment,
Moment. Da muss ich mir das Buildscript doch mal angucken. Install Packages, Build Route.
Der installiert nur ZFS.
Ja, aber es muss ja in dem Kernel,
es muss ja in der Init-Ram-FS
drin sein dann.
Irgendwas... Ah, DKMF.
DKMS.
Ah!
Ja, das, sowas suche ich. Ich dachte mir schon,
dass damit... Hier, das muss ich machen.
DKMS.
Moment, nee, das ist nur ein Install.
DPKGS reconfigure ZFS.
Aha, das muss ich machen.
Oder auch nicht?
Hä?
Okay, ich check das nicht so ganz.
Ist da jetzt ZFS drin oder nicht?
Ich brauch das ja in meiner
Initram FS und ZFS-Kernel-Support dann.
Okay, ich hab keinen Plan.
Wir hoffen einfach mal, es ist drin, okay?
Keine Ahnung, ob das wirklich...
Also.
Probieren wir das mal aus.
Was haben wir denn jetzt gemacht?
install install linux 6.1 haben wir gemacht hätte installiert hat das sollten wir auf jeden fall auch noch machen install
Headers
Okay, da brauchen wir uns jetzt mal docker file also ran wie ist das wie ist der mist
XBPS install
XBPS install linux 6.1 und linux headers
So, das brauchen wir auf jeden Fall.
So.
Gut.
Brauchen wir sonst noch irgendwas?
So, okay.
Also, wir probieren das jetzt mal.
Ich sage jetzt mal Docker Build.
Wir machen uns ein Build-Script.
Okay, Build.
Bin ich denn hier überhaupt?
Falsch.
Hier, da will ich hin.
Das löschen wir wieder.
Ja, ja, yes.
Permission denied.
Auch sehr gut.
Was?
Achso, ich bin auch drauf.
Das Sudomus davor.
Da hat Docker wir drin rumgewütet.
Jaja, aber das bringt mir ja nichts.
Ich will ja kein Default-Image invoken.
ZPM-Bilder.
Wir gucken nochmal kurz in ZPM-Bilder.
Hätte da irgendein DKMS-Krams drin?
Ne, okay.
Also, okay, also Bild, Punkt, ne Moment, Moment, Moment, ich habe das doch hier in Visual Studio Code.
Also wir installieren uns hier den Kram im Docker-Image.
Dann, okay, was machen wir?
Okay, als erstes machen wir, das was ich immer gerne mache in einem Bash-Skript am Anfang, in das Skript verzeichnen, springen.
Können wir pwd ausgeben.
so okay wie wie fangen wir jetzt damit an ich würde sagen docker bild minus minus
pull minus t jetzt brauchen wir einen tag für das image das wird einfach nur ein temporäres image
das können wir das können wir nennen machen wir hier oben mal irgendwas
Image Name
gleich
ZFS Boot Menu
Build und dann
wie war das bei Bash nochmal?
Konnte man dann so machen?
Nee.
RNG? Warte mal. Bash
Random Number. Da gab es doch so eine
Magic Variable in Bash für Random Numbers.
Nee, nee, nee, nee. Es gab
Dollar Random
Dollar Random
Das habe ich gesucht
Oder was auch geht
Was auch geht ist
OpenSSL
Rant glaube ich
Und dann konnte man sagen Hex16 oder so
Genau
Das nehmen wir jetzt
Ich will einen Random
Image Namen haben
Sagen wir jetzt noch hier
Rand gleich
Zack.
So, minus
Dollar.
So, Image Name.
So, und am Ende
müssen wir auch ganz wichtig, kann ich ja mal
tippen, am Ende müssen wir auch sagen, Docker
m, nee, Images,
Images, oder? Images, m,
und dann wieder diesen Kram hier.
So.
Also, Docker-Bild-T-Image-Name.
Kostenloses Upgrade von 100 auf 600 bekommen.
Ich hoffe, es gibt kein böses Erwachen, dass du jetzt anstatt einer IPv6-Adresse Dual-Stack-Light hast.
Ich lasse sie nicht an meinem Anschluss rumwurscheln mehr, weil ich den allen nicht mehr traue.
So, jetzt müssen wir als erstes, bevor wir diese ganze Docker-Bild-Geschichte machen, müssen wir als erstes nochmal git clone und ZFS-Boot-Menü bilden.
Ja, passt doch eigentlich.
Also, wir klonen uns, wir klonen uns
Televerse Bootmenü, wir machen ein Docker-Bild
vom Docker-File
und am Ende löschen wir es wieder.
So, das müsste ja an sich
erstmal reichen, ja.
Und wir können auch sagen, hier, rm-rf
Ach, das ging ja nicht.
Sudo, wenn schon, Sudo.
Wenn schon, gleich Sudo rm-rf,
so wie es das gehört.
ok da kann es nicht passieren und dann installierte das okay schauen wir mal ob
das soweit funktioniert was ich mir gedacht habe wird bild.sh
Docker Images ist es nicht? Ah, es ist Imageam. Ich packe noob.
Ah, ich habe bei Build das aktuelle Verzeichnis vergessen.
Okay, das funzt.
Das funzt.
Stage Name should be lowercase.
Ja, meinetwegen, das können wir machen.
Wirklich ab.
Okay.
Okay, also soweit funktioniert es.
Wir haben jetzt ein Void
Linux Image auf Basis
von dem, ihrem Bild Image mit
mit einem Linux-Kernel 6.1 drin.
So, und jetzt
als nächstes, als nächstes
kann ich doch einfach sagen,
ähm,
Contrib,
der Autocompleted wird ja nicht richtig.
Ne, ne, ne, ne, ne, ne, ne, hier.
Als nächstes muss ich sagen,
ZFS Boot,
kann ich
clonen das nochmal?
ZFS Bootmenü
Contrib
Remote SSH Build
So, okay
Also
das da muss ich jetzt hin
oder wir wechseln da rein
Gehen wir hier rein
und dann
Schüren wir das hier aus, okay
So, das müsste doch eigentlich so funktionieren
By the way
Wenn ich das so mache, ist dann für den nächsten Befehl
Eigentlich das Verzeichnis wieder normal
Oder ist es dann
Zeig mal her
Ah, guck mal, er bildet
Er bildet
Aber 613 bildet er
Fuck
Warum? Anzeige
Der soll nicht 618 bilden.
Hab ich hier nicht was von
Kernel drin gelesen? Hier in diesem
Bild, Bild, äh,
Bilder, Skript?
Irgendwas mit Kernel?
Kernel?
6 Punkt?
6 Punkt?
Irgendwo habe ich doch was mit Kernel
vorhin gelesen
War das hier drin?
Ah
Install as best
Ah
Moment, ich kann da einfach
Minus K übergeben
Oder wie, oder was?
Ah, Moment.
Vielleicht ist es ja viel einfacher.
In der Konfig-Jammel.
Welche Konfig-Jammel?
Minus K
braucht man da als Argument.
Wie übergebe ich das denn jetzt am besten?
Warte mal, hier klonen wir das Ding nochmal.
Kontrib?
Remote SSH-Bild.
Ja, okay.
Und wie übergebe ich da jetzt minus K?
Anscheinend gar nicht, ne?
Minus K, Keckel.
Illegal Option minus K.
Ja, das ist aber wieder was anderes.
Das ist von dem Init.
Na, das ist ja doof.
Das kriegen wir jetzt da gar nicht rein.
Guck mal.
Das ist wieder den Container startet.
Dem Skript im Container muss man das übergeben.
Gibt es sowas, wenn ich das Ding einfach nur starte?
hier also mal lass mal kurz ausprobieren wenn ich das einfach nur starte dann bildet er das
das will ich ja nicht mit mit 618 so und
Espezie...
Okay, was?
Was?
Was?
A specific kernel version
to use or
the value will be replaced
with the output...
Was?
Äh...
etc.zfsbootmenu
config.yaml
Nee
Sowas hab ich doch im Container dann gar nicht
Oder gibt es hier eine ETC
Config YAML
Moment
Ist es vielleicht doch so einfach, Leute?
Kernel
Kernel
Wo hatten wir es jetzt nochmal?
Chat, ich hab's gecheckt
Version brauchen wir da
Irgendwie so, ja, ja, denke ich auch
Also, das heißt, wir schreiben jetzt da mal rein
Version, Punkt
Und dann
6.1
Punkt
Okay, vielleicht wirklich Sternchen
Vielleicht geht das echt so, schauen wir mal
Aber wenn ich das jetzt runne
dann wird das doch überhaupt nicht... Moment, Moment.
So nicht. Ich...
Und?
Und? Und? Und? Und? Und? Nimmt der jetzt den...
Nee, macht er nicht.
Der nimmt das nicht.
Das juckt dir nicht.
Lass mal kurz das Output durchgucken.
Boah, wie viel ist denn das hier noch, hä?
Also der installiert auch nicht
diesen Kernel dran.
Okay, das funktioniert nicht.
Dann, Moment, Bash.
Wir gucken mal, wie der Kernel genau...
Warte mal, ich hab noch hier.
Hier, Kernel 6.1 heißt das Ding einfach nur.
Linux 6.1.
Oder muss da wirklich dann...
Nö, das juckt dir nicht.
Das ist dem egal.
Ja, das ist doof.
Einfach deren Script nehmen?
Nee.
Ich will doch SSH mit einkompilieren und so.
Deswegen nehme ich ja dieses Contrib-Script.
Ich glaube, der gibt die Argumente nicht weiter.
Moment, Bilder-Arcs?
Bilder-Arcs haben wir auch.
Aber wo kommen Bilder-Arcs her?
Bilder-Arcs.
Da will ich was reinschreiben.
Äh.
das mit so hoher bash wie kriege ich wie kriege ich bin was bin ich da sehend
Minus Minus machen?
Einfach so?
Ne, brauche ich nicht
Ich will doch erst das H mit einbauen
Das geht nur mit diesem Contrib-Skript
Und jetzt K
Aha, aha, aha, aha
Ah, guck mal, es geht, es geht. Easy, easy, so muss man das also angeben.
Erst, erst, musst du erstmal Source Code lehnen.
Guck mal, der macht DKMS-Module gedönst. Das, das, was ich eigentlich dachte, dass ich das machen muss.
Eats, Eats, Leute, Eats.
Easy.
Um nicht, um nicht zu sagen.
Das checkt man aber auch nur, wenn man das Bash, wenn man den Source Code sich angeguckt hat, oder?
Das ist zu hoch.
Das ist zu high IQ.
Alter!
Guck dir mal die CPU-Auslastung an.
Okay, jetzt habt ihr es gerade verpasst.
Aber der ging gerade richtig hoch.
Beim Bilden von den DKMS-Modules.
Also DKMS ist...
Dynamic Kernel Module...
Was ist ein S? System?
Also Kernel-Module.
Ohne dass die direkt Bestandteil vom Kernel sein müssen.
weil ZFS darf Copyright-technisch nicht Bestandteil vom Kernel sein, wenn ich das richtig im Kopf habe.
Ja, so ein bisschen Backseaten ist schon erlaubt. Guck mal hier, die arme 4M, die hebt gleich ab.
Die macht Pepo, Pepo Toilets zoom gleich.
Das ist ziemlich harte Zip-U-Use. Okay, dann.
So, jetzt baut er den ganzen Kram
Moment, er baut den für Kernel 6
Für Kernel 6.1
Und für was sonst noch alles?
Ah, nee, hier macht er das
Okay, genau das, genau das will ich haben
Excellent, excellent
Da haben wir es
So, und jetzt liegt das Ganze unter Bild.
Ja, gucke mal da.
17.09 Uhr. Da ist es.
Mit der richtigen Kernel-Version. Easy.
Das heißt, ich kann mir meinen ganzen Krempel, von dem ich dachte, dass ich ihn brauche,
kann ich mir schenken, oder?
Ja, außer das Docker, das Portman in Docker. Das steht uns jetzt gleich noch bevor.
Also wie habe ich das jetzt eben gerade aufgerufen?
Hier so, ne?
Okay, also.
Was wir für die Lösung gemacht haben, einfach minus K 6.1 dran geschrieben.
Also das Docker-File brauchen wir schon mal nett.
So.
Was wir jetzt brauchen ist, einfach hier hinten minus K 6.1 dran schreiben.
Das Docker-Bild, das können wir uns jetzt gerade noch sparen.
Okay, Bild.
Schauen wir mal, ob das jetzt funzt.
Moment, mein SSH-Key muss ich ja noch irgendwie reinkriegen.
Mein SSH-Key, der fehlt ja noch.
Sonst kann ich ja gar nicht anlocken.
Aber das ist für uns.
Das bin ich schon mal begeistert.
Mein SSH-Key fehlt mir ja noch.
Ähm.
Den da nehmen wir.
Das muss ich auch mal im Build-Skript einbauen.
Äh, Moment.
Mal kurz Chat-GPT was fragen.
Linux, check if a file is valid SSH-Pub-Key.
Ja, ein paar...
Nicht, dass er sagt, ah, Classic SSH-Gotcher.
Ich brauche den SSH-Key, dass ich mich per SSH in den Boot-Manager einloggen kann.
Ja, das hat aber mit PXE nichts zu tun.
Mit PXE würde ich ja nur den Boot-Manager booten, dass ich dann in das gebootete Image reinkomme über SSH.
Das geht dann nur mit...
Sag mal, mal eine blöde Frage.
Kann IPXE SSH?
Geht das?
Geht das?
Das kann kein SSH, oder?
Ja.
Can I access
IPXE with SSH?
Nein, sie können nicht direkt
per SSH auf die IPXE-Shell zugreifen.
Okay.
Remote-Konsole, so schlau bin ich auch.
Automatisierung statt manuelle Eingaben
So schlau bin ich auch
Wir haben GitHub
Natürlich, was sonst
Logisch
Wir sind GitHub Destroyers
Also so geht das
SSH keygen-l-f
Okay
Also dann brauchen wir hier
So ein Check
Also sagen wir
If not
ssh keygen-l-f
echo
$1, das erste Argument
soll ein ssh-key sein
name pipe in das Kommando rein
ähm
then
echo
no valid
äh, ich kann nicht schreiben
ssh-key-s-first-argument
Moment
exit 1
ansonsten ist es ein valid ssh-key
So, das heißt, ich kann den SSH-Key jetzt so angeben.
Bild.
Äh, okay.
Okay, das hat funktioniert.
Die Frage ist jetzt nur, wo muss der SSH-Key hin?
Wo muss der SSH-Key hin?
Seht ihr hier irgendwelche Sachen von SSH Keys?
Weiss nicht, sonst kann ich mich ja da nicht einloggen.
Da muss ich
Da muss ich nochmal in den
In das Skript gleich reingucken
Warte jetzt erstmal bis das fertig ist
Alter der bildet ja ewig hier rum
Dann baut er drei Stunden an dem Zeug rum.
Kann das sein, jetzt mal blöde Frage,
kann das sein, dass der
den, das ZFS
für alle Kernel baut,
die drauf installiert sind?
Vielleicht sollte ich die alten Kernels removen.
Noch ein Custom.
Oder vielleicht ist das
So, steht jetzt da irgendwas von SSH-Keys?
Ja, guck mal, guck mal.
Der macht es für alle Körnel.
Ja, das ist natürlich doof.
Ah, wo kriegt der denn jetzt den SSH-Key her?
Das check ich, das check ich jetzt nicht.
Ne, Moment, wo kriegt der denn jetzt?
Da müssen wir uns nochmal kurz hier reingucken.
Wo kriegt der denn jetzt?
Den SSH-Key, muss doch ein SSH-Key.
Hm.
Ja.
E.
E.
Ja, aber woher?
The current users authorized keys are copied if it's not present.
Habe ich hier überhaupt eine authorized keys liegen?
Aber das will ich ja gar nicht hier machen.
Ach, habe ich.
Ach, das kopiert er jetzt da rein.
Ja, nee, das ist natürlich nicht so sinnvoll.
Kann ich dem nicht explizit sagen, woran das herhaben soll?
Alter, das ist mal krasse Bash-Action, Alter.
Was?
Okay, jetzt gucken wir mal was.
Jetzt bin ich mal gespannt.
Was ist denn, wenn ich...
Ich brauche den Kram.
Ich logge mich hier nicht per SSH ein.
Was ist denn, wenn ich hier meinen Authorized Key-File einfach lösche?
Und dann nochmal bilden lasse?
Chat, ich überlege gerade,
wäre es nicht doch besser,
wenn ich ein Custom-Image nehme?
Ich kann euch auch sagen,
warum.
Weil wenn ich ein Custom-Image nehme,
kann ich diesen Build-Step cachen.
Das ganze Zeug.
Das kann ich cachen.
Ich glaube, wir nehmen doch ein Custom-Image.
Oder kann ich das?
Moment, ich bin verwirrt.
Ne, das kann ich nicht cachen.
Plötzchen.
Plötzchen.
Oder?
Doch, kann ich.
Kann ich cachen.
Ich würde gerne einfach die anderen Kernels aninstallen.
Lofos, dankeschön.
Pog.
Subscription.
Oh, weil da drehe ich durch, wenn ich mir die ganze Zeit das dumme Kompilieren hier angucken muss.
Okay.
Aber das funktioniert.
Aber ich checke nicht, wie das mit den SSH-Keys funktioniert.
Die müssen doch da irgendwie rein.
nicht wirklich in einen Körner
seht ihr in irgendwo in dem Auto was von SSH hieß ich nett
ich bei den Dänen ich war nicht wirklich ein Kölner ich bin
versucht ZFS gut Menü zu kompilieren von eine kleine Version
Kessel konnte es mal
Tee Club TXT so
Was, was, was, was, was, was stand da?
Okay.
Okay, ZFS, Boot, Menu, Remote, SSH.
Remote Access, okay.
Contrib
gibt es. Ach.
Wie kriege ich da jetzt
mein Key rein?
Key.
Wo kopiert er sich diesen K-Key her?
RS-Key-Dir.
Wo kommt RS-Key-Dir her?
Build-Dir-Drop.
Ach so.
Da muss ich das hinlegen.
Da könnte auch mal irgendeine
Fehlermeldung
oder so kommen, ja?
Okay, jetzt
weiß ich, wie das... Hier.
ZFS Bootmenü.
Drop here.
Authorize keys. So, ich lösche die hier mal.
Ich lösche die hier mal. Ich wette,
jetzt sagt das Ding auch was.
durch die brust ins auge gucken jetzt sagt das ding auch geht nicht
Jetzt verstehe ich das.
Okay.
Also, not available.
Okay, das heißt, ich muss
den passenden SSH-Key,
also den hier,
den $1 SSH-Key,
den muss ich nach
Chat, ich muss mal kurz was ausprobieren.
Äh.
CD.
CD.
TMP.
Und, und Echo 1.
Ah, okay, das zählt dafür auch. Na gut.
Sag mal, Chat.
Gibt es eine Möglichkeit,
für ein Bash-Kommando
temporär in ein Verzeichnis
zu wechseln?
BASH temporär Verzeichnis wechseln für Einkommen.
Man könnte es in der eigenen BASH-Shell starten.
Gucken, was ChatGPT dazu sagt.
Nein, nein, nein, nein, nein, nein.
Okay, ChatGPT checkt es wieder nicht.
in ein Verzeichnis wechseln.
Nicht in das Temp... Klar.
Subshell mit Klammern.
Aha!
Sehr gute Idee.
Ja, das ist eine gute Idee.
Also im Endeffekt...
So.
Dann gehe ich nämlich
nach Zerravers Bootmenü.
Contrib. Dann legt er das da drinnen
dann auch alles an. Wobei, ganz ehrlich,
was ist denn, wenn ich es einfach nur so
ausführe?
einfach nur so ausführen, wo landet der Output denn dann?
Wobei, nee, nee, nee, ich will, dass der Output da drinnen landet.
Dann kann ich danach wieder...
Nee, ich will nicht, dass der Output da drinnen landet.
So, vorher...
Warte mal.
Ich muss das ja rauskopieren.
ZFS Bootmenü.
Bild.
Okay.
Hier, Bild.
Diese Dinger.
VM.
efi nicht backup das hier das kopieren wir jetzt in eigenes verzeichnis so sagen wir jetzt wenn
das hier durch ist sagen wir cp das muss bestimmt mit sudo machen weil das ding die root gehört nach
dem bild das ziel ist zfs boot menü mit 61 können kommt können kompilieren können allerdings das in
einem docker container zu machen dass ich diesen ganzen kämpfe nicht auf meinem haus system machen
muss. So, aber ich will jetzt erstmal
es ohne Portman in Docker
hinkriegen. So, und das
kopieren wir jetzt einfach
hier hin.
In das Main-Verzeichnis, okay?
So.
Und danach cawnen wir das.
Äh, warte mal.
cawn-file
to current user.
Das kann man bestimmt Dollar-ID oder irgendwie
sowas machen.
Hä?
Ja, jetzt ist es da.
Ja, das ist besser. Das ist besser hier.
Sudo.
CHOWN.
CHOWN. ID. Userdings. ID.
Ist da. Okay.
Hoffentlich habe ich jetzt nichts
Mistiges gescriptet.
Achso, wir müssen noch den SSH-Key richtig hin.
Ja, ja. Die benutzen Container. Aber ich
muss ja den Kram immer noch.
Ich brauche ja immer noch die Dependencies
auf meinem Haus.
Wobei, eigentlich so viel brauche ich nicht. Ich brauche Docker
und muss das Repo auschecken.
Der Rest hält sich in Grenzen. Egal.
Aber wir probieren es mal aus.
Mit Potman in Docker.
Okay.
Jetzt muss ich noch...
Wo bin ich gerade stehen geblieben?
Den SSH-Key dahin kopieren.
Ja.
CD.
Kann man hier auf Dollar 1 zugreifen?
Geht das?
Na gut, wir können es ja anders machen.
Wir können es ja anders machen.
Wir können ja sagen...
Der Titel ist auch verwirrend und genauso verwirrend ist es auch hier.
Ich versuche ein Programm zu kompilieren
In Docker
Was selbst ein Docker-Bild verwendet
Das heißt, ich müsste dann theoretisch
Das Bild machen mit Potman in einem Docker-Container
Oder mit Docker in einem Docker-Container
Und das Ganze läuft in der VM
Und das Ganze läuft auf Hyper-V
Also der Titel stimmt schon
Ähm
Warte mal, warte mal
Nicht CD-Dollar 1, was mache ich denn hier
Ich will Echo
Dollar 1 nach
hier in die Datei
Authorized
Keys kopieren, okay?
Authorized Keys
und jetzt kopiere ich
.
Slash Authorized Keys
CP nach
ZFS Bootmenü
Drop your
Authorized Keys
Schauen wir mal, ob das stimmt.
Übrigens, das muss ich nicht in der Sub-Shell machen.
Mal gucken, ob das jetzt stimmt.
Gucken, ob das jetzt funzt.
Hier, Build.
Könnte auch einen kürzeren Key nehmen.
Okay.
Sekunde, hat das jetzt funktioniert?
Ja, ja.
Lass mich abbrechen.
Authorize Keys.
Da sind wir.
Okay, gut.
das funzt.
Okay.
Also,
können wir das jetzt bilden lassen.
Und mal gucken, ob es jetzt
problemlos
durchläuft.
Und dann überlegen wir uns schon mal,
wie man Docker in Docker, während das bildet,
probieren wir mal was aus.
Portman inside
Docker.
How to use Portman inside
of a container.
Okay.
Oh je, oh je, oh je.
Können wir nicht das offizielle
Potman?
Können wir nicht das offizielle Potman?
Okay, es gibt doch ein offizielles Potman-Image.
Kann ich nicht sagen?
Warte mal.
Docker Hub Potman.
Das gibt ein offizielles Potman-Image.
Run Potman inside Docker.
Execute.
Ah, Pleon.
Jetzt haben wir bei Java ganz viel uns angeguckt.
Use Privileged Flag, okay das ist klar. Okay, Docker run privileged. Okay, den Kram müssen wir jetzt runnen.
Zack, zack, zack.
Ist das das Red Hat Ding?
Ja, das ist diese Red Hat Registry. Oh, ich bin auch immer gefragt, warum brauchen die auch noch eine?
Okay, und jetzt sind wir hier drin in einem Container und kann ich jetzt, Moment, Trixie, Debian Trixie, das probieren wir jetzt mal aus, kann ich da drin jetzt einen Container starten mit Potman?
Einfach so.
Postchamp?
Ha, das funktioniert.
Cut, etc, Debian, Debian Version.
Ja, okay.
Das ist jetzt ein Portman-Container
in einem Docker-Container
in VMware
unter Hyper-V.
Alles klar. Och nee.
Cannot find.
Warum nicht?
Wie jetzt? Warum nicht?
Warum, warum
kann er nicht finden?
Moment, äh, Bild, wir machen mal kurz das hier weg und gucken, ob das so weit durchläuft, ohne diesen ganzen Krempel.
Ah!
Clone.
Gucken wir mal hier.
Ah, Moment, ich muss nach ETC.
Ne.
Hey ich hab's doch vorhin gefunden hier lag doch ein ordner job hier vorhin drum bin ich jetzt total hängen geblieben
Bildtier?
Vielleicht muss ich den vorher anlegen?
Hä?
Emkandieren wir den mal.
Jetzt hat er den gelöscht.
Wir machen mal das R.M. am Ende wieder weg.
Ich blick grad nochmal durch.
Ah.
So, Bild.
Okay.
Das sollte jetzt soweit funktioniert haben.
Legt es denn jetzt da.
ZFS Bootmenu.
Drop your authorized keys.
Okay.
Also, dann nochmal.
Einmal bilden.
Ach, guck mal, jetzt hat er es gecheckt.
Jetzt hat er es kapiert, dass es da ist.
Moment, jetzt will er was createn.
Okay, whatever, whatever.
Aber er hat es gecheckt.
Er hat es gecheckt mit dem SSH-Key.
Glaube ich zumindest.
So, jetzt kann er bilden.
Also, Potman in Docker.
Funzt.
So, wenn wir jetzt ein fertiges Bild haben,
dann testen wir jetzt erstmal auf unserer VM,
ob das Bild überhaupt funktioniert.
Weil nicht, dass ich jetzt was in Docker, in Docker, in Docker, in Docker in Potman bilde.
Und am Ende geht das gar nicht.
Also, wir kopieren das jetzt gleich mal hier auf die VM.
So, die ist immer noch an.
Hä? Oh, ich hab mich vertippt.
Okay, da kopieren wir das jetzt gleich hin.
Wenn es fertig gebildet ist.
Ich hoffe, ich hab das Löschen nicht auskommentiert.
Wie viele Ebenen tief schaffen wir?
Ich glaube, das geht sogar ziemlich tief.
Weil Container in Container
eigentlich nichts großartig
Neues drumherum baut.
Das sind ja nach wie vor
ganz normal Prozesse im Host-Kernel.
Egal wie tief die
Container-Ebene genestet ist.
Wenn man SE-Linux
laufen hat, glaube ich, das wird Amok laufen.
SE-Linux würde komplett durchdrehen.
Was, Körnel verkleinern?
Was meinst du?
So, haben wir es jetzt hier liegen?
Guck mal hier, da ist es.
Jetzt, wo du erwähnt hast, hast du anders gekauft,
du Willi. Ja, kauf dir aber nicht das, was ich gekauft habe.
Kauf dir lieber die Pro-Version.
Die habe ich mir auch bestellt.
Das heißt, ich habe wieder Hardcore-Pepo-Burn-Money
gemacht.
in dem ich mir zwei bestellt habe
ja ich bin noch nicht ganz sicher wie man die anderen können es da rauskriegen aber
dass das ganz ehrlich ich baue das einmal im jahr vielleicht neue also halte ich aus
man hat nie genug money man muss ja nicht umsonst irgendwie sachen aus
Fenster schmeißen.
Wobei ich sonst auch immer Sachen
teilweise sinnlos aufs Fenster schmeiße.
Aber meistens, weil ich zu faul bin, irgendwas zu machen.
Und das kostet dann Geld.
So, also hier haben wir es jetzt.
SSH.
Also SCP.
Root.
Moment, wir kopieren.
VM Linux EFI.
Dahin.
Dann
SSH'en wir uns dahin.
Und jetzt
Mount ich mir nochmal
Mein EFI Boot
Boot
CD Boot
EFI
So
ZBM und jetzt kopiere ich
rootvmlinux.efi
Zu ZBM
Und wenn ich jetzt alles richtig
gemacht habe dann reboot ich jetzt meine vm und ich habe jetzt hier einen kernel
6.1 zfz boot menü hast du noch den kollegen der zum goldschmelzen geht
wie kann ich jetzt nachgucken was ich für eine kernel version habe
recovery shell an 1 1 1
warum ist das 6 12
wie jetzt wie das wie kann das ja noch 6 12 sein
Chat, ich hab doch hier nen...
Ja, das sieht man jetzt natürlich nicht.
Ich hab doch hier nen 6-1er gebaut.
7.34, das ist das.
Für 6-1.
guck
ist das verpackt vielleicht
Mission denied.
Musst du nicht noch mehr mitnehmen?
Nee.
Kernel 6-1.
Ja, das sieht man hier jetzt allerdings nicht.
Ja, das verstehe ich ja.
Habe ich was Falsches gemacht?
Beim Austauschen oder so?
habe ich irgendwie mist ausgetauscht oder oder wie jetzt
warum portman und nicht portena das eine hat mit dem anderen überhaupt nichts zu tun das
eine ist ein container management web interface und das andere ist eine alternative commandline
implementierung zum managen von linux containers außerdem mag ich portena nicht für das web
mit da versäglich.
Und?
Gut. Evi?
Evi?
17.36 Uhr!
17.36 Uhr!
Hä?
Bin ich jetzt total hängen geblieben?
Warum ist das Körnel?
Moment mal!
Kann es sein, dass das mein Host,
mein Proxmox-Kernel ist?
Nee.
Warum ist das Kernel 612?
Das verstehe ich nicht.
Ich habe doch eindeutig hier
Kann man das EFI-File irgendwie anpacken?
Um da rein zu gucken?
Okay.
Okay, okay.
Man kann die Dinger anpacken.
Hier.
Unpacking Linux EFI-Kernel-Images.
Das machen wir jetzt.
Ich hatte noch keine Ahnung,
was ich da treibe.
Aber das machen wir jetzt.
Object Binary
Init RD Arch Linux
EFI. Ne.
Kann das sein,
dass das eine Bullshit
Anzeige ist von der KI wieder?
Oder auch nicht.
Warte mal, die Init RAM
fs hat entpackt aber ansonsten nix in
die drama fest der soll allerdings in
köln soll der entpacken
ich will es was das für köln ist
alter
Monkess!
Okay, ist vielleicht doch keine allzu gute Idee. Vielleicht soll ich der KI nicht immer hier blind trauen, was solche Dinge angeht.
Extract Linux EFI-Files.
mit objekt wie objekt copy
ok unpacking hier ist eine gute frage
bin walk extract ok ich sehe es ist deutlich komplexer als gedacht habe bin walk jetzt das da
Okay.
Hier.
Extractions.
Extracted.
Äh, what?
Oh, hab ich Tree nicht installiert.
Was zum...
Okay, das hat schon mal nicht funktioniert.
Also was? Was soll ich machen?
BTF, Alter.
Ich will doch einfach...
Ich will doch nur wissen, was für ein Kernel drin...
Moment, wir gucken nochmal. Strings.
Strings.
Okay.
Grab.
6.
6.1.
6.1, guck dir mal.
Warum sagt der mir denn,
dass der Kernel 6.1 ist?
Ja, guck mal.
Ja.
Das ist ein 615.
Das ist richtig?
Warte mal ein bisschen.
MD5 Sum.
Habe ich da Mist rüber kopiert oder was?
MD5 Sum
vor allem Linus EFI.
MD5 Sum.
Oh, ähm, ZBM.
Oh, ich bin dumm.
Alter, ich bin so dumm.
Das ist ein Verzeichnis.
Ich hab das überhaupt nicht überschrieben, das alte.
So, jetzt aber.
Reboot.
Richtig dumm, ey.
hängen geblieben
Senior Linux Admin
was meinst du, wie lange sonst wer gebraucht hätte, ha?
so, Rescue Shell
Unaim
minus A
6.1, ok, alles gut
exzellent, wunderbar
eine Aufregung umsonst
hat alles funktioniert
ok
das da weg, das da weg.
Ja, das war's.
Rest ist egal.
So, also, das heißt, wir haben ein funktionierendes
Bild, wo am Ende
das richtige Pfeil rauskommt.
Und jetzt versuche ich das noch in einen
Docker-Container zu packen.
Das wird jetzt nochmal echt heftige
Gehirnwindungs-
Ver-Ver-Winklungen, ja.
Ähm.
also das docker file hier brauchen wir schon mal nett das können wir dann
quasi um um wursten debian tricks sie haben so und da drin wollen wir jetzt
install
ok run
was wollen wir da drin installieren?
Upt, Update wollen wir
erstmal machen.
Dann wollen wir
Upt, Install,
Git
und Potman machen.
Ne, wait,
wait a minute. Moment,
Moment, Moment, Moment.
Ich wollte ja das Red Hat Potman Image verwenden,
ne?
Das Red Hat Potman Image wollte ich benutzen.
Dann machen wir das mal anders. Wir machen das jetzt mal
Testweise.
Wir testen das mal kurz mit
Potman.
Und zwar hier
Potman. Wir hatten doch hier dieses Potman-Ding.
Da mounten wir uns jetzt einfach.
Mounten wir dieses aktuelle
Verzeichnis unter
slash kekel.
Slash kekel.
So, da ist das alles drin.
Und jetzt sagen wir hier,
was ist denn das eigentlich?
Cat issue?
Äh.
Ja gut, das ist von Redhead.
Redhead Release.
Fedora. Okay.
Yam install git.
Jetzt müssen wir noch
rm-rf zfs bootmenu
machen.
Sudo.
So.
Install git brauchen wir.
Und ansonsten
Glaube ich nix. Haben wir in dem Build-Skript irgendwas drin, was noch da sein muss?
Nö.
Nur Git.
Jetzt gucken wir mal, ob wir das im Container bauen können. Da bin ich jetzt mal gespannt.
Build.sh
Bam.
Achso.
Kein Valid.
Kein Valid SSH-Key.
äh
open ssl not found, okay, das ist doof
yum install open ssl
yes
so, zack, cloning
ok, ok, ey, Leute, Leute
das scheint zu laufen, podman in docker
mal gucken, wie schnell das
ganze ist, ich mein, dürfte ja eigentlich nicht viel langsamer sein
Weil, wie gesagt, es ist nach wie vor ein File System X.
Es könnte ein bisschen langsam sein.
Machen wir hier oben mal einen Hardtop auf.
Er untart.
Ist ja auch nicht schlimm, das ist ja ein relativ großes Image.
Okay.
Ja Leute, das Funst.
Jetzt bin ich mal gespannt, ob da das richtige rauskommt am Ende.
Schauen wir mal.
Was haben wir denn jetzt gemacht?
Wir haben Git installiert, wir haben OpenSSL installiert.
Und haben einfach das Buildscript ausgeführt.
Sonst haben wir nichts gemacht.
Ja, da braucht man doch nicht mal eine Docker-File für.
Das schreibe ich einfach da inline als Befehl rein.
Was wir hier machen, wir bauen uns ZFS-Boot-Menü selbst mit einem 6.1er-Körnel.
Und das Bild läuft selbst in einem Docker.
Und ich will das in einem Potman und ich will das in einem Docker-Container laufen lassen.
Okay, das ist jetzt File-System-Access.
da braucht er wahrscheinlich ein bisschen für.
Aber prinzipiell geht das.
Ganz ehrlich, ob das Bild jetzt
20 Sekunden oder 3 Minuten dauert,
ist mir vollkommen egal. Ich mach das vielleicht einmal
im Jahr oder so, oder halb
immer, wenn es eine neue Version gibt.
Also da sind jetzt die Bildtimes
nicht wirklich kritisch.
aber so langsam könnte aber fertig bilden sein
Ah, jetzt geht er ab hier.
Jetzt hat er 100% CPU-Loss gehabt.
Okay, das Bild im Container...
Container, nein. Das Bild im Container.
im Container. Das dauert
doch eine ganze Ecke länger.
Wisst ihr, was mich jetzt interessieren würde?
Also wir lassen das jetzt mal durchlaufen.
Lass mal kurz hier auf die Uhr gucken.
50 oder so haben wir angefangen.
Wir gucken jetzt mal, wie lang
das mit einem
Potman-Container braucht.
Und dann checken wir das nochmal,
wie lang das mit einem Docker
in Docker-Container braucht.
Okay.
Weil vielleicht ist ja Docker in Docker
viel schneller als Podman in Docker.
Was meint ihr?
Macht das Performance-Unterschied
Docker in Docker versus Podman in Docker?
Ich bin ja kein Podman-Enjoyer.
Ich mag Podman nicht.
Das heißt, ich sag jetzt klar,
Docker ist viel besser und schneller.
Auch wenn die unter der Haube nicht viel anderes machen.
Letztendlich starten die ja beide nur LXC-Container.
Also Linux
Linux-Container.
Nicht LXT, Linux-Container.
Beides sind letztendlich nur
CLI-Frontends für Linux-Container.
Umfrage.
Kann man machen.
Okay, warte mal.
Was
wird schneller sein?
Hotman in Docker?
Docker in Docker?
circa gleich schnell
Schau mal, der so lange hier noch rum bildet.
Rumpfkrage, da bin ich mal gespannt.
Circa gleich schnell sagen die Skalier.
übrigens leute wenn euch solche gebastelt streams gefallen dann
könnte mir jetzt an der stelle ein follow da lassen aber sechs mal weiter zusammen basteln
excellent es läuft okay also die meisten meine so ungefähr gleich schnell okay schau mal
Ich muss übrigens gerade mal gucken,
ob ich nicht irgendwelche Subs übersehen habe.
Flofus war der letzte, den habe ich schon vorgelesen.
Echte Bastels, ja das sind die Elektro-Kram-Microcontroller-Bastel-Streams,
ja die sind noch mal eine ganze ecke härter guck mal es war es fertig war das
der hat jetzt so vier bis fünf minuten braucht das jetzt zu bilden
ja schon ordentlich also das stelle ich mir schon
also nicht so schnell also erstmal kurz aber jetzt haben wir es hier so ja jetzt
Jetzt liegt das hier.
Guck.
ZFS.
Bootmenu.
Build.
Da liegt es jetzt.
Okay.
Also.
Das ist schon mal nett.
Was haben wir denn jetzt eigentlich gemacht?
Was haben wir denn jetzt genau gemacht?
Wir haben...
Warte mal.
Bash minus C.
Okay.
Wir haben gesagt,
Yam install git.
und
Jabberball, Jabber
boah, das hab ich ewig nicht mehr gehört
das war mal so ein Chat-Protokoll
Jabberball, danke schön für den Sub
Pog-Subscriptions
hier
also wir haben Git installiert
wir haben auch ein ssl installiert dann haben wir den git clone gemacht zbm hier
da sind wir gewechselt nach slash kecke und da drin haben wir dann das kann man
ja mit und und man also bei der way ja mensch so gibt es gibt es ja minus y
Wir brauchen dafür kein Docker-File, ganz ehrlich, das hauen wir einfach so hin, so hintereinander.
Git-Clone.
Und, und.
CD.
ZFS-Boot-Menü.
Und, und.
Contrib.
Slash.
Remote.
Remote-SSH.
Ah, Moment mal, Leute.
remote ssh das muss man da machen
okay mal gucken ob ich das richtig geschrieben habe
okay es ist anscheinend minus minus y
Du musst gucken bei den
Already exist, ja gut, das ist ein Bug
Du musst gucken
Bei den kleineren NASes
Sind teilweise
ARM-Systeme dabei
Wo du eventuell nicht alles laufen lassen kannst
Was du willst
Ansonsten
Und die haben halt auch keine starke CPU
drin wenn du aber wirklich nur nass machen willst und das auch nur mit einem oder 2,5
glück ich weiß gar nicht ob die kleinen 2,5 gig haben dann reicht das natürlich dicke naja und
übrigens ich bin überhaupt kein fan von diesem ukraine us was mir davon angeguckt habe muss
da etwas anderes drauf installieren und wenn du kannst ja durchaus das ukraine us ausprobieren
wenn du sonst nichts damit machen willst aber ich fand es jetzt vom vom angucken in videos ich hab
nicht ausprobieren, nicht so geil.
Ah, jetzt sind die Authorized Keys
nicht available. Ja, logisch.
Ja, logisch.
Die Authorized Keys sind nicht available,
weil wir die vorher
noch kopieren müssen.
Und zwar
hier und und
cp slash
kekel
Authorized Keys
Musters
nach
drop bier was wir nicht angelegt ist vielleicht
sind doch leute vielleicht werden docker fall doch besser als hier dieser komische one liner
und und mk dir job
tippfehler wirklich
okay
ob es jetzt funsere ich habe mich ich habe mich weiter noch mal verschrieben
ja wirklich authorize keys thx leute übrigens die die die chat nachrichten
kommen nicht an weil da weil weil ich habe mich mit keys verschrieben und
kiss ich glaube ich will kill yourself oder sowas und das blog twitch also
deswegen sieht man eure nachrichten ich habe ganz viele mord messages bekommen
Aber ich hab die Nachricht gesehen, ihr habt die nicht gesehen.
Ah, das jetzt funktioniert hier?
Mit den Keys?
Ich glaub schon.
Das jetzt wird untacht.
Ungetacht.
ja hat funktioniert leute okay so funktioniert also der bild im container sehr schön sondern
jetzt probieren dass entweder gehe ich jetzt essen oder wir probieren noch mal docker in
docker aus anstatt portman in docker okay gut abbruch abbruch abbruch okay jetzt es hängt
wir treiben jetzt mal wie lange container also wie lang portman in docker braucht das
teilen wir jetzt und danach führen wir docker in docker noch mal aus die mod ist die sind
alle nicht mehr da keine ahnung frage muss jetzt noch geklärt ab abbruch habe ich gesagt
Juckt ihr nicht.
Steuerung C wird nicht akzeptiert.
Gibt keinen Abbruch.
Hier wird nicht abgebrochen.
Ich meine, ich kann die Hardcore-Variante machen.
Einfach sagen, Docker, stopp.
Äh, was läuft denn hier alles?
Der KVM-Champ läuft noch.
Und läuft der KVM-Champ noch? Ja gut, meinetwegen.
Locker, Stopp. Das da. Bäm. Glaub mir, ich kann auch bannen.
Okay, so, jetzt haben wir es ab
Also, das da brauchen wir jetzt
Ein easy obvious command
In das Build-File muss das jetzt rein
So, das Clonen brauche ich nicht mehr
Das Bilden hier drin brauche ich auch nicht mehr
Ah, Moment, Moment, Moment, Moment
Fuck, fuck, fuck, fuck, fuck
Äh
Wait a minute
Moment
Moment
Das ist das Buildscript für im Container
Ich brauch jetzt noch ein Buildscript
Ich brauch jetzt noch ein Buildscript
Für nicht im Container
Also okay, dann machen wir jetzt mal hier
mkdir docker.
Ah, der Pepo schläft jetzt fast schon.
Und dann schieben wir das Buildscript jetzt mal hier nach
docker.
Ey, hallo, Build docker.
Move.
Okay.
Und nun
copy-pasten wir das nochmal.
Hier in das Hauptverzeichnis
nennen wir das auch wieder
bild nur mit dem unterschied dass wir jetzt diesen ganzen krempe hier eigentlich gar nicht mehr
brauchen welt ssh key das brauche auf jeden fall noch authorize keys so dass clown brauche nicht
mehr im kardin job das brauchen wir auch nicht das machen wir da innen drin das brauchen wir
auch nicht mehr.
Das Zipien. Brauchen wir das Zipien noch?
Ja, das Zipien brauchen wir noch.
CH-ON und danach
am Ende löschen.
So.
Und für das Build
nehme ich jetzt mein
Docker-Kommando.
So.
Okay.
Das Löschen machen wir nochmal weg.
Jetzt bin ich mal gespannt,
ob alles funktioniert.
Wir machen nochmal time davor.
Slash build.
Time.
Bam.
Oh, Mist. Ich hab verkackt.
Ja, ja.
Sudo, lass mich abbrechen, please.
Ich muss das gerade noch einmal löschen, weil das normalerweise gar nicht da ist.
So, okay.
Jetzt nochmal, time.
So, mal gucken.
Jetzt bin ich mal gespannt, wie lange der braucht für den Bild.
Und dann machen wir das Ganze nochmal mit Docker in Docker.
Das dürfte nicht so kompliziert sein.
Das ist einfach das Image austauschen.
Auf was basiert denn eigentlich das Docker in Docker Image?
Während er hier bildet, können wir das gerade schon mal rausfinden.
Jaja, dieser ganze Krempel kommt weg.
Docker run.
Ähm.
Docker in Docker, so hieß das, ne?
Ja, Dint.
Docker in Docker.
Dint.
Okay, das verfälscht jetzt vielleicht ein bisschen was.
Bash gibt es nicht?
Wie jetzt?
Warum gibt es...
Docker in Docker.
Warum gibt es kein Bin Bash?
Socket? Ne, das wollen wir nicht.
Run Docker in Docker.
Ah, okay.
Man muss das als
Background-Job da quasi starten.
Und dann sich rein
exec'en. Okay.
Das heißt im Endeffekt, wir müssen das starten,
sich dann rein exec'en.
Und jetzt kann ich sagen, Docker PS, oder was?
Fixie, run'n.
Okay, scheint zu funktionieren,
in Docker.
So, das hier brauchen wir, by the way, nicht.
Aber das brauchen wir jetzt wieder
in dem anderen
Skript.
Und das muss nämlich
dann so... Wir bauen das
Skript dann um,
sobald das hier
durch ist.
Oh, ne. Moment, Moment, Moment.
Ne, ne, ne. Das Skript läuft ja noch.
Ich lass die Finger von, solange
das Skript noch läuft. Ich will jetzt nicht, dass es
rumspackt, weil es kaputt geht.
Weil ich im Skript rumeditiere, während es
läuft.
So, wir können aber mal Docker PS, Docker Stop, Docker AM.
Okay, ich muss mal wieder meine Docker Images gleich aufräumen lassen.
So, also der bildet ganz schön lang in Potman.
mal gucken ob das gleich bedeutend schneller ist mit doch da bin ich mal
gespannt drauf also wir müssen jetzt noch so ein zwei minuten warten
das hat es letzte mal auch knapp fünf minuten gebildet schauen wir mal
du liegst krank im bett und du guckst den stream
Exzellent. Also, dass du den Stream guckst,
nicht, dass du krank bist.
Komm, Leute, bisschen
den Potman befeuern hier,
dass es schneller geht.
Gib alles, Potman.
Ich glaube, meiner VM muss ich bald noch ein paar Kerne mehr geben, hä?
Noch Kontakt mit dem Friseur recht selten.
Gibt gerade keine Games und nichts, was so groß überschneidet.
Aber könnte jederzeit wieder so sein.
Äh, meinst du, dass
Traumlewis, meinst du, dass
Eucrinus hat kein
Hotplug?
Oder hast du ein anderes?
Äh, ich bin immer noch im dritten Akt
von Expedition 33
Okay, gleich haben wir es geschafft
Achso, WTR Pro
Moment, die bauen seriously
Nass mit einem Wechselrahmen
Vorne dran und dann ist es nicht
Hotplug fähig
Was ist das für ein Blödsinn
warum baue ich den rahmen vorne dran für platten und dann ist es nicht
hautplatt fähig welche web anime ist schaust du gerade gar keine aber ich
wollte frieren season 2 gucken das ist ja angelaufen ist
So, schauen wir mal, wie lange der jetzt gebraucht hat.
Der müsste ja gleich fertig sein.
So, fertig.
Jawoll.
Okay.
hat gebraucht 6 Minuten
14 Sekunden. Merkt euch das mal.
Jetzt bauen wir das um
auf
Muss ich das noch wieder löschen?
Jetzt bauen wir das schnell um
auf Docker
in Docker.
Also, wie machen wir das jetzt?
Docker run
Hier, Docker
Docker
bind
Ach ne, Moment, das müssen wir jetzt anders machen
Äh, Sekunde
Äh, Dint
Ja, ja, bla bla bla
Minus D
Minus D
Aber das heißt jetzt nicht
Moment, warte mal
Minus Minus Name
Minus Minus Name
So, Name wird jetzt...
Name kommt jetzt hierher.
Image Name.
Dollar Image Name.
Und dann müssen wir ja sagen, exec...
Dollar Image Name.
bin sh na ja nicht wirklich so und das ding basiert jetzt auf was auf wollte
ich nachgucken auf was passiert denn jetzt dieses ding image und
docker m den test was passiert dieses team image exek haben hier sowas ein minus c echo
1 funks das okay auf was passiert das etc issue alpine ok also apk stellt
APK-Stelz muss sein.
Also heißt es im Endeffekt,
wir führen jetzt aus
bin sh-c
apk, ich hoffe es ist auch
minus y,
install git und open ssl
CD, Git, Clone, Contrib.
Okay, keine Ahnung, ob das funzt.
Und am Ende, am Ende, am Ende,
am Ende, müssen natürlich noch Docker Stop,
Dollar Image und
Docker AM
Dollar Image
Name.
Dumm, dass das Image Name heißt, ne?
Das müsste eigentlich Container Name sein. Aber das kommentieren wir mal
aus, sonst blick ich dann
immer durch.
ob das jetzt von zwar gebaut habt bild
ok was all access denied habe ich mich verschrieben
sind
Ach, fuck
Command Line, okay
APK install without
question
Alpine
Automatic
Yes Prompt
Okay, wie funzt das? APK
Achso, man muss
da gar nichts
Okay, auch nicht schlecht. Das heißt, man muss da gar nichts hinten dran schreiben.
Okay.
Install. Ach, Moment. APK add.
Nicht so einfach wie gedacht.
Okay. Jetzt aber.
Oh, fuck.
Not found?
Wie jetzt? Warum nicht?
Chatkill?
Okay, das ist ekliger als ich gedacht habe.
Okay, wir machen das gerade nochmal kurz rückgängig.
Weil ich will mir mal den hier copy-pasten.
Es liegt bestimmt an SH, dass das nicht richtig funzt, oder?
geht clown cd zfz bootmenu was hat er denn für schmerzen jetzt eigentlich
der west blüten werden hier all über die existenz ist ein dorf
kennert stadt was warum warum ist am moment
Warum findet er das nicht?
Bin ich jetzt blöd?
Check ich net.
Warte mal hier. Moment, Moment.
Docker PS.
Geiler Exek.
Wie heißt
denn jetzt auch so dumm?
Dede? Kekkel.
Ist doch alles da.
Ach, das Bildskript geht nicht.
Jetzt verstehe ich.
Aber so weit sind wir noch gar nicht, oder?
Ne, Moment.
Ich bin doch blöd, das hat aber überhaupt nichts zu tun.
Aber Chat, das verstehe ich nicht.
Warum geht das jetzt nicht?
Wechselt der nicht die Verzeichnisse oder wie?
Muss ich jetzt doch ein Docker-File dafür noch erstellen oder was?
Ach komm.
Guck mal, was ist denn jetzt hier falsch?
CD, Kekkel, Git, Clone.
Nee, da führt die Bild-SH gar nicht aus.
Die wird auf dem Host ausgeführt.
Und dann CD, ZFS-Boot-Menü.
Und am Ende führt er das.
Also, der führt ja alles bis hierhin aus.
Oh, fuck.
Das nervt mich jetzt schon wieder.
Okay, dann machen wir jetzt mal andere Sache.
Wir führen jetzt nicht das hier aus, sondern wir führen jetzt...
Ah, vielleicht checkt er das hier mit dem Minus Minus nicht.
Kann das sein?
Ls minus La.
Doch.
Doch, doch.
Der Checkt ist mit dem Minus Minus nicht wetten?
Äh, hallo?
Hallo?
GitHub?
Ey, werde ich jetzt rate limited von GitHub?
Habe ich zu viel geklont?
Lass mal kurz gucken.
Oh, shit.
Chat, was ist mit GitHub los?
Kann es sein, dass ich gerade geratelimitiert werde?
Äh, okay.
Jetzt geht's wieder.
Na dann.
Okay.
Jetzt geht's wieder.
Na dann.
Hä?
Wie not found?
Muss man... Hä?
Muss man das in SH irgendwie anders schreiben?
Oder so?
Man hat ja gesehen, der ist im richtigen Verzeichnis.
Ich habe ja dann LS minus LA gemacht.
Muss man das so schreiben in das H?
Warte mal, Moment, Moment, Moment.
LS, LA, Contrib.
Ja, es ist doch da.
Was hast du denn für Schmerzen?
Was hast du denn für Schmerzen?
Ey, verstehe ich nicht.
Ich kann sogar LSL ahnen.
Ach, meinst du, das ist ein Bash-Skript?
Ach, stimmt, das wird ein Bash-Skript sein.
Ja, ja, ja, ihr habt recht, das wird ein Bash-Skript sein.
Okay, dann müssen wir jetzt noch tiefer in die Trickkiste greifen, Leute.
apk
at bash
und jetzt sagen wir, boah, das wird jetzt
eklig, jetzt sagen wir
bash minus c
oder, oder, ne, ich kann auch eigentlich hier die
Quotes drin verwenden.
Okay, das muss jetzt
funktionieren.
Aha!
Okay.
Also 6 Minuten 14.
Mal gucken.
Versus wie lange Docker jetzt braucht.
Bin ich mal gespannt.
So, feuern wir den Docker mal an.
Wir gucken nochmal.
Hier, Moment.
H-Top.
H-Top, wie die coolen Leute sagen.
Was ist mit B-Top?
Das taugt nix.
Das ist mir zu overengineert und zu viel Kram.
H-Top-Beste.
Okay, ich hab das Gefühl,
das läuft schneller in Docker,
weil der nicht so viele
Overlay-FS
Wartezeiten hat.
Ich glaube, da ist
Ich glaube, der ist eine ganze Ecke schneller in Docker.
Ansonsten macht der genau das Gleiche.
Schauen wir mal.
Jetzt bin ich gespannt.
Man schneller als auf dem Host wird er nicht sein.
Der ist genauso schnell wie auf dem Host wahrscheinlich.
Wie gesagt, Docker-Container haben ja keine wirklichen Performance-Einbußen.
Das ist ein ganz normaler Prozess, wie jeder andere auch.
nur mit ein bisschen
Namespaces und C-Groups drumherum.
Aber da wird ja nichts umgeschrieben
an CPU-Instruktionen oder sonst was,
wie das bei einer VM ist.
Wobei bei VMs
ist die CPU-Performance
meistens auch überhaupt nicht das Problem.
Sondern das eigentliche Problem,
warum VMs nicht so gut
scalen wie Container ist,
Weil die einfach mehr Ressourcen brauchen.
Also CPU ist gar nicht so das Problem.
Da läuft ja ein komplettes Betriebssystem.
Die brauchen auf jeden Fall mehr RAM als ein Container.
Ein Container braucht genauso viel RAM,
wie die Prozesse,
die da drin laufen.
Und eine VM braucht halt alles, was drin läuft.
Ja, man kann das minimieren,
aber es braucht definitiv immer mehr als ein Container.
So, Chat, Chat.
Sekunde.
Ich bin gerade in meinem Creator-Dashboard hier.
Und ich sehe, wir sind jetzt bei 24.398 Followern.
Vielleicht schaffen wir ja noch zwei Follower.
Falls noch zwei Leute da sind, die nicht gefollowt haben.
Dann sind es heute 24.400.
Das wäre äußerst hog.
Ist der schon fertig?
Der ist schon fertig.
Das ging super schnell.
Drei Minuten.
Der war doppelt so schnell.
Leute, mehr als doppelt so schnell
wie
wie der
Potman.
Ich würde sagen,
Leute, wir bleiben
Wir bleiben bei Docker in Docker
anstelle von Potman in Docker.
So, jetzt müssen wir noch abschließend auch mal testen, ob das funktioniert, was ich hier
eigentlich gebaut habe.
Das ist jetzt noch einmal bilden.
Müssen wir nochmal drei Minuten gedulden.
Mal abschließend checken, ob jetzt mein komplettes Skript auch funktioniert oder nicht.
So, weil dann müssen wir nämlich checken, ob das mit dem SSH-Access und so auch ordentlich
funktioniert.
Ja, Docker in Docker ist deutlich schneller gewesen als Potman in Docker.
Warum eigentlich?
Warum? Warum ist Potman mehr als doppelt, oder sagen wir mal doppelt so langsam wie Potman, äh, wie, wie, äh, warum?
Nein, warum Potman in Docker mehr als doppelt so langsam ist als Docker in Docker, das verstehe ich gar nicht.
Was macht Potman da für komische Dinger?
Muss man nicht verstehen, oder?
Was ist denn mit Potman in Potman?
Das habe ich nicht ausprobiert.
Will ich auch nicht ausprobieren, weil ich Docker verwenden will auf meinem Main-System.
Vielleicht hat Docker Optimierung.
wisst ihr was auch sein kann ich habe hier unten ganz viel bei portman ganz
viel views overlay fs gesehen und bei docker gar nicht ja das ist natürlich
falls es im ex ist die der länger braucht aber ich meine ich habe die
default settings genommen von dem portman image und bei dem anfang die
default settings von dem docker image genommen
also könnte vielleicht daran sein dass das eine irgendeinen fußetreiber benutzt
und das andere nicht. Das wäre möglich.
So jetzt kopieren wir das gleich auf die Proxmox Kiste und dann restarten wir und
gucken ob ich mich per ssh einloggen kann ob das mit ssh und so überhaupt funktioniert hast du mal
die neuen docker swarm probiert nee doch das war habe ich echt keine keinen anwendungszweck für
und wenn ich mich damit beschäftige wäre das wirklich nur
das vorfall weil auf der arbeit wird immer auf absehbare zeit zumindest kuba netz bleiben aber
für kleinere sachen könnte das mit docker swarm ganz nett sein weil das hat schon einiges an
konfigurations und management aufwand und auch vor allem an know how aufbau was man da braucht
der portman muss trinken hier nächstes album ist raus du streamst in 1080p mit 48 fps ja
für bessere qualität bei wenigerer bitrate das beste kompromiss weil sieht genau für
sieht für viele leute bei dem content was ich mache genauso flüssig aus wie 60 fps
ok also hier haben wir das ding jetzt scp aber hier 18 uhr ok scp e viel links hierhin
so zack ssh da drauf und jetzt cp root in den moment erst mal mountain erstmal mountain so
cp das dahin nach gut wie zbm zbm efi so zink an mount wie braun und es wurscht reboot aber
alles funktioniert haben weil ich hier so gebaut haben er sollte jetzt hier ins boot menü gehen
hoffentlich hoffentlich ja gucken wir mal okay
das macht nichts das ist ich hab's ich verstehe es auch nicht also als sind wir hier drin jetzt
war blöde frage woher weiß ich denn jetzt die ip von dem ding wenn es nicht da steht muss ich
jetzt in meinen Router
gucken oder was? Ah, Moment.
Es läuft jetzt auf Port 222, ne?
Ah, da sind wir doch schon. Nice.
Leute, ZFS-Boot-Menü.
Wir sind per SSH
eingeloggt auf der Kiste.
Und jetzt kann ich
hier meinen Snapshot-Stelz machen.
Oh, ich sag auch,
mein, ähm,
mein Root-Dateisystem ist kaputt.
Ich will jetzt von da
booten.
gesundheitlich geht's bergauf
ja, würde ich schon sagen, insgesamt
ja
das verläuft ja
das wird einem auch jeder Psychologe sagen, so ein bisschen
wellenförmig, aber
die Wellen werden kleiner
weniger lang und mehr
Pause dazwischen
also kann man klar sagen, geht bergauf
So und jetzt booten wir hier rein
Und dann lockt er uns hoffentlich aus
Na gut
Er hängt jetzt beim Booting
Na gut
Aber es funzt Leute
Okay ich hab ein halbwegs gescheites Bild
Machst du schon wieder Sport
Ja heute 6,5 Kilometer gerannt
Vorgestern auch
Vorgestern 5,5 und davor auch 5,5
Also so langsam aber sicher geht es wieder los
Patrick, reden wir vom gleichen?
Also du weißt, was ich hab, oder?
Ich hab's ja mal im Stream gesagt
Swift Streams, ne
Ey, ohne Scheiß, ich wollte mal Swift Streams machen
Ja, das dauert einfach, ne
Das haben die mir auch alle gesagt, das dauert ein bisschen
das kann immer mal wieder schlecht sein und dann aber wie gesagt bei mir ist insgesamt war bei dir
wahrscheinlich auch so dass einfach immer mehr abstände immer größere abstände so im durchschnitt
wurden zwischen den zwischen den wellen und die wellen nicht mehr so schlimm waren und auch
schneller wieder vorbei so und dann also ist es bei mir auch ab und ab und zu ist mal wieder was
Das stimmt, selbst wenn man gesund ist, geht es einem ab und zu mal schlecht.
Ja, also Leute.
Ja, da haben wir es geschafft.
Erfolgreicher Stream.
Ich würde sagen, ausmachen und dann gehe ich was essen.
Schön, dass ihr dabei wart
Ich gucke jetzt erstmal, ob das mit den 400 Followern noch geklappt hat
400!
Wir haben es geschafft, Leute!
Dankeschön, wer hat hier gefollowt?
Die letzten muss ich mir mal angucken
Goschibe
Oder Goschibe
Wie auch immer man das sagt, weiß ich nicht
Und Brustwarzenpower
Hat gefollowt
Haben wir geschafft, 24.400
Poggers
Es gibt zu futtern Toastbrot
Nichts besonderes
Excellent, Leute
Alles klar, bis dann, nächsten Stream, macht's gut
All seven, see you
