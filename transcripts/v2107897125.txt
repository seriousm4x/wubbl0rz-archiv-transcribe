So, ich bin am Start und Leute, waren heute auch Leute, die ihr kennt, wieder super lustig, weil 1. April ist.
Ich habe das Gefühl, manche Leute sind das ganze Jahr über zum Dachen im Keller, aber am 1. April, unzufasching, sind sie alle super lustig.
Lull, da übertreffen sie sich alle immer.
Ich mag mich, wie viele Videos auf YouTube es heute schon gegeben hat, dass wieder irgendwelche Leute ihren Channel schließen oder Onlyfans eröffnen oder whatever, da immer so kommt.
Ja, ich auch.
So, Chatgear, ich glaube, ich habe mein VM-Problem gefixt.
Ihr kennt mein VM-Problem, ne?
Wer das VM-Problem nicht kennt, dem werde ich das mal kurz demonstrieren, wie mein VM-Problem aussieht.
Es gibt mehrere VM-Probleme, die müssen wir jetzt alle fixen.
Wobei, das geht schnell, weil ich weiß schon, wie es funktioniert.
Und dann, ganz wichtig, da muss ich noch hier, hört ihr das?
Hört ihr?
Ja.
Man hört es nicht wirklich, ja.
Ja, vielleicht so?
Ne.
Ich habe hier noch so ein Oster-Fantasie-Edel-Vollmilch-Hase.
Den muss ich jetzt gleich fressen.
Komplett.
Easy.
Ja, sind nur 150 Gramm.
Gestern Rennen, heute nicht.
Nehme ich vielleicht ein paar Gramm zu wieder, aber scheiß drauf.
Muss weg.
Hallo, RF-Programmer.
Ja, heute müssen wir wahrscheinlich auch RF-Programmen.
Also, sofern RF irgendwas mit Funk zu tun hat.
Äh, was ist mit meiner VM los?
Ah, guck mal, mein Klo. Nice.
Also, es gibt mein VM-Problem.
Ich zeige euch das mal.
Wenn ich ein Programm starte, was OpenGL in einer bestimmten Version benutzt, dann passiert folgendes.
Manchmal, nicht immer.
Meistens.
Ich glaube...
Okay, jetzt gerade nicht.
Aber dann kackt die VM manchmal ab.
Ich habe noch nicht ganz festgestellt, warum.
Jetzt ist natürlich der Vorführeffekt geil.
Ja, jetzt ist nichts.
Äh, jetzt, okay, habt ihr das gesehen?
Jetzt ist die VM abgekackt.
Und ich habe das heute Morgen bestimmt zwei Stunden lang debuggt, woran das Problem liegt.
Und das Problem liegt an einem Zusammenspiel aus kaputtenen VMware-Treibern,
dem DirectX 12 Renderer unter Windows für VMware
und irgendwas weiteres noch unter Linux, keine Ahnung.
Ja.
Und ich werde euch jetzt mal was anderes zeigen.
Und das Einzige, wie die VM wieder zu fixen ist, tatsächlich die VM abzuschießen.
Ja, das ist echt das Einzige, was funktioniert.
Ansonsten keine Chance.
Sehr, sehr weird, Champ.
Und ich habe noch was weiteres festgestellt.
Das hat mich auf die Idee gebracht, woran das liegen könnte.
Ich zeige euch mal was.
Wir machen jetzt erstmal Arch Linux Package Updates.
Weil Arch Linux...
Release, by the way, und Beste.
Und ich use Arch und so weiter und so fort.
Ich mache jetzt mal ein Package Update.
Das Problem liegt dann außerhalb der VM.
Kombination.
Ich glaube, Shit-VM-Wear-Treiber in der VM
und Shit-Renderer-Implementierung außerhalb der VM.
Was ist von beiden jetzt wirkliches...
Ich weiß nicht, vielleicht...
Ich könnte mir vorstellen, es liegt am Zusammenspiel.
Ja.
So, und jetzt zeige ich euch noch was.
Also ihr seht, mein Desktop funktioniert perfectly fine gerade.
Aber jetzt mache ich ein Package Update.
Und sofern ihr das in der Zwischenzeit nicht gefixt habt,
werdet ihr sehen, mein Desktop ist nach dem Package Update kaputt.
Und da bin ich heute Morgen...
Guck hier, neue Mesa-Treiber und so.
Und da bin ich heute Morgen das SSH-Exploit reinupdaten, Leute.
Wir haben das SSH-Exploit quasi geskippt,
weil Arch Linux so neu war,
dass die schon neuer als die Exploit-Version waren.
5611 hatte das Exploit, 5612 hatte das Exploit schon wieder nicht.
Die waren einfach zu blazingly fast.
Die sind bestimmt alle written in Rust, die Arch-Linux-Leute.
So, und jetzt reboote ich mal.
Und dann werdet ihr feststellen,
irgendwie funktioniert mein Desktop nicht mehr richtig.
Ich hoffe, das ist jetzt das Gleiche wie bei meiner anderen VM.
Achtung.
Und...
Ja, Desktop kaputt.
Desktop kaputt.
So, das hatte ich heute Morgen in meiner anderen VM auch.
Und da habe ich mir gedacht, hä?
Wie jetzt?
Nach dem Treiber-Update von den OpenGL-Zeug-Treibern,
die ja unter anderem so das ganze OpenGL-Zeug und so bereitstellen,
danach geht der Kram irgendwie kaputt.
Er geht zwar nicht so richtig kaputt, dass ich jetzt neu starten müsste,
aber er geht kaputt.
So, und da bin ich heute Morgen auf die Idee gekommen,
okay, was ist denn hier?
By the way, das System läuft, wie ihr seht.
Ihr seht bloß nichts.
So, das Erste, was ich erstmal machen muss, ist...
Ja, ihr seht, ich konnte im Hintergrund tippen,
mein, ähm, Composite-Window-Gedöns abschalten.
Also, das, was Transparenz und sowas macht.
Weil, ihr werdet feststellen, sobald ich P-Com anmache,
ist der Desktop kaputt.
Der geht nicht mehr.
Guck, ich klicke jetzt hier drumherum und da tut sich auch nichts mehr.
Aber sobald ich P-Com wieder stoppe, ist weg.
Ja, also wie man sieht, sieht man nichts.
Das erste Problem lässt sich relativ einfach fixen,
indem man, weshalb auch immer,
das habe ich auch durch viel Rumprobieren heute Morgen rausgekriegt,
äh, V-Sync ausschaltet.
Warum? Man weiß es nicht.
So, und siehe da, es funzt wieder auf den ersten Blick.
Was ich jetzt noch nicht ausprobiert habe, ist,
ob das auch schon das Problem mit den verbackenen OpenGL-Programmen fixt.
Äh, sieht so aus.
Hä? Es ist tatsächlich nur V-Sync, was die Probleme macht.
Ja.
Und ich dachte, es wäre mehr.
Seht ihr mal.
Es ist, es ist nur V-Sync.
Es ist auch schon ziemlich hängen geblieben, oder?
Oder?
Ne, ne, ne, okay.
Nein, nein, es ist nicht nur V-Sync.
Es ist nicht nur V-Sync.
Es ist ziemlich broken.
Ja, wie ihr seht.
Wenn man, wenn man jetzt das ausschaltet.
Das ist wieder abgekackt.
So, und jetzt zeige ich euch, wie ich das heute Morgen gefixt habe.
Nämlich auf zwei und, also, ich bin, ich bin drauf gekommen,
wie gesagt, durch die, durch das Grafikkarten-Update, äh, nicht durch das Grafiktreiber-Update,
wo dann die ganze VM kaputt war danach.
So, als erstes ist mir aufgefallen,
machen wir jetzt mal hier so als kleines Intro, bevor wir dann die ZigBee-Geschichte bauen.
Das ist mir aufgefallen,
dass ich sinnloses Zeug installiert habe, ist mir aufgefallen.
Na, man sieht ja auch, das resized, alles gar nicht mehr richtig und
ist irgendwie, ist irgendwie ein bisschen broken alles, ne?
Irgendwie alles ein bisschen kaputt.
So.
Und das,
das liegt daran,
weil der Grafikkarten,
also, ich sag Grafikkarten,
der, der, der Linux sieht die Linux-seitliche Implementierung von dem VMWare-Grafiktreiber irgendwie verbuggt ist.
Und ich hab noch den hier installiert, weil ich dachte, den bräuchte man.
Aber, das steht übrigens auch im Arch-Wiki,
aber den braucht man gar nicht mehr,
weil lsmod-grep-vmware,
die haben mittlerweile den VMWare-Treiber im Kernel drin.
Also, merke, man braucht keine Zusatztreiber mehr für VMWare
unter Linux mit ordentlicher, ordentlicher Displayausgabe.
Ja, da kann man alles aninstallen, das ist mittlerweile bei Arch-Wiki standardmäßig
im Kernel drin. Wenn ich jetzt reboote,
funktioniert wieder alles.
Also, zumindest das, das Resizen und sowas.
Also, wer den Krempel installiert hat, kann das gleich wieder runterschmeißen.
Bringt nix.
Das war früher notwendig, jetzt nicht mehr. Seht ihr, guck, Resize und so.
Weil ich glaube, Resize ist immer noch broken, aber ihr seht prinzipiell von uns der ganze Kram,
warum auch Resize immer noch kaputt ist.
So, und jetzt ist die Frage, ist das schon gefixt? Müssen wir gleich gucken.
Ist das schon gefixt?
Ah, manchmal geht's, manchmal nicht. Muss man ein paar Mal ausprobieren.
Neuen Feierabend spielt sie.
Nein, okay, ist noch nicht gefixt.
Und jetzt zeige ich euch den eigentlich...
Ah, ne, ist wieder, ist wieder broken.
Und jetzt zeige ich euch den eigentlichen Fix, und ich hoffe, der fixt das jetzt auch wirklich.
Achso, das ist ja wieder kaputt.
Jetzt zeige ich euch den eigentlichen Fix, den man machen muss,
damit 4M-Ware nicht mehr rumspackt.
Und zwar...
Oh shit, ich hab's mir nicht rauskopiert, das muss ich auch mal kurz bei Google suchen.
Und zwar, man muss in seine 4M-Ware-Settings reingehen,
in die 4M-Ware...
in das 4M-Ware-Config, in das Virtual-Machine-Config-File.
Ich hab echt nur Notepad hier auf meinem Host, ich mach da nie was großartiges. Egal.
Und da muss man jetzt ein paar neue Sachen eintragen.
Was ist denn das hier eigentlich alles für ein Shit?
Leaked. Private Keys leaked.
So, ähm...
Jaja, alles gut.
Ah, Moment, das ist die Windows 11 4M, lul.
Die will ich überhaupt nicht aufmachen, das ist die falsche, die ich aufgemacht hab.
So.
Jetzt macht man das, die Config auf, davon.
Und dann muss man dort eintragen.
Das muss ich jetzt erst noch mal googeln, weil da kommt niemand drauf.
4M-Ware...
Ich hab das so gefunden.
4M-Ware, Glitch, Linux und dann MKS oder sowas.
Oh shit.
Mein Browser hier findet andere Sachen.
Ups.
Was der Bug ist...
Äh, sowas hier zum Beispiel.
Und das, wenn ich manche Programme...
Einmal aufmacht, die ganze 4M crasht.
So, und hier hab ich jetzt so ein paar Sachen drinnen gefunden, die man angeblich machen kann.
Und unter anderem steht da drinnen, man soll den DirectX12-Renderer ausschalten.
Ich bin mir nicht mehr sicher, wo ich es gefunden habe.
Das war irgendwie MKS.
MKS, 4M-Ware, Disable, DirectX12.
Hier.
Da, genau.
Diesen Shit braucht man.
Wobei, das noch nicht alles ist, was ich bei mir eingetragen habe.
Aber gucken wir mal, ob es das tut.
Das tragen wir ein.
Vendor-ID lassen wir raus.
DirectX12 schalten wir aus.
Und wir benutzen den OpenGL-Renderer.
Damit hatte ich das Problem bei mir nicht mehr.
Jetzt müssen wir nur gucken, ob das funzt.
Was ich hier gemacht habe.
Also 3D-Beschleunigung ist an.
Jetzt müssen wir kurz in das Log gucken.
Ob dort jetzt steht, was er geladen hat.
Nvidia.
OpenGL-Renderer.
Nvidia-Version.
Genau, GL-Renderer.
So, und jetzt ist das Problem höchstwahrscheinlich gefixt.
Wenn das Problem jetzt nicht gefixt ist, dann ist es in meiner anderen 4M auch nicht gefixt.
Und ich habe es einfach nicht richtig ausprobiert heute Morgen.
Okay?
Das kann ja auch sein.
Probieren wir mal.
Wir starten eine Anwendung, die irgendwie komisch rendert.
Und jetzt tracken und droppen wir die.
Und es ist nicht abgekackt.
Nächster.
Nächster Versuch.
Es kackt nicht mehr ab.
Seht ihr?
Aus irgendwelchen Gründen ist der DirectX12-Renderer kaputt.
Guck jetzt.
Ich kann es auch noch ein drittes Mal ausprobieren.
Aber jetzt kackt es nicht mehr ab.
Also ich habe quasi die Sache...
Ja, seht ihr?
Ich weiß nicht, was das für ein weird Problem ist.
Ich weiß nicht, was das für ein weird Problem ist.
Ich weiß nicht, was das für ein weird, champiger Bug ist.
Aber es ist ein Zusammenspiel aus den Linux-Grafik-Treibern, aus dem DirectX12-Renderer und was auch immer noch.
Keine Ahnung.
Aber ich glaube, ich habe es jetzt behoben.
Und ein weiterer Vorteil ist, GLX Gears ist jetzt so schnell wie nie, dank keinem V-Sync mehr.
Guck mal hier.
585 bei dieser super komplexen 3D-Darstellung.
Ja, so sieht es aus.
Und jetzt, wisst ihr, was ich jetzt mache?
Jetzt fresse ich den Osterhas.
Jetzt fresse ich den Osterhas.
Und nebenbei downloade ich Home Assistant und installiere mir eine VM mit Home Assistant,
und nebenbei downloade ich Home Assistant und installiere mir eine VM mit Home Assistant,
da ich nachher meine ZigBee-Sachen ausprobieren kann.
Warum ich ein eigenes ZigBee-Gerät bauen will, weil ich es kann.
Warum ich ein eigenes ZigBee-Gerät bauen will, weil ich es kann.
Ne, es hat tatsächlich einen Grund.
Und zwar, ich habe einen Fischteich im Garten.
Und der Fischteich droht im Winter immer zu zufrieren.
Und zwar, ich habe einen Fischteich im Garten.
Und zwar, ich habe einen Fischteich im Garten.
Und zwar, ich habe einen Fischteich im Garten.
Und zwar, ich habe einen Fischteich im Garten.
Und zwar, ich habe einen Fischteich im Garten.
Und zwar, ich habe einen Fischteich im Garten.
Und zwar, ich habe einen Fischteich im Garten.
Und zwar, ich habe einen Fischteich im Garten.
Und zwar, ich habe einen Fischteich im Garten.
Und zwar, ich habe einen Fischteich im Garten.
Und zwar, ich habe einen Fischteich im Garten.
Und zwar, ich habe einen Fischteich im Garten.
Und zwar, ich habe einen Fischteich im Garten.
Und zwar, ich habe einen Fischteich im Garten.
bald gibt es echt keine winter mehr wenn das so weitergeht das ist kein software rendering das
ist ja hier legst infograb nach was muss man erkennen version oder sowas das ist hier immer
noch ganz normales gerechtes open gl für für die nux so und was ich vorhabe ist ich stelle
mir da hätten sich die geräte was dann einen ds 18 b 20 dran bekommt so ein ding den hänge ich in
den fischteich und übertragt die temperatur im fischteich an meine home automatisierungs lösung
und da kriege ich eine nachricht wenn es unter den gewissen wert fällt für zwei tage oder so
und dann kann ich den zudecken kannst du dir den backer kämpfer ach hier guck mal ich habe
einen lösungsdruck und dann kann ich den zudecken kannst du dir den backer kämpfer ach hier guck mal ich habe einen
ubuntu wsl installation da steige ich ja schon aus auf eine andere festplatte umgezogen mit hilfe
von export und import mit was das kenne ich nicht ich hätte einfach den ordner kopiert ehrlich
gesagt erstaunlicherweise ging fast alles gut außer dass ich zsh 19 musste komisch dass er
gerade dass der import nicht überlebt hat also ich hätte jetzt vermutet wenn man den wsl ordner
copy copy pasted quasi von einem laufwerk auf dem anderen dann geht es einfach habe ich noch
nie ausprobiert wsl umzuziehen linux selber umzuziehen ist glücklicherweise immer relativ
easy weil du kopiert sein heimatverzeichnis und richtet den rest neu ein installiert ein paar
sachen und gut ist brauche ich mache ich mache ja keinen voll backup mehr von linux ich habe
meine dort falls das reicht mir zum größten teil konflikt meine meine kommt meine persönlichen
konflikt falls den rest kann ich zur not wenn es echt kaputt geht reinstallieren
aber ob da meine config falls und so platz alles da ja also ich wusste nicht mal dass wsl das kann
ja aber also wie man wsl ordentlich exportiert importiert backup restore weiß ich nicht habe
ich noch nie gemacht lautstärke der playlist ist cringe das war jetzt richtig boomer mäßig
ist benutzen das wort das weil es hat damit überhaupt nichts zu tun so jetzt muss ich
mal haus ist drin laden und dabei meinen schokoladenlose haas fressen ich vor allem
ich kann nicht ich kann nicht reden und home assistant download vmware
windows vmware workstation vmdk runterladen jawohl bin geblendet von der seite oder jetzt
jawohl ok also leute twitter schoko haas gefressen 150 gramm nicht einfach nur vollmilchschokolade
edelvoll milch das ist wahrscheinlich so ein wort wie ja sich auch jeder berater draufschreiben
darf kein nicht geschütztes wort das ist wie bei katzenfutter wahrscheinlich bei katzenfutter ist
auch alles ich gucke mir das bei katzenfutter ist ja auch alles immer premium xxl und triple
a quasi von lindt kauf ich mir zwei kaufe ich mir oft allerdings immer nach ostern und nach weihnachten
kostet nur noch ein drittel schmeckt genauso haben wir noch den stream bei home assistant ja
ich habe den raspberry pi aber ich will den raspberry pi heute nicht anmachen weil meine
china chinesen steckdosenleiste kaputt ist und ich gerade keine freien steckdosen habe ich muss
jetzt ein bisschen herumwurschteln dass ich netzwerkkabel hinkriegt den pay anschließen
kann außerdem ist er outdated ich installiere lieber das aktuelle was ist installiert ich mache
eine vm und gut ist hängen das rein ja das muss das im prinzip eh nicht so gut sein und dann muss ich
doppelt anklicken vm workstation was ich fand das jetzt vielleicht hätte ich mir doch mal die
anleitung an angucken sollen assistant install vor allem ja was brauche ich für optionen dabei
weg diese komische anleitung ein vmdk ja da steht es doch irgendwo
ok 4g kram 64g ok alles klar hypervisor specific vm workstation ja dann machen wir das doch mal
neue vm anlegen zack zack wenn wir installieren gar nicht wir machen hier was was sollen wir aus
die auswählen das da stand da glaube ich eine cpu vier kerne 8 g gramm wir haben genug
Shit
So
Da
sind
wir
jetzt
was
man
da
so
dann
macam
die
Weil ich muss gleich einen ZigBee-Stick pass-thruen.
Okay, schauen wir mal, ob das kommt.
So, Moment.
Der Haas muss verspeist werden jetzt.
Bevor wir Broggers-Stells anfangen.
Boah, das ist ein ganz schön fettes Ding, ey.
Ich glaube, den kann ich jetzt nicht alles essen.
So.
Oh.
Ey.
Warum startet das nicht?
Was?
Was ist da falsch dran?
Was habe ich falsch gemacht?
Was soll ich machen?
Ich soll...
Ah, ich muss die VM auf EFI umschalten.
Aha.
Geht das nicht?
Ging das nicht mittlerweile sogar über eine Option?
Ja.
Da muss ich auch kein Textdatei mehr editieren.
Ah, gucke mal.
Oder?
Jetzt startet es auch.
Nice.
So.
Oh.
Der fällt voll auseinander.
Pepo-Fat-Time.
Okay.
Zwei.
Punkt.
130.
Also, er hat 2.130.
Nein.
Äh, nee.
Home Assistant hat was für einen?
Port 888123 oder sowas.
Ja.
Das Ding schmeckt nicht schlecht.
20 Minuten, das braucht 30 Sekunden.
Bau nach dem Streamer in Discord.
Ich kann auch jetzt in Discord gucken.
Brauchst Champ.
Hast du einen zweiten ZigBee-Stick?
Ja.
Eigentlich will ich den als ersten ZigBee-Stick verwenden.
Weil der neuer ist.
Das ist so ein neuer Sonoff-Stick.
Mit diesem neuen gehypten Chipsatz, den sie alle verwenden wollen.
Okay.
PN.
Sekunde.
Wobblos.tv ist abgelaufen.
Das ist schlecht.
Äh.
Habe ich da was verpeilt?
Nicht Who am I?
Who is?
Habe ich da was verpeilt?
Rake your wick.
Okay.
Es liegt noch bei Namecheap.
Ich vermute, ich kann den Kram verlängern nachher.
Sonst habe ich es verkackt.
Okay.
Home Assistant is ready.
Okay.
Ich bin gerade noch am Osterhass futtern.
Also.
Create my smart home.
Username.
Admin.
Super secure Passwort.
Ihr kommt nicht drauf, welches es ist.
Amsterdam.
Korrekt.
Country.
Da kommen wir mal nach Germany.
Übrigens wisst ihr, was ich geil finde?
Dass man hier einfach die Leiste aufmachen kann und tippen.
Das geht einfach im Windows Installer nicht.
Ich verstehe bis heute nicht, warum man das nicht hinbekommt im Windows Installer.
Nix.
Nein, auch kein Chromecast einbinden.
Oh, guck mal.
Guckt gerade Wieso.
Äußerst interessant, das wollte ich jetzt schon immer mal wissen.
Wie kann man den Kram wegmachen?
Da sehen wir jetzt auch gleich, die guckt bestimmt gleich Dings hier, ähm.
Rosamunde Pilcher oder so.
Ähm.
Warte mal, man muss das doch umschalten, dass man das editieren darf, diesen ganzen Krempel.
Das war doch super weirdchampig.
Erstmal müssen wir in Advanced Mode schalten.
Ja, Advanced Mode, richtig.
Und dann.
Ich hab vergessen, wie das funktioniert.
Man musste diesen Dashboard Müll erstmal ausschalten, dass man editieren darf ordentlich.
Raw Config Editor.
Ah ne, Take Control.
Da stand es doch.
Das muss man machen.
Take Control.
Ja, Start Empty Dashboard.
Perfekt, done.
Done.
Excellent.
So, nice.
Addons.
Jetzt brauchen wir ZigBee, das ZigBee Addon.
ZigBee to MQTT.
Your Home Assistant.
Warum nicht das eingebaute ZigBee?
Weil das kompatibler ist.
Okay, ich soll MQTT installieren, das mache ich.
Das ist auch eine gute Idee.
Wie installiert man...
Den, den Krempel denn jetzt nochmal?
Addon?
Wo ist denn das Addon?
Nutzt ZHA nicht inzwischen auch die ZigBee to MQTT Dinge?
Ja?
Ey, wir können es ausprobieren.
Wir können es ausprobieren.
Ist gar kein Ding.
Können wir machen.
Warum nicht?
Machen wir ZigBee an.
Zig...
ZigBee.
Achso.
Moment, nein, nein.
Das ist sicherlich der falsche Serial Port.
Gag Wait.
Moment.
Ich muss ja mal den USB-Stick da dran stecken.
Den ZigBee USB-Stick.
Ja.
Sonoff Stick.
Stick, der, der Stick Champ.
Brum, brum, brum.
Connect to Home Assistant.
Ja.
ZigBee Stick ist durchgereicht.
Dann, dann probier es doch mal damit aus, wie gut der Kram jetzt funzt hier.
Da, hier, den da.
DevTTY USB 0.
Sonoff ZigBee 3.0.
USB Dongle.
Sonoff ZigBee 3.0.
USB Dongle.
USBck.
USB-Laptop.
Lenx.
USB-Gel chords.
USB-Laptop.
Code 0.
2.
0.
3.
1.
2.
3.
3.
3.
1.
2.
3.
1.
1.
1.
1.
1.
1.
1.
1.
1.
0.
2.
1.
kann man das überhaupt formatiert nennen immer neu initialisiert morgen muss ich
wieder arbeiten und eigentlich habe ich keinen bock nach dem urlaub immer
arbeiten zu gehen aber es war nur ein tag urlaub also hält sich den grenzen
mir gefällt es echt ganz gut wie ist home assistant bei dir installiert
testweise in der vm hier was initialisiert denn da eigentlich drei
stunden jetzt funktioniert das mit dem stick durchreichen doch nicht aus
champs success ansonsten daheim auf meinem auf
meiner android kiste hier gibt es chat wieder hyper chat
ja boi sagt dank dir bin ich auf den informatik ort richter gekommen und mache
jetzt beim master fertig meist exzellent exzellent das ist extrem
ja eigentlich wollte ich ein fahrzeug
k negócio und dann die orthopolisoya ich habe handlarung ein leven
keinosaic aber du hast dann meine unser act zu Harlem aufge��서 bislang
zehnчно unter der runde gekündigt hat tipp ne Metropolitan
im Video machen einen Job weil es ist seit heute ohne scheiß heute auf den Tag. Genau ein Jahr wo ich den Job gewechselt habe. Dann gekündigt habe ich schon Mitte Dezember oder Ende Dezember 2022, aber aufgehört in dort angefangen habe ich tatsächlich erst am ersten April letztes Jahr ein Jahr ja central related video reinfordermein der
8.30 Uhr vor einem Jahr
habe ich da angefangen.
Okay, es ist successful,
sagen sie.
Der gehört zu keiner Area.
Der ist einfach so successful.
Configure.
Already configured.
Okay.
Add devices via this device.
Okay, Leute, wir testen jetzt mal schnell
die Lidl-Steckdose. Was haltet ihr davon?
Wollen wir mal schnell mal die Lidl-Steckdose
testen und gucken, ob die Zigbee-Sachen
prinzipiell funktionieren?
Ich wollte die eigentlich auseinandernehmen und
testweise das Motor drauf flashen
mit einem eigenen Chip, aber
einfach nur just for fun.
Ansonsten benutzen wir die mit Zigbee.
Also, wir können das mal kurz testen, ob das funktioniert.
Dass wir auch wissen, dass die
Zigbee-Integration tut.
Davor muss ich immer noch den Osterhas fertig
futtern.
Ja, so sieht's aus.
Ach du, du hast länger ausgehalten.
Also, ich kann's echt nur empfehlen,
wenn einem was auf den Sack geht.
Sich was Neues suchen, das hat sich
im Nachhinein jetzt echt gelohnt.
Klar, gibt es Sachen, wo ich jetzt, ich meine,
nach einem Jahr ist so diese
Phase, alles ist neu, alles ist toll,
vorbei. Klar gibt's Sachen,
wo ich sagen würde, ey,
die waren auf der alten Arbeit
besser, aber es gibt auch enorm
viele Sachen, wo ich sagen würde, und
zum größten Teil nie auf dies ankommt,
dass sie bei der neuen besser sind.
Vor allem verdiene ich mehr Geld,
das stimmt.
Ja, gehört aber auch zu den Dingen,
auf die es ankommt, oder?
Was kosten die smarten Steckdosen vom Lidl?
Moment, 29 Euro.
Die hier ist was, die schließe ich jetzt mal an.
Guck mal, ob's funktioniert.
Wo hab ich denn die Kisten liegen? Hier, Sack.
Hacken wir die mal aus,
dass wir wissen, ob die
ob die
ZigBee-Integration wirklich funzt.
Ich mach mal auf.
Wir werden mit dem ZigBee-Gerät heute bestimmt
fertig werden, deswegen ist es gut, dass wir ein ordentliches
Setup am Start haben.
Wo man das
dann auch ordentlich ausprobieren kann.
So.
USB-Steckdosenleiste.
Spezial.
Super-Advanceder-Shit.
Nicht einfach nur Steckdosenleiste,
Steckdosenleiste. Spezial.
Hat leider nur drei Stecker im Vergleich
zu meinem alten, das ist ziemlich
sätge. Jetzt müssen wir mal
gucken, wie man das Ding pärt.
Ich hab nicht damit gerechnet, dass ich das heute mache.
Deswegen hab ich auch keine Kamera
und sowas am Start, sonst könnt ihr zugucken.
Aber das geht jetzt nicht,
weil ich hab ja da gar keine Steckdosenleiste.
Ich kann mein Ring-Light nicht anmachen.
Ich kann dort nichts anschließen gescheitern.
Mit der Steckdosenleiste vielleicht jetzt gleich.
Gehst du dich zu den Ausnahmen, die bei deutschen
Unternehmen Ami-Niveau verdienen? Ich meine,
mich derjenige, dass sie verdienen. Also Ami-Niveau
verdiene ich nicht. Die Amis verdienen ja
was weiß ich, 300k oder so
im Jahr. So viel ist das bei mir
nicht. So, Steckdosenleiste.
Steck das jetzt mal rein.
Vielleicht sollte ich mir vorher mit euch
mal zusammen angucken.
Lidl
Steckdosenleiste
ZigBee in dem Handbuch-PDF,
wie man das Ding pärt.
Also die, die 300k verdienen,
die sind nicht arm bei den Amis.
Die sind höchstens arm, wenn sie mal ins Krankenhaus
längere Zeit müssen.
Hat Lidl vielleicht hier ein PDF
bei sich auf der Webseite?
Handbuch oder sowas?
Haben die sowas nicht?
Ja, auf ihrer.
PDF?
Bedienungsanleistung.
Ach, nicht Spezial.
Ich hab da Spezial gelesen.
Da steht
ich hab irgendwie so aus dem Augenwinkel
das als Spezial interpretiert.
Was ist das für eine schrottige
Alter,
mega Schrottseite.
Gibt's das auch zum Download
irgendwo?
What? Herunterladen.
Alter, was ist
Was ist das für eine Schrotte?
Was ist das für eine Schrotte?
Was ist das für eine Schrotte?
Was ist das für eine Schrotte?
Was ist das für eine Schrotte?
Was ist das für eine Schrotte?
Was ist das für eine Schrotte?
Was ist das für eine Schrotte?
Was ist das für eine Schrotte?
Anleitung.
Das ist doch Scam, oder?
Lade ich jetzt irgendein Virus runter?
Ne, mach ich nicht.
Okay.
Es sieht einfach nur noch Scam aus.
Das ist aber kein Scam.
Außerdem, ich bin eher unter Linux in der VRM.
Da kann mir ja eh nichts passieren.
Also, USB-Steckdosenleiste,
Kurzanleitung.
Diese Kurzanleitung ist fester Bestandteil
der Bedienungsanleitung.
Moment.
Es gibt nur die Kurzanleitung.
Sie benötigen...
Okay.
Bestimmungs...
Bla, bla, bla, bla.
Ich will wissen, wie man das paart ordentlich.
Sie benötigen eine...
Brauche ich...
Hä?
Das ist eine ZigBee-Steckdosenleiste.
Da brauche ich keinen 2,4 Gigahertz
WiFi-Router.
Okay.
Wie auch immer.
Ich muss einfach nur wissen,
welche Knöpfe ich drücken muss zum Paaren.
Hä?
Jetzt bin ich hier sehend.
Achso, das sind die unterschiedlichen
Steckdosenleisten.
Steckdosen-Sorten, okay.
Produkt und Mobilgerät koppeln.
Nein!
Ich will die ZigBee-Sache
Lidl Home installieren.
Ja, seid ihr denn geistig komplett durch,
oder was?
Okay, einschalten.
Vier drücken.
LED bereit zur Kopplung.
Okay, also.
Ich muss...
Produkt mit Steckdose verbinden.
Einschalten drücken.
LED 5 leuchtet.
Okay, wo ist LED 5?
LED 5.
Aha.
Ah, die andere Seite, ja, okay.
Also, ich denke, es wird, ja, ich denke auch,
dass es einfach funktionieren wird.
Add devices via this device.
Okay.
Auf geht's.
Steckdosenleisten-Champ.
Aha.
Easy.
Kann man dazu sagen.
Easy as fuck.
Device name.
Zitz.
Zitz.
Zitz.
Zitz.
Zitz.
Zitz.
Zitz.
Zitz.
Zitz.
Zitz.
Zitz.
Zitz.
Zitz.
Zitz.
Zitz.
Zitz.
Zitz.
Zitz.
Zitz.
Zitz.
Okay.
Ähm, und wie akzeptiere ich das jetzt?
Hat es das jetzt automatisch hinzugefügt?
Ist es jetzt automatisch drin, oder?
Nee.
Nee.
Ah, es hat mich aus irgendwelchen Gründen
gerade wieder ausgelockt.
Ähm...
Alter!
Home Assistant.
Was?
Alter, geh mal nicht auf den Sack.
Was willst du dann?
Integrations.
Zwei Devices.
Zigbee.
Hier.
Da ist die Steckdosenleiste.
Okay, dann schauen wir doch gerade mal, ob das funktioniert.
Ja.
Okay.
Easy.
Hört ihr das?
Hört ihr das hier?
Klick.
Klick, klick, klick, klick, klick, klick, klick, klick, klick.
Hört man das?
Also die Relays.
Weiß nicht, wie stabil die sind.
Ich lasse das mal sein.
Gut.
Also Steckdosenleiste.
Funzt.
Nicht, dass wir die Steckdosenleiste brauchen würden, aber ich weiß jetzt, dass man Zigbee-Stick
funzt.
Was haben wir denn sonst noch?
Ja, die sind einzeln.
Das ist doch der Grund, warum ich mir das Teil überhaupt gekauft habe.
Sonst könnte ich auch einfach eine normale Zwischenstecker nehmen, den ich steuern kann
über WiFi oder Zigbee und eine andere Steckdosenleiste reinstellen.
Leider kann man die USB-Dinger nicht an- und ausschalten einzeln.
Das ging bei der alten, die ich hatte.
Dafür war die alte auch super schlechte China-Chinesen-Qualität.
Wobei, die hier ist 100 Pro auch made in China.
Lass uns gerade mal gucken.
Die ist, steht gar nicht drauf, 6 Ampere maximal.
Das ist aber nicht viel für drei Steckdosen.
Darf das überhaupt verkauft werden?
Ist das überhaupt zugelassen, eine Steckdosenleiste, die maximal 6 Ampere kann?
Das sind nicht mindestens 10 Ampere.
Das sind nicht mindestens 10 Ampere.
Das sind nicht mindestens 10 Ampere.
Das sind nicht mindestens 10 Ampere.
Das sind nicht mindestens 10 Ampere.
Das sind nicht mindestens 10 Ampere.
Das sind nicht mindestens 10 Ampere.
Das sind nicht mindestens 10 Ampere.
Das sind nicht mindestens 10 Ampere.
Die Relays können nicht mehr schalten.
Aber was ist, wenn ich jetzt einen Heizlüfter dranhänge?
Dann?
Monka Smoke oder was?
Na gut, für meine Sachen ist das ja ausreichend.
Okay, was machen die anderen Sachen hier unten?
Power On State, Last...
Light Went On, Light Went Off...
Okay, Leute, diese Settings hier machen einfach gar nichts.
Leute...
die sind einfach useless
oder braucht es eine Weile bis das syncht vielleicht
das interessiert das überhaupt nicht
ist aber auch wurscht ob das geht oder nicht. Identity Press was macht das denn
blinkt das jetzt oder so
also ich sehe hier nichts
okay wir können noch Empfangsstärke und so einstellen
also hier passiert nichts wenn ich da drauf presse
aber wie dem auch sei unser Zigbee Zeug funktioniert. Das ist eigentlich alles was ich
brauche für heute
Exzellent
müssen wir uns jetzt eine Runde C++ geben
ich hab schon wieder keinen Bock
wir machen das übrigens in Visual Studio Code, Rider spackt nur rum ich hab das heute
morgen noch mal ausprobiert
ich hab zwar hinbekommen
dass Rider
nicht mehr das Bild jedes mal neu hinstellt aber ich hätte es nicht für
möglich gehalten die ganze Navigation
also Symbole finden und so was ist in Visual Studio Code tatsächlich
besser
Mane
ap
beste
könnt dann schließen mehr
auch ich hab es ja gar keine
til er ist
Prozent
ich brauch mal ein USB auf Jerusalem
GET Z 있지
für den Controller sonst ist das nix
ein Format Gehäuse ist diesmal frei
nono bis PC auf USB tet
was war das gerade für eine Adresse
Oplotz
E общем
Wellbem
So, hat er das jetzt verbunden?
Zigbee Dongle?
Ja.
Connect.
Unsuccessful?
Was?
Ne, das ist das Fall.
JTAG will ich.
Hä?
Das ist überhaupt nicht zu einer anderen VM connected.
Lüg hier nicht rum.
Stimmt überhaupt nicht, dass du zu einer anderen VM verbunden bist.
Hä?
Warum ist das unsuccessful?
Spackt der irgendwie rum, weil USB-C oder so?
Ja, dann zieh ich halt den Sonoff-Stick raus.
Den brauchen wir jetzt eh nicht.
Erst bis wir was programmiert haben.
Und steck's da rein.
Was ist denn da schon wieder kaputt?
Das liegt aber bestimmt an VM, ja.
Ich hab vorne am Gehäuse nicht genug Platz.
What the fuck?
Oh, Leute, ich weiß, woran das liegt.
Könnte das sein, dass auf meinem...
...meinem anderen Windows-Account noch die VM offen ist und es da noch durchgereicht ist?
Grabt sich VM wirklich die Sachen?
Wenn im anderen Account noch eine VM im Background offen ist?
Das wär ja was, ähm...
Ja gut, kein Ding.
Dann schießen wir die andere VM einfach ab.
Keck, wait.
Prozessexplorer.
Als Admin starten, weil ich logge mich jetzt bestimmt nicht aus und auf meinen anderen Account ein.
Prozessexplorer am Start.
So, VM-Ware.
VM-Ware.
Zack.
Zack.
Schießen wir mal ab.
Ich weiß ja nicht, welches.
Welches ist?
Okay, hier ist VM was weg.
Leak.
Was hab ich geleakt?
Alles liegt.
Fuck.
Oh, man.
Was muss ich denn jetzt abschießen?
Hier.
Ähm...
Welches?
Okay.
C-Doppelpunkt-User-Stream-V...
Ja, ist gut.
C-Doppelpunkt-Stream-Max-Stream-VM.
Das ist die.
Das ist die.
Das ist die andere.
Ah, jetzt habt ihr's auch gehört.
Das hat's gemacht.
Blim, blim, blim, blim.
Jetzt hat's funktioniert.
Sehr schön.
Und ich wette mit euch, jetzt geht das auch per USB-C.
Probieren wir nochmal aus.
Wenn du dich umloggst, dass unter deinem User...
Du meinst, dass ich zwei User hab?
Ist Leak.
Krass, Leak.
Monka ist Leak.
Ja, okay.
Hat funktioniert.
Nee.
Logge den anderen Account aus.
Ja, okay.
Hat funktioniert.
Nee.
Logge den anderen Account aus.
Nee.
Logge den anderen Account aus.
Nee.
Logge den anderen Account aus.
Nee.
Logge den anderen Account aus.
Nee.
Logge den anderen Account aus.
Das ist für Noobs...
Vor allem beim Prozess abschießen ist viel nicer.
Sudo.
Ah, ich kann jetzt schreiben.
Hat er das jetzt erkannt?
Jawoll.
Okay.
TMP, ESP32, Hello World, Example.
Mehr läuft da noch nicht drin.
F.
So.
Ich hab heut Morgen nämlich schon ein bisschen rumgebastelt, weil mich das so genervt hat,
dass die Konsolenausgabe nicht funktioniert.
Ich hab jetzt was gefunden.
Wo die Konsolenausgabe ordentlich funktioniert, auch wenn man Arduino da drauf verwendet.
Fragt bitte nicht, was es funktioniert.
Einfach.
Okay?
Also, als erstes müssen wir dieses tolle Ding hier starten.
Oh, Moment.
Ich hab Minicom nicht installiert.
Na dann.
Olles Minicom.
So.
Erstmal müssen wir diese obskure Sache hier starten.
Dann connectet er sich zu dem Controller.
Und man sieht meine geistig sehr advancede Ausgabe, die ich da einprogrammiert hab.
Endlosschleife keckel.
Und hier unten können wir jetzt beispielsweise machen EDF Pi Flash.
So.
Und damit das geht, muss ich vorher sagen.
Kill.
Anders funktioniert's nicht.
Ich kann's euch, ich kann's euch sagen.
Ich.
Also.
Davor muss ich Minicom killen und danach kann ich flashen.
Und das funktioniert ordentlich.
Super gut.
Super weird.
Ich weiß.
Aber alles andere war richtig nervig.
Der eingebaute Monitor funktioniert nicht richtig.
Ähm.
Mit nem Serial Terminal hast du das Problem, dass wenn der Flash das Serial Terminal weiterhin
drinnen liest.
Also es ist total ätzend gemacht.
So.
Jetzt muss der erstmal wieder alles kompilieren.
Dauert 3 Stunden.
Und ihr werdet jetzt sehen, sobald der anfängt zu flashen, hört das hier oben auf.
Okay.
Also verbindet sich nicht mehr.
Also ich zeig euch das mal.
Das ist eigentlich ganz, ganz pfeiffettig gemacht.
Also ich hab mir das heute Morgen so aus den Fingern gesaugt.
Also.
Das ist eine Endlosschleife.
Der guckt, ob der Flash Prozess läuft.
Wenn der Flash Prozess nicht läuft, dann startet der Minicom auf die serielle Interface,
wo die Konsolenausgabe von dem Controller ist.
Egal was passiert.
Danach resettet er das Terminal, dass es nicht rumbuckt.
Und äh.
Dann sleept er einfach mal eine Sekunde.
Dass es nicht in der Endlosschleife läuft.
Ohne, dass es nicht in der Endlosschleife hängen kann, wo ein CPU-Core ausgelastet wird.
So.
Und jetzt kann ich das hier.
Jetzt kann ich das starten.
Und.
Jetzt ist es einmalig kaputt.
Weil noch das Arduino Zeug vom letzten Mal drauf war.
Sehr schlau Max.
IIQ Shit.
Und nochmal rausziehen.
Und nochmal reinstecken.
Jetzt können wir nochmal flashen.
So.
Und jetzt.
Was ist denn jetzt schon wieder?
Was ist jetzt?
Funktioniert ja erstklassig.
Ey, warum funzt denn das jetzt nicht?
Rausziehen nochmal.
Und mal rein.
Ah, ich weiß warum das nicht funzt.
Weil da immer noch diese blöden Optionen gesetzt sind.
Die.
Dass das Arduino Zeug komischen Kram macht.
Oder auch nicht.
Wo hab ich denn das gesetzt?
Hier?
Nee.
Äh.
Oh fuck.
Hier?
Irgendwo?
Oder hab ich das doch nicht mehr gesetzt?
Hatte ich das?
USB Mode.
Und das Autocomplete geht auch nicht mehr?
So, was ist denn jetzt hier gerade kaputt?
Ich hab das falsche Profil.
Ich muss Profil laden.
Ich hab die letzten.
Profil IoT muss ich laden.
Ja, dann klappt das schon.
Dann klappt das schon besser.
Und jetzt muss ich noch die C++ Extensions installieren.
Die neu mir installiert sind.
Ja.
Weil ich hab gestern ja meine Visual Studio Code Profile weggeschmissen.
Was sehr schlau war.
Im Nachhinein.
Ich glaube, ich glaube jetzt indiziert er gerade.
Ja, jetzt hat er es erkannt.
Okay.
USB Mode.
Es ist auf Null.
Okay, dann verstehe ich nicht warum das Ding die ganze Zeit abkackt.
Ich muss auf jeden Fall sagen Init Arduino, sonst geht's nicht.
Irgendwas, irgendwas hat...
Ey.
Visual Studio Code.
Was formatierst du da für komische Dinger?
Okay, Flash.
Dachte ich mir, ich kann es euch zeigen.
Easy.
Aber ich hoffe, das sollte jetzt tun.
Reset.
Alter.
Warum ist das jetzt kaputt?
Warum kommt da jetzt in der Ausgabe nichts mehr raus?
Okay, dann machen wir hier.
Log W.
Ja, ist doch...
Ja, keine Ahnung.
Okay, dann machen wir hier Log W.
Log W.
Log W.
Log W.
Log W.
Log W.
Log W.
Log W.
Log W.
Log W.
Log W.
Log W.
Log W.
Log W.
W.
W.
W.
W.
W.
W.
B.
B.
B.
Ok.
Keine Ahnung.
Blub.
Eins, zwei, drei.
Der sollte jetzt eigentlich eine Log-Ausgabe machen.
Der macht aber gerade gar nichts.
Aber er lässt sich flashen, was heißt im Endeffekt, dass er dran ist.
Ach.
Alter, ich bin dumm.
Ja, ihr habt rechts.
Ich führe das nur einmal aus.
Geirr kein Wunder, dass das nicht funktioniert.
Ja.
Gut erkannt.
So, jetzt aber
Ja, jetzt kommt da auch
Zeug raus
Jetzt kann ich meine
Pfeifhederschleife starten, jawoll
Jetzt passt, guckt, und jetzt
Und jetzt kann ich flashen
Dann hört das da oben auf
Flasht, und nach dem Flaschen
Verbindet sich's wieder
Und macht weiter, so soll das sein
So, und jetzt
Hab ich noch was
Ich hab das übrigens wieder sein lassen
Dass man mit Arduino
Also mit Arduino printet man normalerweise so
Auf die Konsole, aber
Das backt richtig rum
Und ich kann euch auch zeigen warum, weil
Das kacke
Programmiert ist, guckt mal
Der ruft unter der Haube diese
Funktion hier auf, wenn Arduino
Versucht sein Serial
Seine serielle Konsole zu initialisieren
Also das macht er unter der Haube, das hab ich nachgeguckt
Und da drinnen
Steht das hier
HW Serial Pins
Needs to be
De-inited in order to allow
Serial to work, Sätge
Also
Das ist alles richtig initialisiert
Dann trennt er die USB Verbindung
Nochmal und stellt sie wieder her
Und das bringt alle möglichen Tools
Durcheinander, weil das Device
Mal kurz für 10 Millisekunden
Weg ist und wieder erscheint
Das bringt alles durcheinander
Deswegen hab ich das jetzt einfach sein gelassen
Mit Arduino und
Serial Printline
Sondern ich verwende einfach das eingebaute Logging
Von ESP
Beziehungsweise ich hab mir überlegt
Wisst ihr was wir auch verwenden können
Was eigentlich eine mega nice
C++ Library ist
Also dass ich sowas sage, ihr wisst ich bin
Der krasse C++ Liebhaber
Ja normalerweise
FMT lib, kennt ihr das?
Also
Für alle die es jetzt falsch verstanden haben
Ich bin immer am Flamen über C++
Und auch zu Recht, aber die Library ist wirklich ganz nice
Und auch zu Recht, aber die Library ist wirklich ganz nice
da ist die haben nämlich versucht die format strings von payson nachzubauen
für c++ da kann man nicht so was hier machen drin zum beispiel guckt format
und dann hier mit diesen geschweißt klammern die haben sich endlich mal
endlich endlich ja hat sich in der c++ welt mal einer gedacht wir gucken uns
was bei einer gescheiten programmiersprache ab und versauen es
auch nicht bei der umsetzung dass dann wieder was rauskommt was viel
beschissener ist und ich habe gesehen dass es den ganzen kram sogar als
fertige esp verpackte esp edf library gibt das braucht man nicht wirklich man
kann einfach den geht den gibt ordner klonen in das richtige verzeichnis aber
wenn man das über den eingebauten package manager machen kann von esp
warum nicht ja jetzt einfach mal hätten wir jetzt gucken uns das ganze an
ja
ist es auffällig mit dem unternehmen und zu machen dass da jetzt bei einer
gescheiten praxis auftritt und dass man etwas be wusste dass ich das tatsächlich
machen könnte deshalb muss ich das mal genau Frauen hinzufügen
die müssen ich aber auch kann ich das auch mal wieder alles gesagt haben
es gibt nämlich hier ein gremium einen gremium von 20 tagen auf die prozent
und dieожет sich vom gremium ein und aus exakta alle das heißt wir machen jetzt
Zeile hier oben durch, die so nach
hier, jetzt schon wieder.
Das Problem ist, ich, das macht
so viel Log-Output.
Woher?
Da kann ich gar nicht durchscrollen, so viel
Log-Output. Oh, hier, da war es doch.
Was hat er?
The following task
does not reset the Watchdog-Timer. Ach so,
ja, weil ich eine Endlosschleife
Print habe. Das mag der nicht so gerne.
Da kann der nichts anderes
machen. Also mit einer Endlosschleife Print
kannst du beispielsweise kein
Wi-Fi benutzen, weil der eben nicht
die, weil der nicht genug
CPU-Zeit frei hat für
Wi-Fi und ZigBee. Das müssen wir dann anders machen.
Aber ich, ich meine, ich werde auch
keine Endlosschleife Print im
fertigen Projekt laufen haben.
So, jetzt habe ich das
gebildet. Hat er jetzt gecheckt, dass FMT-Lib
da ist? Ha, hat
er nicht. Warum nicht?
Er hat das doch installiert, oder?
Managed Components?
Ne, hat er nicht.
Hat es nicht funktioniert?
Endlosschleife ist auch undefined
behavior, korrekt.
Ähm, wo ist es denn?
Sollte ich vielleicht mal
ein cleanes Bild machen oder so?
Wir machen mal, komm, wir machen mal
ein cleanes Bild.
Manifest files have changed. Solving dependencies.
Ja, mach mal.
Heißen die Header-Files anders? Welche?
Ne, die heißen
FMT, das weiß ich, dass die FMT heißt.
Ich glaube, ich muss einfach ein neues Bild machen
und dann ist es gut.
Bückt ihr die automatisch hinzu?
Ich gehe davon aus, ehrlich gesagt,
wenn es über den offiziellen
Library Manager installiert werden kann.
Weil ansonsten ist die Frage, was ist der
Vorteil von dem offiziellen Library Manager
versus Git-Clone?
Ich benutze C++23,
aber leider
sind die ziemlich pepega
und die haben
FMT, ach hier, jetzt hat er es gefunden, ja.
Die haben das nicht in der Standard-Library
mit drin. Obwohl sie
C++23 unterstützen.
Die unterstützen FMT nicht.
Oder, wie heißt das? Standard-Format
heißt das, gell? Haben die nicht drin.
Noch nicht mal, noch nicht mal
unter, das ist halt
wieder die Scheiße, da komme ich jetzt wieder ins
Renten, das ist halt wieder die Scheiße an
C++-Standards. Es gibt
zwar einen Standard, der ist aber so
dreckig mies, dass
keiner sich dran hält. Was ich auch verstehen
kann. Weil das sind nicht mal die Typen
selbstwissen, die den Kram sich aushacken,
was da eigentlich Sache ist.
So, genug aufgeregt.
Wie es besser geht,
und ich hätte nicht gedacht, dass ich das mal sage, sieht man
bei Javascript. Javascript
hat immer noch ganz viel furchtbar wirre
Sachen, aber die Sprache ist kontinuierlich
besser geworden die letzten Jahre.
C++ ist einfach nur immer wirrer geworden.
FMT,
hier Printf,
können wir das da mal inkluden.
Und da kann man jetzt sagen, hier anstatt
SMP-Log kann man da zum Beispiel sagen,
FMT, Printf,
ja, keine Ahnung.
0,
1, oder so.
Wobei man nicht mal Printf sagen muss,
sondern irgendwas. So, und jetzt flashen wir
das Ganze mal.
Flashchamp.
What? Alter,
was?
Der ESP32-6
hat ein Zigbee-Modul dabei, ja.
Das ist auch der einzige Grund, warum ich das Ding kaufe.
Was möchte es mir
sagen jetzt gerade?
Die Musik ist zu laut gerade.
Die Playlist ist
schlecht gemacht.
Die Positiv...
Okay, das positive
Beispiel, obwohl du es nicht hören wollen willst,
ist Java. Da ist man bis zur ersten
Version so gut wie abwärtskompatibel, also
bringt es so langsam mehr Qualität.
Also das Problem ist, dass Java immer noch eine
Kacksprache ist.
Trotzdem Verbesserungen. Aber du hast
insofern schon recht,
die haben es auch auf die Reihe gekriegt, die Sache
besser zu machen. Go ist auch
ein ganz gutes Beispiel. Die haben
auch ein paar Sachen,
verbessert, was richtig abartig war.
Wobei ich immer noch nicht verstehe, wer
sich diese Generic-Implementierung ausgedacht
hat, oder diese
Generic-Umsetzung und dann gedacht hat,
ja, das ist geil, das muss da rein. So, also
was ist denn hier das Problem jetzt?
Ach so, ich glaube, das liegt daran, weil ich
das vor Arduino, äh, nach
Arduino, äh, included habe. Das ist auch
so ein Ding. Dieses Problem hast du
nur in C++ so einen Scheiß. Nur.
Reihenfolge von Header
includes. The fuck, Alter?
Wir sind im Jahr 2004, guck, jetzt funktioniert's.
Wir sind im Jahr 2024,
Alter. Da ist, seriously,
die Include-Reihenfolge
macht was aus.
Das ist einfach so hirnverbrannt
und dämlich und asozial.
Diese Sprache ist unglaublich.
Also, was ist denn jetzt, äh,
warum printet der da das jetzt nicht richtig?
Hab ich das hier falsch gemacht? Sollte
der nicht eigentlich, glaube ich,
macht das falsch. Vielleicht muss man auch
gar nicht printf machen. Kann man
printeln oder sowas?
Ich bin mir gar nicht sicher, wie man das
überhaupt benutzt.
Boah, Alter, wie fett ist
What the hell?
Wie fett, jetzt, jetzt geht's.
Wie fett ist denn meine Firmware auf einmal?
Alter,
so groß habe ich die Library, aber
ich
ich
werde doch nicht die Hälfte meines
Flash-Speichers verschwenden, dafür, dass
ich eine ordentliche Logging-Library oder
eine Format-Library verwenden kann.
The fuck?
Guck mal, okay.
Also, die Firmware ist gerade, äh, 430k.
Mein Flash, jetzt, oh, ne Mist, mein Flash ist 520k groß.
Ich hab, ich hab jetzt noch 90k frei für mein eigentliches Programm.
Das kann's ja nun wirklich nicht sein.
Also, 430k, und jetzt kommentieren wir das mal aus.
Ich hoffe, C++ ist so schlau und checkt das, wenn ich das auskommentiere,
dass er es dann nicht einkompiliert.
Deswegen ist FNT Standard, ja, das kann schon sein, ja.
So, mal gucken.
Wie jetzt?
Oh, Flash-Champ.
Warum genau ist das jetzt kaputt?
Ah, weil ich eine Endlosschleife habe, die nichts macht.
Das mag der gar nicht.
Das, das mag der gar nicht.
Da hat er was dagegen.
Okay.
Guck mal.
135, aber das ist immer noch ganz schön viel.
Warum ist das denn so fett?
Warum ist meine Firmware so groß?
135k?
Da ist doch, es ist, es ist nichts, es ist nichts dabei.
Das verstehe ich jetzt aber nicht wirklich.
Ist nichts dabei, ist nichts included.
Warum ist das so dick?
So fett.
Ist OS an.
Ich habe die Default-Settings vom Projekt, also ich denke mal, es ist alles so, wie es sein muss.
Aber so fett habe ich das eigentlich nicht in Erinnerung.
Vielleicht doch, doch, ohne Mist, doch, ich glaube schon.
Ich meine, wir dürfen es nicht vergessen.
Da ist USB-Zeug mit dabei, WiFi-Zeug mit dabei, ZigBee-Zeug mit dabei, wobei das alles nicht benutzt wird.
Doch, das kann schon sein, dass die Base-Firmware 135k ist.
Da ist, äh, AirToss dabei.
Doch, doch, doch, ich glaube, das kommt hin.
Ich glaube, das kommt hin.
Aber trotzdem, das ist ja ein mega krasser Unterschied.
Guck mal hier.
Das ist die Logging-Library, die 300 Kilobyte.
Ey, das kann doch so nicht gewollt sein.
Kannst du einen Link posten?
Klar.
Ja, Musik-Link.
Ich höre das gerne, sowas.
Das ist mega entspannt.
Äh, FMT-Lib, Reduce Size.
Da kann man bestimmt irgendwelche obskuren, ähm, Compile-Flags oder so setzen.
Reduce Binary Size, Reduce Library Size.
Das klingt doch schon mal gut.
Was?
Hier gerade, schmeißt den Kram raus.
Was?
Kann man das aufmachen?
Äh.
Was, was bin ich hier sehend gerade?
Der Link ist broken.
Ja, würde ich auch sagen.
Kann man doch bestimmt die Size reducen.
Irgendwelche komischen Compile-Flags-Git-Hub-Issues.
Reduce Binary Size.
How to minimize the size.
Das klingt doch gut.
I'm evaluating FMT for microcontroller code.
Exakt, das mache ich auch gerade.
Äh, what?
Äh, na, na, na, na, na, na, na, na, na, na, na, na, na, na, na, na, na, na, na, na, na.
Nano-Lib.
Okay, Odolmit, was schreibst du da?
Chatge.
High IQ, C++ Chatge.
Schmeißt das raus.
Und benutzt Ion.
Alter.
Nee.
Warum?
MonkaS.
Nee.
Das ist ein Print-Template.
Damit kannst du weder Zahlen ordentlich formatieren.
Noch, nee, das funktioniert nicht richtig.
Das ist nicht so schön wie das andere.
Ähm.
Ach, guck mal hier.
Hier steht ein bisschen was.
FMT Static Thousand Separator soll man setzen.
Aha.
FMT Compile.
Das Wanders.
Alles klar, was auch immer FMT Compile macht.
Okay, hier hat er.
Hier hat er Size Comparison.
Okay, also.
No Defines.
Sein Flash ist 201, äh, 212 K.
Ja.
Mit das hier definiert ist es nur noch 52 K.
Und mit dem anderen definiert nur 33 K.
Und mit FMT Compile sogar nur 16 K.
Wann machst du wieder Stellenanzeigen?
Haben wir letztens im Stream erst gemacht.
Auf YouTube.
Ach so.
Gute Frage.
Wird echt mal wieder Zeit.
Okay, was für Options kann man setzen?
Minus D, FMT Static Thousand Separator.
Okay, Chat.
Ich brauch eure, eure C, C-Make Skills.
Wie geht das?
Hatte ich da nicht irgendwie Add Compile Time Definitions?
Doch, genau so.
Haha.
Ich hab's noch in der History gehabt.
So, und dann machen wir wahrscheinlich Minus D weg, vermutlich.
Was, was hat er sonst noch?
Ich kopiere mir das mal alles rüber.
Na, guck mal, wie viel.
Also, wir vergleichen das jetzt mal.
Die Firma jetzt aktuell war, äh, 430 K.
So, jetzt gucken wir mal, wie weit, wie, wie, kann man hier mehrere Sachen reinschreiben?
Oder muss man da immer eins brauchen?
Eins pro Zeile machen?
Hat irgendjemand einen Plan von C-Make?
Kann man, darf man sowas hier machen?
Oder geht das nicht?
Muss man das alles einzeln machen?
Probier das jetzt einfach mal.
Mehr als, mehr als Compile-Fehler schmeißen kannst du ja nicht.
Das geht?
Okay.
Ähm.
Okay, wir verwenden immer einen Punkt als, warum auch immer das so viel, warum, warum
spart ein Hardcore, Hardcoded Thousand Separator so viel, so viel Speicher angeblich?
Egal, Flash.
Flash.
Der wird das jetzt noch mal neu kompilieren, weil ich in meinen C-Make-Configs rumgespielt hab.
Jetzt bin ich mal gespannt.
Pregel-Chat.
Lasst uns mal eine Runde pregen im Chat.
Erstens ist Ostermontag, ja?
Mich das ein bisschen interessieren würde.
Und zweitens hoffe ich, dass es jetzt kleiner ist, dass ich eine ordentliche Output-Library verwenden kann.
Ich baue einen Zigbee-Temperatursensor.
Pregel.
Ich hoffe, dass es eine vernünftige, benutzbare,
größe hat am Ende.
Ich hoffe vor allem, es kompiliert erst mal.
Hat schon so ein paar komische Warnings.
Okay.
Und wie groß, wie groß ist es jetzt?
135K!
Moment.
135K zu 430?
Alter!
Moment, das ist so viel, das ist, das ist jetzt nur...
Äh.
Ich bin, ich bin ein Kack-Noob.
Ich hab das, ich hab nichts davon einkommentiert.
Ich bin ein Kack-Noob.
Kein Wunder, dass es genauso groß ist wie vorher.
Hahaha.
Hahaha.
Hahaha.
Ja, okay.
Ja, ja.
Ja.
Ja.
Okay.
Machen wir, machen wir nochmal sowas hier.
Ähm.
War...
Ja.
Wollen wir mal Output gleich.
Wie geht das?
Standard Format.
Kann, kann Visual Studio auch sowas wie import?
Ne, es ist zu dumm für...
Include.
Ja.
Fmt.
Format.
Ne, äh.
Was muss man da?
Fmt.
lib.
Example.
Was muss man da überhaupt importen?
Include.
Fmt.
Core.
Okay.
Standard Format.
So.
Und da jetzt 69.
Ach, Moment.
Wir sind ja in, nicht in, in C-Sharp.
Wir sind ja in...
Ah, es ist, es ist Fmt.
Okay.
So.
Und da jetzt 69.
Ach, Moment.
Wir sind ja in, nicht in, in C-Sharp.
Wir sind ja in...
Ah, es ist, es ist Fmt.
Okay.
So.
Okay.
Okay.
So.
Und wie kann ich das jetzt mit diesem Log-Ding hier ordentlich ausgeben?
Kann ich jetzt einfach sagen, Output, das frisst doch bestimmt keine C++-Strings oder
so.
Ne, natürlich net.
Expected is, es frisst keine C++-Strings.
Also muss ich wahrscheinlich sagen, C-String oder sowas?
Das funzt auch net.
Hm.
Weil Template Magic.
Ah.
Wahrscheinlich, weil Format.
Jetzt muss ich wahrscheinlich %s machen.
Ist jetzt richtig eklig.
Aber ich hoffe, dass, ich hoffe, dass, das muss ich rappen in irgendeine Funktion oder
so noch.
Warum halte ich mich eigentlich schon mit Gelogge wieder so lang auf?
Import Order.
Ja, scheint zu stimmen.
Alter, ich glaube, ich muss das Sleep ein bisschen länger machen.
Guck mal.
Es ist jetzt nur 165.
Es ist, es ist quasi nur circa 30k größer jetzt.
Ja, das, damit kann ich das auch machen.
Okay.
Ja, das, damit kann ich leben.
Besser als 330 Kilobyte mehr.
30 Kilobyte ist okay.
So, und was schreibt der andere jetzt noch?
Irgendwas mit Compile soll man noch machen?
FMT Compile?
Ne.
Wat?
FMT Compile?
Was ist das?
FMT Compile?
Hä?
Converts a String Literal into a Format String that will be parsed at Compile Time.
Ah, okay.
Weniger Runtime-Geschiss.
Das macht es.
Moment.
Sachen zu Compile-Time und in den Flash-Einkommen bald macht es kleiner angeblich?
Hä?
Okay.
Also, wie ging das jetzt?
FMT Compile hier drum herum.
Geht nicht, weil das nicht bindet.
Muss ich da irgendwas includen für?
Es wäre mega geil, wenn das so was hätte wie Aufnahmen auflösen.
Ja, aber das gibt's ja nicht in C++.
Import.
Ist das da ein Beispiel?
FMT Compile.
Aha.
Guck mal da.
Compile muss man includen.
Machen wir mal so rum.
Geht das jetzt?
Hey, es funzt.
Nice.
Okay.
Wir haben jetzt 165k.
140k nur.
Moment.
Wie groß war es ursprünglich mal?
Guck mal.
Ursprünglich war es 135k.
Das ist 5 Kilobyte ist die Library nur groß.
Jetzt.
Ja, damit kann ich leben.
5 Kilobyten dafür ordentliches Logging ist doch oder ordentliches String Formatting ist doch.
Das ist es schon wert.
Das ist schon okay.
Ist aber schon krass, oder?
Von, keine Ahnung, 300 Kilobyte auf 5?
Chat.
Ich habe noch eine Idee.
Aber es ist doch dumm.
Wenn man das jedes Mal.
So hier machen muss, wenn ich was ordentlich printen will, oder?
Kann man das nicht als Template bauen?
Oder als als als Preprozessor Makro oder irgendwie sowas?
Kann ich jetzt nicht der eigene Log Funktion machen?
Wieso die Fein Log oder so?
Und dann?
Boah, keine Ahnung, wie das funktioniert.
Irgendwie.
Whatever.
Können uns mal dieses Makro davon angucken.
Aha, das klauen wir uns.
Jetzt einfach.
Logge.
Das klauen wir uns einfach und machen unser eigenes Log.
Guck mal hier.
Das heißt jetzt nur Log.
Bam.
Oh.
Log Tag Format.
Ja, was?
Was macht denn das unter der Haube eigentlich?
ESP Log Write.
What the fuck?
Was macht das?
ESP Log Write.
Okay.
Also.
Also.
Also.
Also.
Also.
Also.
Also.
Also.
Also.
Also.
Also.
Also.
Also.
Also.
Also.
Also.
Okay.
Lasst mal gucken.
Wie geht das?
ESP Log Write und dann?
Log Level.
Ja, zwei.
Was auch immer.
Dann hier irgendein Tag.
Tag w.
Format.
Sowas dann.
Ne, Moment.
Haha.
Ne.
Ne.
Ne.
Ne.
Hmm.
Und dann hier irgendwie das Argument.
in einem Makro
funktioniert.
Also.
Lass mal überlegen. Wie kriegen wir
sowas in ein Makro rein?
Also eigentlich wollen wir im Prinzip das da machen.
Wir wollen aber dieses
komische Format hier noch einbauen.
Kann man da
sowas hier? Okay, machen wir das mal.
Das wird was, Leute.
Lul.
Okay, machen wir hier sowas hin.
Lock. So.
So. Kek. Kek. W.
Format. Lul.
Ne, Format muss das da sein.
Und dann
Zahl 69.
So, das wird aber so nicht funktionieren.
So, Output. FMT.
Compiling. Warum
funktioniert das jetzt nicht?
Expected Identifier.
Wollen wir vielleicht das da hinten weg machen?
Expected Identifier.
Ich habe legit
nichts.
Den Hauch einer Ahnung.
Warum das
nicht funktioniert?
Mach das mal weg. Vielleicht konfliktet das irgendwie.
Expected Identifier.
Expands to.
Obviously. Alles klar.
Es ist einfach ein
Genuss immer diese Sprache zu lesen
dann, ja. Okay, Leute.
Ich habe keine Ahnung.
Wie man da ein ordentliches Makro
draus definiert. Ich meine, von der Idee her
würde ich jetzt quasi hier dann reinschreiben
ähm, ja.
Format, ja.
Ah, ich weiß, woran das liegt.
Guck mal. Format und Format
heißt das hier. Das nennen wir
erstmal FMT.
Expected. Das ist schon mal
eine andere Fehlermeldung jetzt.
Expected, das sind die Kolonien. Okay.
Ach, FMT habe ich auch drin.
Okay, F. Das heißt einfach nur F.
Press F.
Hey, das funzt.
Ha! So, und jetzt loggen das Ganze.
Okay, und jetzt
loggen. Oh, das macht sogar
automatisch Zeilenumbruch.
Und jetzt waren wir hier.
Moment.
Äh.
Fuck. Äh.
Ne, wie war das jetzt?
Prozent S.
Output C-String.
Int ist
inkompatibel.
Äh, was muss denn da rein?
Ach, ein ESP-Log-Level.
Ist das sowas wie
ESP-Warning oder sowas?
ESP-Log-Warn?
Hey!
Angeblich funktioniert das.
Ey, wenn das jetzt funzt, lull.
Okay, testen wir mal.
Eins, zwei, drei.
Custom Logging Function.
Hat uns keinen Schritt näher zum funktionierenden
ZigBee-Device gebracht, aber whatever.
Post-Shot?
Äh.
Nicht wirklich?
Ach so, hardcoded. Moment, ich hab noch
keine Argumente.
Also es funktioniert, aber ich hab noch keine...
Ah ja.
Ähm, hier muss dann quasi...
Wie krieg ich denn jetzt hier die...
Wie krieg ich denn jetzt hier diese Punkt, Punkt, Punkt?
Muss ich das da reinschreiben?
V-Args?
Und ich glaube, hier machen wir jetzt wieder ESP-Log-W
draus und machen das weg.
Oder Log-I-Info
für Default.
Geht das? Oh, nice, nice, nice.
Wir haben richtig C++-Experts hier noch.
Und? Und Postchimp?
Postchimp?
Ha!
Es geht einfach, Leute.
Es geht einfach.
Custom-Logging-Makro. Easy.
Easiest Makro of my life hier.
Easy as fuck.
E-E-Easy as...
Easy as...
Easy as fuck.
Easy.
Get rekt.
C++-Compiler.
Nice, guck mal, jetzt können wir so loggen.
Ist doch viel nicer als so hier.
Guck mal, ha.
Fuck.
So ist es nice.
Und wenn wir jetzt noch richtig, richtig, richtig
echte Professionals sind,
dann...
Dann...
Ach so, was passiert eigentlich...
Eigentlich, wenn ich jetzt sage,
log
kekw als Tag zum Beispiel
und jetzt hier nur
lul ausgeben will, geht das dann auch?
Log mal zwei Zeilen, da hast du recht.
Ja.
Scheint zu gehen.
Ne.
Ah! Conflicting Declarations.
Shit, ich leg jetzt ja die gleiche
Variable mehrfach an.
Kannst du, ähm,
das nicht noch hardcon?
Ne, das bleibt nicht.
Weil, wenn ich mehrere Optionen habe,
dann brauche ich zweimal sowas.
Ähm...
Wir können einfach das da nehmen,
das hier wegschmeißen
und
das da reinschreiben.
Dann sollte es mehrfach funktionieren.
Postchamp?
Ha!
Aber was ist denn jetzt, wenn ich, wenn ich einfach
nur sage, log
und dann, ähm, ja, 1, 2, 3
zum Beispiel, so.
Expression must have
point to...
Okay, ich muss dir sowas machen.
Expected an expression...
Ja, das funktioniert jetzt nicht.
Weil,
es keine Argumente gibt,
aber hier
das Komma davor steht.
Das ist natürlich blöd.
Komm, irgendwie so was wie
leading Komma oder sowas?
Nicht loading. Leading Komma?
End Kommas.
Ja, excellent.
Template.
Ich will kein Template.
Geh weg.
To define an additional
Makro-Parameter?
Ne.
Zwei Makros. Es gehen keine zwei Makros.
Man kann keine zwei Makros
mit dem gleichen Namen machen.
Trailing Komma.
Ja, es ist Trailing Komma. Ich will eigentlich Leading Komma haben.
Das funktioniert nicht.
Man kann nicht das gleiche
zweimal definen.
What?
Ne, ne, ne, ne, ne, ne, ne.
Moment, was ist...
Was ist der GCC...
Moment, was ist der GCC
Raute-Raute-Trick?
Hä?
Jetzt geht's.
Diese Sprache, Mann.
Das kannst du dir nicht ausdenken.
Das ist so ein
Bullshit, Alter.
Das ist so ein Schrott, Mann.
Warum existiert
dieser Shit überhaupt, ey?
Es ist so schlecht.
Ist das scheiße, Alter.
Okay, das ist jetzt tatsächlich,
nicht mal C++-Geflame.
Aber what the hell?
Okay, bestes Makro aller Zeiten haben wir jetzt.
Das reicht jetzt. Jetzt machen wir mal ZigBee.
Wir können jetzt noch...
Okay, eine Sache machen wir noch.
Wir definieren uns jetzt eigene Log-Dinger.
Wir sagen jetzt Log...
Log-Error. Log-Warning.
Machen wir ein Underscore. Komm, machen wir ein Underscore.
Log-Error. Log-Warning.
Log-Information.
Äh... Log...
Keine Ahnung. Anderes brauche ich nicht.
So, und das hier wird Log-E.
Log-W, Log-I
und Default
ist Log-I. Okay.
Wobei eigentlich, guck mal, wir können
das hier aus... abkürzen.
Wir können einfach sagen, Log
ist einfach nur auf Log-I.
Fertig. Ah, das funktioniert.
Warum?
Ah, weil das Log-Anderscore-I ist.
Ja, das ist nice, oder?
Das ist cool. Jetzt kann man
zum Beispiel hier sagen,
Log-E.
So, da muss ich hier reinschreiben.
Keine Ahnung. Setup. Wo wir gerade sind.
Dass wir das im Log gescheit sehen.
Format will ich
nicht haben. Ich werde einfach nur ausgeben.
Cute Chat. Ah, ja, ja.
Dann wird das Ganze geflasht.
Und dann
gibt es ordentliche Ausgabe.
Hoffentlich.
Und Postchamp. Nice.
Jetzt können wir doch anfangen,
oder? Jetzt haben wir gescheit
Log-Ausgabe. Ich mache jetzt mal was,
wo ich mir nicht sicher bin,
ob das C++,
die C++-Experten so anerkennen.
Weil mir das ein bisschen viel Geschiss ist.
Defines.h
Kann man sowas machen?
Dass ich einfach jetzt diesen ganzen
Schmodder hier, den ich eh überall
haben will, da reinpagge
und jetzt sage,
mein irgendein Vorteil von
Header muss die ja haben.
Ich gebe die Header, Alter.
Und dann ist das
ein bisschen cleaner.
Wobei das garantiert wieder
Probleme macht, wenn ich das im zweiten Pfeil
inklude und sowas, dann spackt das wieder rum.
Weil dann irgendwie
kreisförmige Abhängigkeiten
zu Headerern und dann ist wieder alles kaputt.
Richtig viel Schrott-Sprache.
So.
Nice. Excellent.
Jetzt können wir ZigBee machen.
Jetzt haben wir ein funktionierendes
Programm.
Das können wir übrigens löschen.
Der
Dependency-Jab-Log.
Jetzt können wir tatsächlich anfangen.
Das löschen wir mal wieder.
C-Line werde ich damit nochmal benutzen.
ES-Code.
Alles klar.
Mach wenigstens ein Include-Guard.
Dazu müsst ihr erstmal wissen, was ein
Include-Guard überhaupt ist.
Vielleicht hat es ja auch... Oh.
Was?
Wie jetzt? Warum nicht?
Hä? Bild.
Ja, doch. Funktioniert.
Was hat das jetzt hier wieder für
Schmerzen? Warum mag das jetzt nicht?
Ich meine, es funktioniert doch offensichtlich.
Das liegt bestimmt an irgendwelchen Visual Studio Code-Geschiss hier jetzt.
Weil das irgendwas nicht richtig Includet.
Schreib oben in die Header-Datei pragma-once.
Okay, und das sorgt dann dafür, dass ich nichts mehr doppelt
includen kann. Hä? Moment. Und jetzt ist der Fehler auch weg?
Okay, C++. Ich checke es nicht, aber soll mir recht sein.
Schnullerluller.
Schnullerluller.
Schnullerluller.
Schnullerluller.
Schnullerluller.
Schnullerluller.
Schnullerluller.
Schnullerluller.
Schnullerluller.
Schnullerluller.
Schnullerluller.
Schnullerluller.
Schnullerluller.
Schnullerluller.
Danke für den Ab.
Klassiker Lord hat resubscribed.
Hab ich gar nicht gesehen.
Bist du noch da, danke für den Sub.
Puzz gemeister habe ich gestern übersehen, noch.
Massive Subscribers wieder.
Pog.
So, also dann wollen wir uns doch mal beschäftigen.
Mit Sigbih auf dem Sp 32.
32C6.
Ich habe gesehen, da gibt es
Examples. Ach ja,
wie definiert man eigentlich in CMake
gerade dabei sind, seinen C++
Standard? Also ich glaube, wir haben
den aktuellsten C++ Standard. Das
sieht man ja irgendwie hier, weil
wie sollte es auch anders sein?
Ist die Version 2021
00 selbstverständlich
C++ 2023?
Logisch. Alles andere ist in dieser
Dreckssprache ja zu
obvious.
Aber wir haben, glaube ich, das müssen wir nicht
setzen. Wir haben C++ 2023.
Okay, also ZigBee
Examples.
ZigBee
Examples.
ZigBee
SDK
Examples.
ZigBee Home Assistant
Examples. Soll mir
auch recht sein.
Ein Temperature Sensor. Guck mal!
Es ist wie gemacht für mein Projekt
hier.
Partitions. Brauchen wir nicht.
Der Tag ist noch hardcoded im Makro.
Echt?
Oh ja, richtig.
Pass auf.
Äh, Moment, Moment.
Äh, wie macht man nochmal
Multi-Dings-Select in
Visual Studio Code? Ich bin gerade etwas
so.
Äh, okay.
War das nicht mit...
Ah.
Ah, okay.
Passt.
Äh, Tag einfach nur.
So.
Sehr schön. Also, ZigBee
Examples. Temperature Sensor.
Wir machen mal diesen ganzen anderen Shit hier zu.
Temperature Sensor C.
Temperature Sensor H.
Was hat er hier definiert?
Alles?
Okay, keine Ahnung. Wir müssen uns
mal das Programm angucken. Main.
Einklappen.
Okay, App Main.
ESP
ZB Plus.
Platform Config T.
Config Flash
Init. Das macht er wahrscheinlich,
wenn ich Init Arduino schon mache,
gehe ich immer ganz stark von aus, ja.
Das brauche ich nicht noch machen.
Okay, ESP
Plattform Config.
Ich copy-paste mir den ganzen Kram mal.
Die Schleife hier brauchen wir nicht.
ESP Plattform Config
muss importiert werden. Ist garantiert
nicht da.
Add Include ZB Config
Plattform H.
Okay, guck mal, da hat man was erkannt.
Äh, Radio Config.
Ach, das hat er jetzt, das hat er jetzt im Header.
Warum, warum
muss sowas ein eigener Define
sein? Das ist ja super, super weird.
Das schreiben wir einfach so rein.
Da muss was rein?
Radio Mode Native.
Radio Mode Native.
Wobei, stimmt das
überhaupt, was ich da mache?
Nee.
Das muss so ein komisches...
Was ist das für ein komisches
Konstrukt? Ist das irgendwie ein
gerapptes Struct im Struct
oder so?
Muss ich das jetzt irgendwie so machen und dann
Conf... Nee, hä?
Gleich mit einem Punkt?
Okay, Radio Mode.
Okay, Auto Complete hilft mir hier nicht.
Was?
Radio Mode
Native.
Warum macht das denn da...
Was ist das für ein hässlicher Auto-Format?
Ja, mach mal so.
Und da...
Chat hat irgendjemand eine Ahnung von euch,
wie man das hier schöner macht?
Das sieht doch mega hässlich aus, hä?
Host Connection Mode.
Host Connection Mode muss
Host Connection Mode None.
Was sonst? Logisch.
Obviously.
Flash Init kommt wieder weg.
ESP Check lässt das Ding, glaube ich,
crashen, wenn es nicht funktioniert.
Okay.
Schauen wir mal, ob es bis dahin funktioniert.
Das ist ein Struct, ja?
Kann man das denn irgendwie schöner machen,
so das zu initialisieren?
Ineinander?
Ich meine, so schlecht sieht es eigentlich nicht so schlimm sieht es gerade aus.
Oh, es hat nicht funktioniert.
Was?
Undefined Reference to ESP
Platform Config.
What?
Wie jetzt? Da ist es doch.
Nix undefined.
Da ist es doch.
Hä?
Fehlt eine Library?
Das ist das eigentlich...
eigentlich Default, oder?
Ach, wisst ihr, was sein kann?
Dass ich SIGBEE erst noch aktivieren muss.
SIGBEE?
Hier, Enable SIGBEE ist aus.
Ähm, wo ist das hier offiziell?
Drunter unter...
unter...
Component Config SIGBEE vielleicht?
Geht hier sowas?
Component Config SIGBEE?
Nee, oder?
Äh, wo könnten das jetzt drunter sein?
Piler Options bestimmt nicht.
Bluetooth?
Ich hab's nicht gesehen.
Ach, da ist es doch!
Das war so offensichtlich,
weil ich den Mauszeiger drauf...
also, beziehungsweise das Ding drauf hatte.
Ich hab's wirklich nicht gesehen, äh.
Der Chat denkt, ich verarsche.
1. April, can't wait.
Okay, Configure SIGBEE Device.
Was haben wir zur Auswahl?
SIGBEE Green Power Enable.
Was ist SIGBEE Green Power?
Es ist jetzt nicht so, als braucht es normalerweise.
Äh, Green Power ist gut.
Das klingt nach weniger Strom.
Ich will das Ding eh mit der Batterie betreiben, also, alles gut.
SIGBEE Device Type.
Koordinator, Router Device, End Device oder Green Power Device.
Was ist ein SIGBEE Green Power?
Green Power is a feature of SIGBEE that allows for energy harvesting technology.
Ach so.
Nee, das brauchen wir nicht.
Das ist unsinnig.
Wir sind höchstwahrscheinlich ein End Device, würde ich mal vermuten.
Ich hab keine Ahnung von SIGBEE.
Jetzt kann man Green Power auch gar nicht mehr einschalten.
Okay, save.
Und jetzt nochmal bilden.
Ich hoffe, dass das jetzt funktioniert.
Dass wir jetzt SIGBEE...
Ist ja was, was ich nicht so genau verstehe.
Ich hab doch hier letztens ESP-IDF...
Die haben doch so einen SIGBEE-Wrapper, mit dem es angeblich einfacher ist, SIGBEE-Sachen zu erstellen.
Vielleicht sollte man lieber den verwenden.
Hier, ESP-SIGBEE-Lib, vor 8 Stunden geupdatet.
This component contains a binary library.
By supporting the ESP-SIGBEE-Lib, it provides most of the ARPs that users could use in SIGBEE-Products.
Project Development.
Ja, aber...
Das checke ich jetzt nicht.
Moment, Binary Shit?
Moment, ich glaube, das habe ich schon, oder?
Habe ich das nicht alles schon?
Nee, keine Ahnung.
Was...
Keine Ahnung, was die da alles definen, äh...
Ich hoffe aber, das habe ich einfach alles schon, ja?
Und muss nicht nochmal extra installieren.
Okay, Exempel.
Also, er crasht uns zumindest nicht.
Äh, was?
Undefined Reference?
Immer noch?
Obwohl ich SIGBEE enabled habe?
Moment, ist das vielleicht auch in dieser...
Ist das auch da drin?
Und ich muss das...
Ich muss wirklich diese...
Ja, da steht ja aber nirgends wo.
Ich muss echt diese...
Vielleicht wirklich...
Vielleicht muss ich auch noch diese Library hier installieren.
Aber woher weiß ich das?
Einfach...
Einfach ausprobieren?
Ich installiere die jetzt einfach und gucke, ob es dann funktioniert.
SIGBEE.
Build.
Durch geht's jetzt, ja?
Okay, erstmal wieder das halbe Internet kompilieren.
Logisch, logisch.
Aber...
Okay, ja, ja, guck mal.
Der kompiliert jetzt schon irgendwelches neues Zeug.
Ist das jetzt wieder Arduino?
Undefined Reference.
Ich hab keine Ahnung.
Wo kommt...
Wo kommt das her?
Was...
Was muss ich includen?
Was muss ich machen?
Was ist das?
Nochmal.
Menu Config.
Habe ich das irgendwie nicht richtig gespeichert?
SIGBEE.
SIGBEE ist enabled.
Antivice.
Kein Green Power Device.
Warum geht das nicht?
Okay, was...
Was includen denn die Jungs hier noch in ihrem...
Also Chat, wenn ihr irgendeine Idee habt, ne?
Nur her damit.
Was includen die hier noch?
ESB SIGBEE Core.
Das habe ich noch nicht.
Das habe ich noch nicht included.
Nein, nicht.
Menu Config nochmal im Bild.
Das jetzt nochmal.
Oder ansonsten, was haben die sonst noch?
Das können wir auch nochmal includen.
Warum nicht?
Temperature Sensor können wir auch alles includen.
Das nicht.
Das nicht.
Das auch nicht.
Auch nicht das hier.
Achso, das ist der Header-File davon.
Ey, Moment, jetzt ging's.
Jetzt hat's gebildet gerade.
Was war's denn jetzt?
Das sind die offiziellen Espressif Beispiele.
Jetzt ging's.
Flash.
Okay, irgendwas davon war's wohl.
Okay, er crasht nicht.
Er crasht nicht.
Das... Das macht mich...
Das stimmt mich schon mal zuversichtlich.
Okay, wie geht das jetzt weiter hier?
Wollen wir den ganzen Krempel zumachen.
Wie geht das jetzt weiter?
Also, äh, jetzt wird's...
Das haben wir gemacht.
Jetzt erstellt er einen neuen Thread.
Das bin ich mir nicht sicher, ob das notwendig ist, weil...
Doch, wahrscheinlich ist das notwendig.
Dass der, ähm...
Nicht hängt hier irgendwie in Main.
Es hat zwar nur eine CPU, aber das hat Airtos drunter.
Das kann doch so ein bisschen minimales Thread-Management...
Das ist was...
Okay, wahrscheinlich brauch ich das nicht.
Aber wenn ich...
Wenn ich noch Bluetooth oder WiFi zusätzlich verwenden will, dann muss das ziemlich sicher in einem eigenen Thread gestartet werden.
Wir lassen das mal weg.
Mal gucken mal, wie weit wir kommen.
Initialize the ZigBee-Stack.
Let's go.
Der ZigBee-Stack wird initialized.
Wir machen mal hier kurz Delay rein.
Von, ähm, der Sekunde.
Weil, ansonsten...
Außerdem reicht's, wenn wir ganz normal loggen, ja.
Loop.
So, äh...
Main.
So, äh...
ESP-ZB-Dings-Config.
Okay, das kommt auch aus dem Header.
Ja.
What?
Was haben die alle für ihren Hang dazu, jeden Furz zu definen, irgendwo oben drüber, anstatt das da ordentlich unten hinzuschreiben?
Scheiß drauf.
Wir machen das wieder selbst.
So.
ESP-ZB-Roll.
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
Ist...
falls okay ed time out ed aging time out ed age time out okay das heißt anscheinend wirklich so
hier falls mit der oberfalls hier falls dann n wk cfg das ist panes champion so setz ccr cfg
oder cd cfg cd cfg brauche alles klar natürlich und da brauchen wir jetzt ed
time out ed aging time out 140 moment was jetzt ach hier wird es gesetzt was heißt er dort prefix
das ist für strakt felder warum auch immer damit ein punkt am anfang sein muss in sich ab kannst
es auch so machen aber komplett ohne punkt der auto komplizierte dann einfach die strakt felder
automatisch so der stadt oder
die klassen properties kippe live ed kippe live 3000 natürlich okay ich bin gespannt ob es immer
noch kompiliert und ob es immer noch nicht cbf signalhändler wie jetzt das habe ich doch
nirgendwo verwendet kommt das her das muss definiert sein dass es überhaupt
läuft aber woher weist er das ach nee im moment das liegt kommt doch bestimmt hier oben irgendwo
naja sehr schön lesbar wieder alles ist missing spz b app signalhändler woher weist er überhaupt
dass es so was geben muss vielleicht das ist ein callback wahrscheinlich muss das einfach
angelegt sein sonst kompiliert er nicht weil irgendwas von diesem krempel hier
versucht ob das da ist und wenn es nicht da ist dann geht es geht es einfach nicht mal mal ob es
jetzt funzt da sieht besser aus alter kaum ist sie drin guck mal wie fett die firma es crasht
warum crasht es jetzt zb partition moment wir müssen wir müssen noch den den flash speicher
anders partitionieren damit das funktioniert aber ich weiß nicht warum das nicht funktioniert
wort wie jetzt vor allem wie geht das ist das vielleicht ihr beispiel drin partitions ne c sv
was sonst na gut ich meine es könnte schlimmer sein es könnte xml sein ok warum braucht sie
eine eigene partition auf dem flash speicher warum braucht das ding überhaupt partition
wisst ihr was ich ich nehme das hier jetzt einfach
mal und kopiert das bei mir ins ins projekt rein ich habe überhaupt keine ahnung davon ob das ihr
direkt ins projekt rein new file partitions punkt csv ort info für netz ja aber das könnte man auch
so speichern da brauchen wir noch keine partition für rainbow csv ist das gut ja ist er prüft
excellent war viel schöner gleich und die frage ist jetzt macht er das automatisch mit diesen
partitions wenn ich das jetzt neue fläche preis die firma fährt man andere fehler andere fehler
oder partition okay partition punkt csv sp 32 wie von partition table
da muss man bestimmt irgendwie idf partitions oder sowas machen harit flash partition table
das funktioniert so nett ich habe keine ahnung moment der sagt uns doch seine partition table
macht er das ich sehe keine partition table drin doch hier partition table der hat ihn nicht
geflasht diese partition table okay also irgendwie müssen wir den dazu bringen dass
er aus dieser partitions csv okay aha generating binary partition table partition table which
is flasher ist in der natur der tool ist used to come up if you can figure partition table csv
name in the project configuration aha menu konflikt muss man machen da soll war einer
durchblicke grausam so wie geht das jetzt hier
partition tischen table partition table kasten das muss aber doch hier irgendwie ordentlich
steht bootloader konflikt vielleicht feierabend speziell string als sehr gut exzellente pfeife idee
und ich muss mein osterhaas noch weiter verspeisen white people happy people fährt steht ihr irgendwas
von partition table gibt doch einen extra punkt
partition table single factory note a und jason kasten partition table csv partition table csv ja
der nimmt denn der will schon dass es partitions partitions csv heißt okay flash okay let's go bin
ich mal gespannt ob das hin haut post-jam und prage chat
wir haben nur noch 1 euro 2 euro 2 euro da haben wir nicht mehr 1 euro oder 2 euro oder 20 euro
Wir haben bloß noch 20 Minuten Zeit.
Danach explodiert das Gerät,
wenn es bis dahin nicht geht.
Das ging jetzt aber...
Aha, aha. Ich habe schon gesehen,
da steht mehr drin bei Partition.
Nee.
Flash Partition Table.
Hä?
Da ist überhaupt nichts
Neues drauf.
Was für ein Problem ist das hier?
Partition
Table.
Partition.
Partitions.
Heißt doch so, oder?
Partitions.csv
Du hattest nur Partition Flash
ausgeführt, ja?
Reicht das nicht?
Muss ich
einen kompletten Bild Flash irgendwie machen?
Wahrscheinlich.
Ja, ich muss
einen kompletten Flash machen, weil
ich ja Menu Config
ausgeführt habe.
So, Menu Config habe ich gemacht.
Und jetzt ist es schon echt...
Ein wenig umständlich alles.
Aber es geht.
Ich meine, es ist nicht so, dass man sagt,
ey, es ist komplett wir.
Außer halt die C++-Geschlechte.
Die ist komplett wir.
So, okay, Pray geht Chat.
Hoffentlich tut es jetzt.
Okay.
Post Champ.
Äh, es ist nicht gecrashed.
Es ist in der Main-Schleife drin.
Es hat funktioniert.
Ich glaube, wir haben ein richtig Partition des...
...Device am Start.
Okay, können wir weitermachen.
Easy Clap.
So, wie geht's denn weiter?
Also.
Das haben wir gemacht.
ZigBee Stack Init.
Create Custom Temperature
Sensor Endpoint.
Alright.
Machen wir.
Sensor.
Maximum Temperatur.
Maximum Temperatur
ist...
90.
Und...
Nein, Moment.
Maximum Temperatur 90.
Und Mindesttemperatur...
Ja, was ist denn...
Was darf denn da jetzt rein?
Ist das...
Äh, wo kommt es her?
Wäh?
What?
Kann ich da...
Kann ich da nicht einfach so sagen?
1?
90?
Ah, Moment.
Das ist immer...
Mal...
Mal...
Mal 100?
Also muss ich quasi sagen,
100 und 9000?
Okay.
Okay.
Soll mir recht sein.
Dann...
Diese wirre Geschichte hier.
ESB Custom Sensor
EP Create.
Okay, das copy-paste ich mir mal,
weil ich keinen Plan habe, was da eigentlich gerade abgeht.
Custom Temperature
Cluster Create.
Meine Güte, ey. Wie viel Zeug der noch?
Okay, da weiß ich nicht, wo das herkommt.
Hä?
Ich hab doch grad danach gesucht.
Nee. Bin ich jetzt in einer anderen Datei?
Oder was?
Ja, klar.
Hä?
Die Suche ist...
Die Suche ist einfach Schrott.
Jetzt finde das.
Okay.
Was auch immer hier gerade passiert.
Natürlich geht mal wieder irgendwas, nicht?
ESP.
Manufacturer Name is undefined.
Manufacturer.
Cute Chat.
Model Identifier.
OmegaLul.
Was muss denn das sein?
Ah, das muss ein Pointer auf von irgendwas Bestehendes sein.
Okay, also muss das...
Also, wahrscheinlich muss das...
Wo kommt denn das hier her?
Das kommt bestimmt aus dem Header.
Manufacturer Name.
Alles klar.
Okay.
Ich meine, wir können es immer noch ändern, ja?
Wir lassen es jetzt einfach.
Okay.
Visual Studio Code.
Warum willst du das bitteschön umbrechen?
Ist das sonst zu lang?
Aus irgendwelchen Gründen.
Argument of Type Const Char is incompatible.
Das habe ich doch überhaupt nicht.
Bleib mehr.
Flash.
Is not declared.
Wo kommt das jetzt wieder her?
What?
Das muss doch aus dem Header kommen.
Ah, da ist ein Komma dahinter.
Zehn.
Alles klar.
Boah, ist das unübersichtlich, Mann.
Endpoint.
Ach, hier unten.
Zehn.
Ich hoffe, das bildet jetzt, weil ich sehe den Fehler nicht.
Nee.
Es ist...
Invalid Conversion from...
Const Void to Void.
Was?
Okay.
C Zeug.
Was?
Was ist...
Wie jetzt was?
Was will der hier haben?
Er will ein Void...
Pointer auf irgendwas.
Vor allem...
Was will der denn hier mit 0x irgendwas haben von mir?
Warum...
Warum muss es 0...
0...
Okay.
Also, das muss ich casten jetzt wahrscheinlich.
So.
Er möchte, dass es ein Void Pointer ist.
Dann soll das jetzt eben auch ein Void Pointer sein.
Aha.
Aha.
Na, easy.
Das ist ein Vertical Tap.
Boah, keine Ahnung, was wir da treiben.
So.
Also, wir haben jetzt hier einen Endpoint für einen Temperature Sensor.
Und was...
Was macht der jetzt?
Ne, Moment.
Das...
Das...
So weit sind wir ja noch gar nicht.
Device Register.
Das können wir jetzt machen.
Das sollte bis dahin...
Das sollte bis dahin jetzt durchlaufen.
Ich habe so keinen Plan, was hier eigentlich funktioniert...
Was hier passiert.
Register.
Okay.
Aber ich muss das ja noch irgendwie pairen mit meinem Home Assistant.
Config the Reporting Info.
Na, erstmal wird copy-pasted und geguckt, ob es funktioniert.
Und danach wird versucht, Cast to Customize uns zu verstehen.
Und ich copy-paste ja auch nicht alles.
Sondern eine Reihe nach.
Um halbwegs zu checken, was da abgeht.
Okay.
Bis zum Start.
Register.
ESP.
Hatten wir das nicht gerade?
War das nicht 10?
10.
War das?
Jetzt...
Jetzt kackt die Autocompletion ab.
Out of Order Initializers.
Das ist mir doch egal.
Bam.
Hauptsache, es funktioniert.
Oh, ne.
Ne.
Das mag der.
Das mag der nicht.
Das ist vielleicht in C okay.
Aber nicht in C++.
Ich weiß nicht.
Ich weiß nicht.
Ich weiß nicht.
Ich weiß nicht.
Ich weiß nicht.
Ich weiß nicht.
Ich weiß nicht.
Oh, okay.
Ich weiß nicht.
Also wir brauchen u.
u.
send-info und dann muss der Shit da rein.
Wobei das mit dem u mag der gar nicht.
Mag er das so?
Ne.
Das darf man so nicht machen.
Okay.
O Mann, Alter.
Ist das komplizierter Shit.
Ja, also wir brauchen jetzt noch dest.
ProfileID
Cluster
Das sollte er jetzt fressen, hoffentlich
So, und dann brauchen wir
U
gleich
SendInfo
Äh, nicht so
SendInfo
Und da jetzt
Okay, das kommt weg
Und da brauchen wir jetzt
MinInterval
gleich 1
MaxInterval
gleich, ich hab keine Ahnung
was der da eigentlich macht, DefMinInterval
1
DefMax
DefMaxInterval
gleich
0
Delta
Oh ne, muss ich das jetzt auch noch
so machen?
Moment, was?
Das war's, Delta16, mehr muss ich nicht setzen
Äh
Was hab ich falsch gemacht?
Wo ist, wo stimmt
wieder irgendwas nicht?
Ah, DefMin muss das sein
Da gibt's noch Delta
Ey, das ist ja
richtig abartig
U16
gleich 100
Was auch sonst
Ja, ich, ist vollkommen klar
dass U16 gleich 100 sein muss
Hoffentlich geht das jetzt
Äh, was?
E-S-P-Z-B-Primary-Channel-Mask
Primary
Channel-Mask
Ist was?
Mask?
Okay, genau das ist es
Logisch
Aha
Und was hat er jetzt noch für Schmerzen?
Order for field
U does not match
Declaration order in
Ja und?
Who cares?
Woher weiß ich denn, die Deklaration-Order in U?
Woher weiß ich denn, die Deklaration-Order in U?
Oder wie?
Ist das hier jetzt davor, oder wie?
Alter, wer soll denn, wer soll denn das bedienen, Mann?
Das kann doch so nicht
Das kann doch nicht der Ernst sein, dass man das so benutzen soll
AdrID does not match
Declaration order
Ja und?
Woher weiß ich denn, die Deklaration-Order
Ja
What the hell?
Was? Das muss doch irgendwie anders gehen
Dieses Tracks zu füllen
an der richtigen Pose.
Das kann doch so nett sein, dass das so
abartig ist. Kann man nicht einfach
sowas hier machen? Jetzt mal ganz doof.
Und jetzt sagen hier
Reporting, jetzt mal diesen
Shit hier mal weglassen.
Und jetzt sagen Reporting-Info
Punkt
Direction gleich
Reporting-Info
Punkt EP gleich
10. Ja, das ist doch viel besser.
Kann man
auch lesen. Cluster
ID, das
Reporting-Info
Cluster
Role
Ich hab wirklich keine Ahnung, was das
eigentlich alles macht.
Reporting-Info und jetzt kommt was
EP, ne, DST
Gut, da können wir jetzt sowas hier
machen, das ist ja in Ordnung.
Ups, öh
Wonka ist
Reporting-Info
Adre
ID
Pass auf, das frisst er jetzt gleich.
Ja, easy, das juckt ihn jetzt nicht.
Reporting
U
Warum nennt man
Zeile 84 Semikolon?
Ah ja.
Warum nennt man was einfach nur
U? Ich glaube,
die haben zu viel mal in Stream geguckt, oder?
Ich nenn die Sachen auch immer so.
Und ich sag, es muss halt einfach
funktionieren, dann ist es egal.
Dann wär's ne 1.
Das stimmt. Ich bin aber meinser Copy-Pasten.
Out of Order
Ja, meine Güte, ey, was zum
Ich weiß ja gar nicht mal
Wenn ich ja wüsste, was die richtige
Order ist
Report
Reported Value, ja, keine Ahnung
10 ist auch in der falschen
Reihenfolge, okay. Was hab ich denn noch
vergessen? Nix
Ist das erste? Ey, ich hab ernsthaft
keine Ahnung, wie man, woher man
überhaupt wissen soll, wie man's richtig macht.
Was ist denn das für ein
komischer Typ hier überhaupt?
Send-Info.
Ey, das funzt nicht.
Das geht nicht.
Weil das C++ ist, und das mag der nicht.
Oder doch?
Okay.
Der mag nur das nicht.
Oder mag, oder ist ihm das vielleicht sogar?
Moment, was?
Äh, wo kommt jetzt dieses Komma da unten her?
Das hat da nix zu suchen.
Unnamed U? What the hell?
Versuch mal Delta zwischen dem Max-Intervall und Def-Min-Intervall.
Okay, funzt.
Wo auch immerher man das wissen soll.
Ja, aber dieses Autocompletion zeigt sich halt mal richtig an.
Zeile 88 muss Semikolon, ist doch.
Achso. Hä?
Warum funktioniert denn an der Stelle jetzt ein Komma, ohne dass das meckert?
Man weiß es nicht.
Sogar die Sprache und der Compiler selbst ist darüber verwirrt.
Äh, ich bring hier keinem wirklich Programmieren bei gerade, oder?
Mein Output hängt.
Wisst ihr, woran das liegen könnte?
Oder ist der Controller gerade abgekackt?
Sekunde.
Probieren wir mal. Ups.
Ich hab meine Verlängerung runtergeschmissen fürs Headset.
Sekunde.
Flash Monitor.
Okay.
Ähm.
Der startet jetzt?
Der macht... Achso!
Ja, weil er in der Loop hier unten hängt.
Ja, kein Wunder. Das hat jetzt alles funktioniert. Nice.
Okay, hierhin kommt er gar nicht mehr.
Der bleibt hier quasi hängen.
Weil er jetzt hier irgendwie mit weitermacht.
Okay.
Okay, das heißt jetzt...
Das heißt jetzt kriegen wir jetzt...
Kriegen wir jetzt Zigbee-Events?
Irgendwie, oder?
Jetzt ist das einzige...
Ja, wir brauchen noch kurz...
Jetzt ist das einzige, was noch offen ist, dieser Signal-Händler.
Heißt im Endeffekt, wir sollten jetzt Zigbee-Events kriegen, oder?
Probieren wir doch mal aus, ob wir Zigbee-Events kriegen.
Ja.
Ja. Ja. Ja. Ja. Ja. Ja. Ja. Ja. Ja. Ja. Ja.
Ja. Ja.
Vielleicht muss ich das wirklich in einem eigenen Task starten,
dass das jetzt funktioniert.
Ja, ich muss das in einem eigenen Task starten.
Deswegen starten die das ja auch in einem eigenen Task.
Deswegen starten die das ja auch in einem eigenen Task.
Das Main weiterläuft danach.
Aber ich mach permanent nix. Egal, schauen wir mal.
Log.
Zigbee.
Ja, wir loggen hier einfach irgendwas und
schauen, ob das...
Boa, ist die Firmware fett mittlerweile, Mann!
Hey,
Guck mal, wir kriegen ZigBee-Events.
Wir kriegen Events.
Sonst würde jetzt hier nichts kommen.
Das Ding ist jetzt, wie registriere
ich das denn?
Boah, das will ich, das ist mir
jetzt zu, das ist mir
jetzt zu pfeifert hier.
Ich meine, ich copy-paste es mir einfach mal.
Das sollte ja eins zu eins funktionieren.
Ne?
Tag ist undefined.
Und? Okay.
Define.
Define. Tag.
Tackle. Nicht taff.
Tank.
Deferred Driver Init.
Ja, ne, das wollen wir jetzt nicht.
Ich will ja nicht wirklich, ich will ja nicht
wirklich ein...
was auslesen.
Das kommt weg.
Monka Steer, Leute.
BD Star
Top Level Commission
ZB.
What the fuck, Alter.
ESP Return on Falls.
Okay, wo kommt das her?
Wo kommt ESP Return on Falls her?
Kann man das importieren?
ESP Check. Okay.
Okay. Flash.
Gucken, was jetzt passiert.
Fuck, what?
Invalid Conversion.
Was für ein Ding?
P? Aha.
Warum?
Was ist invalid da dran?
To ESP
App Signal Type.
Äh.
Auto.
Easy Fix.
Äh. Wo seht ihr hier irgendwie den Fehler?
Was hat er hier? Was will er hier?
Argument of Type
UN32 is not
compatible.
Warum nicht? Weil es ein
ESP ZB App Signal
Type sei. Muss ich das vielleicht casten
oder so? Ich glaube,
das hier muss Auto sein, dass
das funktioniert.
Jetzt bin ich gerade verwirrt.
Die haben auf jeden Fall irgendeinen
komischen Bug drin bei sich.
SIG-Type?
Das ist ein Int-Pointer?
Ich will erstmal, dass das kompiliert.
Ne, ich glaube, der Typ, der vorne steht,
stimmt einfach gar nicht.
Network Steering was not successful.
Oh nein, Leute.
Monka Steer failed.
Ich habe keine Ahnung, was das bedeuten soll.
Aber
wir gucken mal,
was passiert,
wenn ich mein Home Assistant einschalte
und jetzt sage
Edit System.
Edit zum Netzwerk.
Mal gucken, was jetzt passiert.
Das scheint ja in irgendeiner Endlosschleife
zu laufen, dass er das immer wieder
probiert.
Vielleicht sollten wir nochmal schnell probieren, das hier zum Laufen zu bekommen.
Was hat er denn für ein Problem
überhaupt?
UN32 is not
compatible of Type ESP App Signal Type.
Hier hinten das, oder wie?
Signal to String.
Das hier.
Kann man das einfach casten?
Dann ist es gut.
Heute kein Bett, gell?
Doch.
Gleich, gleich Bett, gell?
Oh shit, was denn?
As long as I'm in
Prozent X.
Oh fucking shit.
Mann.
Das hier ist doch wirklich nur Logging.
Also, draufgeschissen.
Log W.
Lob.
Lob. So. Null.
Hauptsache, dass da irgendwas loggt.
Aus irgendwelchen Gründen geht mein Log.
Eigenes Logging nicht mehr.
Okay.
Also, das Flaschen dauert schon deutlich länger jetzt,
weil die Firma so fett ist.
Network Steering not successful.
Integrations
ZigBee.
Add devices
via this device.
Ah, joined!
Da ist er!
Easy!
Easy!
Easy!
Easy as fuck!
Easy, easy, easy, easy!
Easy as fuck! Easy as, easy as, easy as, easy as, easy as fuck!
So, mal gucken, was der jetzt für Temperatur exportiert.
Minus 327 Grad.
Ja gut, ich hab ja auch irgendein Bullshit gesetzt, ja?
Da ist er! Guck mal!
Mein eigenes ZigBee-Gerät.
Temperature minus 327 Grad.
Ich weiß gar nicht, wo ich das überhaupt...
Hier, Report.
Irgendwo im Report.
Im Report setze ich das doch.
Delta... Wo setze ich...
Wo setze ich denn die Temperatur überhaupt?
Wo setzen...
Wo setzen die hier denn die Temperatur?
Hier!
Hier setzen sie die Temperatur.
Jetzt weiß ich auch, warum die
mehrere Threads machen.
Wo wird denn das aufgerufen?
Oh, nicht.
Das wird immer...
Ach, beim Reboot wird das einmal
gesetzt, oder wie?
Einmal beim Reboot.
Alter, der neue Github-Editor ist so ein Schrott, Mann!
Ey, eben hab ich's doch noch gefunden.
Was ist denn hier?
Twitch streamt gerade was mega krasses.
Es ist richtig geil, dass die Steine streamen, sehe ich gerade.
Okay, Static.
Update.
Wir machen jetzt einfach hier mal das so.
HA-Sensor, Endpoint 10.
Temperature, Temperature einfach 2000, okay?
Bam.
Wobei, ich hab doch eigentlich gesagt,
Min-Temperature 100.
Okay, 2000.
Das ist die Measure Temperature.
Update Temperature Sensor.
So, jetzt ist das Ding...
Das Ding, das wird nur einmal auf...
Ne, TempSensorDriverInit.
Alter,
ist das scheiße, dieser neue Editor, Mann!
Alter, ist das scheiße, dieser neue Editor, Mann!
TempSensorDriver...
Okay, wo kommt denn das her?
Wo kommt TempSensorDriver.h her?
Wo kommt TempSensorDriver.h her?
Wo kommt TempSensorDriver.h her?
Das kommt garantiert aus irgend so nem...
Common?
Ja...
Ja, TempSensorDriver...
Ich mein, die machen ja auch nen...
Extra...
X-TaskCreate!
Das machen wir jetzt auch.
Das ist das letzte, was wir heute machen.
Das ist das letzte, was wir heute machen.
Deswegen, das dachte ich mir, dass wir das tatsächlich
so leicht multithreaded machen müssen.
so leicht multithreaded machen müssen.
X-TaskCreate.
X-TaskCreate.
So, das nennen wir jetzt...
Temperature... oder wie heißt das Ding?
Dieser Task, den ich für die Temp...
Dieser Task, den ich für die Temp...
Machen wir das mal unten drüber...
Ja, ESP...
Ja, und die braucht keine
FlowTemperature...
Sondern das wird einfach jetzt hier reingehauen.
Sondern das wird einfach jetzt hier reingehauen.
Was muss das haben?
Okay, Pointer, Parameter...
Brauchen wir nicht, aber...
Machen wir mal rein...
So... Aber...
Und jetzt können wir hier drinnen nämlich sagen...
While...
True...
Delay... müssen wir dann aber auf jeden Fall
reinmachen... Delay von einer Sekunde...
Weil ansonsten kackt das ab...
Release...
So, und jetzt machen wir jetzt aber noch...
Log... W... irgendwie...
Äh, ja... Sensor...
Sensor... Refresh...
Mal gucken, ob das jetzt...
Mal gucken, ob das jetzt läuft...
Speichert sich der ESP
auch den Key? Vermutlich, ja...
Deswegen musste man das mit dem Flash machen...
Okay, der Refresh...
Wo immer das jetzt
rebooted hat... Refresh, Refresh,
Refresh...
Der überträgt aber
nix an neuen...
an neuen SIGBI-Werten...
Und woher
weiß der das jetzt, dass der das überhaupt
dahin übertragen muss?
Sollen wir da was anderes mal reinschreiben?
Mal 2
rein... oder 1, ob da
irgendwas anderes steht...
Also ich hätte jetzt eigentlich gedacht...
Damit...
update das jetzt...
Set Attribute...
Ja, da ist hier oben
bestimmt irgendwas ein bisschen in die Hose
gegangen...
Das werden wir heute Abend nicht
fertigdebangen können...
Da muss man hier bestimmt irgendwas
muss man da einstellen...
Reporting Info...
Da ist bestimmt irgendwas...
Das habe ich
gar nicht gesetzt... Manufacturer Code
und sowas, oder?
Reporting Info...
Ich habe irgendwie
aufgehört bei...
Attribute ID...
Delta habe ich noch
gemacht... Profil
auch...
DST
Profil...
Manufacturer Code habe ich gar nicht gesetzt...
Wobei es das jetzt eigentlich nicht sein sollte, oder?
Und was meint mein Home?
0...
Der überträgt... Doch, doch, doch, der überträgt was...
Guckt mal...
Ich übertrage nur... Mist...
Der überträgt schon...
Ich weiß bloß nicht in welchem...
In 16t...
Ja, so macht er da...
Temp mal 100...
Ja, das habe ich ja gemacht...
Also, das macht prinzipiell
schon was...
Aber ich weiß nicht genau was...
Ja...
Jetzt ist er der Meinung, dass es 0 ist...
Und wenn ich jetzt da nochmal
irgendwas anderes reinschreibe...
Hier irgendwie...
Measured Value...
10...
Aber der macht auf jeden Fall irgendwas...
Max auf 90?
Habe ich doch gar nicht...
Ich habe...
Ich habe auf 9000 gesetzt...
Ah!
90... Ach so...
Das ist 90?
Aber 2000...
Aber da unten macht er das gleiche mit dem Wert...
Eigentlich müsste es...
2000 müsste 20 ergeben dann...
Okay, whatever...
Jetzt hat er 0,1...
Okay, okay...
10 ist 0,1...
Ja, weil die immer mal 100 machen im Endeffekt...
Also das...
Das funzt schon...
So richtig verstanden habe ich es noch nicht...
Ja, und es braucht
immer ein bisschen bis es updatet...
Also im Prinzip
geht es...
Das wollen sie aber das nächste Mal auf jeden Fall genauer angucken...
Was da...
Was da jetzt eigentlich passiert...
Aber er sendet über Zigbee Dinger...
Das ist übrigens nicht das Value...
Hier...
Das ist die ID, dass es ein
Temperatursensor ist...
Das hier ist der Value...
Jetzt hat er es gecheckt, jetzt ist 10...
Dann habe ich aber nicht gecheckt, warum es die 2000
vorher nicht gefressen hat...
Wie auch immer, ist mir wurscht...
Es funktioniert...
Ich kann sogar Werte übertragen...
Es ging besser, als ich mir das vorgestellt habe...
Oder Chat, was findet ihr?
Ich habe gedacht...
Ich meine, es ist ziemlich viel Copy-Paste gewesen...
Ich verstehe die Hälfte davon nicht...
Aber im Großen und Ganzen besser als gedacht...
Gar nicht so super kompliziert...
Wenn man sich das jetzt nochmal genauer anguckt...
Kann man wahrscheinlich
die Hälfte davon rausschmeißen,
wenn man sich damit beschäftigt...
Aber schon nice...
So, und jetzt geht er bestimmt auch gleich auf 20...
Da braucht er immer so ein paar...
Ja...
Das ist nicht übel...
Ich wüsste jetzt...
Actual Reportable Change...
Ich wüsste halt echt gern, was diese ganzen...
Actual Maximum Reporting Intervall...
Minimum...
Default Minimum Reporting...
Okay, damit muss man sich
ein bisschen im Detail beschäftigen...
Custom Zigbee-Stells...
Cool...
Okay, Leute...
Dann wird es jetzt Zeit...
Für was?
Abziehen...
Abziehen...
Welches Board benutzt du?
Moment, das kann ich dir noch sagen...
Ich bin Home Assistant
wieder ausgeschaltet...
Ich benutze ein Board, was für meine Anwendungszwecke
gut geeignet ist, nämlich ein
ESP32 C6
Beetle 2 oder so...
Das Teil...
Benutze ich...
Das ist mega nice, weil...
Das hat direkt einen Connector für...
Akkus...
Elektronik für Akkus...
Theoretisch sogar Anschlüsse für Solarpanels...
Die du mit der Ladeelektronik dann deine...
Deinen Akku speisen könntest...
Und es braucht im Deep Sleep...
Bloß 16...
Microampere...
Und das Ding wird einfach den halben Tag deep sleepen...
Das wacht alle, keine Ahnung...
4 Stunden mal auf...
Misst die Zeit...
Man könnte es ja noch mehr übertreiben...
Mit dem Ultra Low Power Prozessor das auslesen...
Und nur schicken, wenn...
Temperaturdifferenz...
Größer als 2 Grad...
Was auch immer...
Aber wir wollen es mal nicht übertreiben...
Und da hält das Ding...
2-3 Jahre an der normalen Batterie...
Kommt in den Garten dann...
POG, sehr nice Leute...
Hat mir gefallen...
Wir hören uns morgen oder die Tage...
Bis dann, machts gut...
