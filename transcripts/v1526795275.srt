1
00:00:37,300 --> 00:01:52,620
so leute auf geht's da bin ich wir werden heute unser cloud native game etwas absteppen

2
00:01:52,620 --> 00:02:06,160
alles klar soweit ja weil server von hand anklicken ist out in der heutigen zeit geht

3
00:02:06,160 --> 00:02:14,160
das alles automatisiert niemand klickt mehr server von hand an geschweige denn

4
00:02:14,160 --> 00:02:18,300
fast server noch von hand an das hört sich jetzt zwar ein wenig gut technisch an aber

5
00:02:18,300 --> 00:02:24,240
wisst was ich meine und ich habe schon mal was mit terraform gemacht von der ganzen weile bzw

6
00:02:24,240 --> 00:02:29,760
auf der arbeit ab und zu ein paar sachen eingetragen und so grob habe ich das alles

7
00:02:29,760 --> 00:02:35,260
schon mal gesehen aber so wirklich von grund auf da mal irgendwas eingerichtet also quasi

8
00:02:35,260 --> 00:02:41,520
wenn es noch gar nichts gibt habe ich noch nicht ich dachte mir das wird mal zeit da

9
00:02:41,520 --> 00:02:43,400
sich jetzt ein bisschen mit auseinanderzusetzen und

10
00:02:44,160 --> 00:02:51,120
wir machen das in der hessener cloud demnächst hoffe ich startet auch noch eine weitere

11
00:02:51,120 --> 00:02:56,780
kooperation mit hessener gucken wir uns noch ein bisschen mehr an und ich kriege vielleicht auch

12
00:02:56,780 --> 00:03:01,600
wieder einen gutscheincode weil der aktuelle hessener gutscheincode den es hier bei mir im

13
00:03:01,600 --> 00:03:06,840
chat gibt da ist ja outdated overrated debated den gibt es ja nicht mehr vielleicht kriegen

14
00:03:06,840 --> 00:03:12,780
wir das irgendwie hin ja nick dankeschön für den sub übrigens leute wer von euch ist hans feldt

15
00:03:14,160 --> 00:03:18,100
da steckt ihr das gesagt wer zeichnet dieosi vol1 hat indiciert hat ihn darinto

16
00:03:18,100 --> 00:03:19,000
an".

17
00:03:19,000 --> 00:03:27,010
derjenige der es geschrieben hat weiß genau wer es ist, ja wer ist hans feld chat wer

18
00:03:27,010 --> 00:03:29,110
von euch ist hans feld.

19
00:03:29,110 --> 00:03:31,430
Ist hans feld schon da.

20
00:03:31,430 --> 00:03:36,730
ich habe nämlich eine mail von hans feld heute morgen zufällig gesehen in meinem

21
00:03:36,730 --> 00:03:41,150
e mail postfach und das ist so offensichtlich hat gbait.

22
00:03:41,150 --> 00:03:44,070
äh zeige ich euch mal so offensichtlich hat gbait.

23
00:03:44,070 --> 00:03:45,170
wer von euch.

24
00:03:45,170 --> 00:03:46,450
Wer von euch ist das?

25
00:03:52,940 --> 00:03:53,540
Achtung.

26
00:03:57,240 --> 00:03:59,180
Wer von euch ist Hans Feld?

27
00:04:04,150 --> 00:04:04,870
Passt auf.

28
00:04:05,790 --> 00:04:05,990
Ja.

29
00:04:08,380 --> 00:04:09,980
Die E-Mail habe ich heute gekriegt.

30
00:04:10,600 --> 00:04:12,720
Und das ist so offensichtlicher Fake.

31
00:04:12,840 --> 00:04:14,420
Wer von euch

32
00:04:14,420 --> 00:04:15,440
wollte mich

33
00:04:15,440 --> 00:04:16,380
jibben?

34
00:04:20,380 --> 00:04:25,420
Wer will mich jibben, Alter?

35
00:04:33,770 --> 00:04:34,550
Fake News.

36
00:04:35,870 --> 00:04:37,150
Und das Beste ist,

37
00:04:37,150 --> 00:04:39,170
ich werde

38
00:04:39,170 --> 00:04:41,450
meinen Anwalt

39
00:04:41,450 --> 00:04:43,490
einschalten wegen meinem Windows 10

40
00:04:43,490 --> 00:04:43,990
Video.

41
00:04:45,850 --> 00:04:47,490
Wem war es

42
00:04:47,490 --> 00:04:49,490
heute von euch heute Morgen langweilig?

43
00:04:49,610 --> 00:04:50,510
Gebt es zu, Leute.

44
00:04:52,050 --> 00:04:52,170
Also,

45
00:04:53,590 --> 00:04:55,310
das nehme doch nicht mal ich

46
00:04:55,310 --> 00:04:55,970
ernst.

47
00:04:57,770 --> 00:04:58,390
Das ist einfach nur

48
00:04:58,390 --> 00:04:59,590
Hanna G. Bate.

49
00:05:00,750 --> 00:05:01,770
Hans Feld

50
00:05:01,770 --> 00:05:03,930
hat geschrieben.

51
00:05:04,450 --> 00:05:24,030
So.

52
00:05:26,920 --> 00:05:28,380
Wer hat sich denn sonst noch

53
00:05:28,380 --> 00:05:28,960
gemeldet?

54
00:05:31,600 --> 00:05:33,260
Rise of Kingdoms.

55
00:05:33,420 --> 00:05:34,500
Das klingt nach einem billigen.

56
00:05:34,680 --> 00:05:35,620
Das ist bestimmt Chainlord.

57
00:05:36,140 --> 00:05:38,520
Das ist bestimmt Chainlord.

58
00:05:38,620 --> 00:05:39,320
Ja, das passt.

59
00:05:40,000 --> 00:05:41,100
Immer noch auf Jobsuche.

60
00:05:41,260 --> 00:05:43,280
Ja, es wird auch nicht sich so schnell ändern.

61
00:05:44,520 --> 00:05:45,700
Ich werde ja auch nicht jetzt sagen,

62
00:05:45,840 --> 00:05:48,100
okay, das Erste, was es hier gibt,

63
00:05:48,180 --> 00:05:48,880
mache ich oder so.

64
00:05:49,040 --> 00:05:50,420
Ich bin immer noch auf der Suche.

65
00:05:52,160 --> 00:05:52,600
Ähm.

66
00:05:54,720 --> 00:05:55,880
Was ist Rise of Kingdom?

67
00:05:55,880 --> 00:05:58,880
Das ist bestimmt China-Chinesen-Mobile.

68
00:06:00,140 --> 00:06:01,220
Crap-Game, oder?

69
00:06:01,540 --> 00:06:02,520
Die wollen irgendwas

70
00:06:02,520 --> 00:06:04,480
Video-Integration haben.

71
00:06:10,700 --> 00:06:11,180
Moment.

72
00:06:11,820 --> 00:06:12,160
Was?

73
00:06:13,480 --> 00:06:15,740
Okay, das ist die falscheste Schreibweise

74
00:06:15,740 --> 00:06:17,380
von Ägypten, die ich je gesehen habe,

75
00:06:17,440 --> 00:06:17,840
hier drinnen.

76
00:06:18,940 --> 00:06:20,920
Ach so, der hat einfach Z und Y verwechselt.

77
00:06:21,020 --> 00:06:21,860
Ja, dann geht's ja eigentlich.

78
00:06:23,260 --> 00:06:25,700
Also, die Sponsoring-Anfragen sind wieder ganz grausam.

79
00:06:26,120 --> 00:06:26,940
Irgendwelche komischen

80
00:06:26,940 --> 00:06:29,800
Mobile-Games, World of Warships

81
00:06:29,800 --> 00:06:30,820
ist auch wieder am Start.

82
00:06:37,160 --> 00:06:38,500
Weitere China-Chinesen-Sachen.

83
00:06:39,160 --> 00:06:44,660
Alles, alles, Mist.

84
00:06:45,600 --> 00:06:47,060
Ja, so ungefähr, so ungefähr.

85
00:06:47,500 --> 00:06:49,360
Welches Gui benutzt du in Arch-Stilungs?

86
00:06:49,460 --> 00:06:49,820
I3.

87
00:06:50,400 --> 00:06:51,260
Arch, by the way.

88
00:06:52,040 --> 00:06:52,760
Das ist I3.

89
00:06:53,980 --> 00:06:55,040
Ne, nicht G-Bated.

90
00:06:55,400 --> 00:06:56,840
Das ist wirklich, das ist wirklich I3.

91
00:06:58,540 --> 00:06:59,760
Ja, I3.

92
00:07:02,020 --> 00:07:02,500
Ähm.

93
00:07:03,260 --> 00:07:03,580
Und.

94
00:07:04,540 --> 00:07:05,800
Ja gut, die Anwendung sieht man ja.

95
00:07:06,280 --> 00:07:06,960
Das ist noch nicht mal,

96
00:07:06,960 --> 00:07:08,320
das ist noch nicht mal richtiges Arch.

97
00:07:08,320 --> 00:07:09,660
Das stimmt, das ist nur Manjaro.

98
00:07:10,280 --> 00:07:12,500
Man darf ja, habe ich gehört, man darf als Manjaro,

99
00:07:12,580 --> 00:07:14,120
User nicht sagen Arch, by the way.

100
00:07:14,220 --> 00:07:16,640
Das ist quasi Gotteslästerung.

101
00:07:17,920 --> 00:07:18,900
Ja, richtig, richtig.

102
00:07:19,180 --> 00:07:20,320
Das Einzige, was geht.

103
00:07:21,020 --> 00:07:21,980
Alles andere sind Noobs.

104
00:07:22,540 --> 00:07:24,060
Warum nicht Wayland?

105
00:07:24,640 --> 00:07:25,920
Beziehungsweise, warum nicht Swayland?

106
00:07:26,020 --> 00:07:26,620
Das ist ganz einfach.

107
00:07:27,100 --> 00:07:29,520
Weil es läuft wie Shit.

108
00:07:30,760 --> 00:07:32,920
Weil es überhaupt nicht richtig läuft in der VM.

109
00:07:34,020 --> 00:07:35,320
Und überhaupt nicht richtig

110
00:07:35,320 --> 00:07:36,460
ist nicht etwa so.

111
00:07:37,460 --> 00:07:38,660
Es gibt Probleme,

112
00:07:38,660 --> 00:07:41,320
wenn man genau hinguckt.

113
00:07:41,420 --> 00:07:42,080
Nein, nein, nein, nein.

114
00:07:42,520 --> 00:07:44,080
Der Screen Refresht nicht.

115
00:07:46,180 --> 00:07:46,680
Also ein.

116
00:07:47,780 --> 00:07:49,980
Ein Desktop, der also beziehungsweise ein

117
00:07:50,980 --> 00:07:53,460
Window Manager, wo sich der Desktop nicht neu,

118
00:07:53,460 --> 00:07:56,660
also dass der Inhalt des Fensters nicht neu aufbaut,

119
00:07:57,020 --> 00:07:58,380
ist ziemlich unsinnig, weil.

120
00:08:01,170 --> 00:08:02,430
Du bewegst die Maus und siehst nicht,

121
00:08:02,430 --> 00:08:03,310
dass die Maus sich bewegt,

122
00:08:03,310 --> 00:08:05,410
weil der Inhalt des Bildschirms Refresht sich nicht.

123
00:08:05,810 --> 00:08:07,410
Der Inhalt des Bildschirms Refresht sich nur,

124
00:08:07,410 --> 00:08:09,030
wenn ich die Konsole switche und zurück.

125
00:08:09,630 --> 00:08:10,330
Also ist bescheuert.

126
00:08:10,330 --> 00:08:12,430
Das kann man mit irgendeiner Environment Variable.

127
00:08:13,470 --> 00:08:13,970
Umgehen.

128
00:08:14,030 --> 00:08:16,030
Danach gibt es aber andere Probleme.

129
00:08:16,030 --> 00:08:18,030
Wir haben es ausprobiert im Stream.

130
00:08:18,030 --> 00:08:20,030
Das war komplett unusable.

131
00:08:20,030 --> 00:08:20,530
Wir haben es.

132
00:08:20,530 --> 00:08:23,030
Also man kann das mit irgendeiner Variable konnte man setzen,

133
00:08:23,030 --> 00:08:25,030
aber dann ging das nächste nicht richtig.

134
00:08:25,030 --> 00:08:26,030
Copy Paste geht nicht.

135
00:08:26,030 --> 00:08:29,030
Copy Paste in der VM geht nicht richtig mit Sway und Wayland.

136
00:08:29,030 --> 00:08:31,030
Also das ist halt.

137
00:08:31,030 --> 00:08:32,030
Das ist halt Fail.

138
00:08:32,030 --> 00:08:38,030
Und ich behaupte mal Desktop Virtualisierung hier in Form von irgendwie irgendwie eine VM.

139
00:08:38,030 --> 00:08:42,030
So wenig verbreitet ist es jetzt auch wiederum nicht,

140
00:08:42,030 --> 00:08:44,030
als dass man das komplett verlässt.

141
00:08:44,030 --> 00:08:45,030
Und nachlässigen kann.

142
00:08:45,030 --> 00:08:47,030
Und bis das bis das eingebaut ist,

143
00:08:47,030 --> 00:08:50,030
fällt bei mir Sway und Wayland flach.

144
00:08:50,030 --> 00:08:53,030
Das liegt an der Kombination.

145
00:08:53,030 --> 00:08:56,030
Das liegt an der Kombination von Wayland und den VMs.

146
00:08:56,030 --> 00:08:57,030
Ich bin mir sicher,

147
00:08:57,030 --> 00:08:59,030
die könnten sich drei Jahre.

148
00:08:59,030 --> 00:09:00,030
Das ist ja in der Linux.

149
00:09:00,030 --> 00:09:01,030
Das ist ja eine Linux Welt gang und gäbe.

150
00:09:01,030 --> 00:09:03,030
Die könnten sich sicherlich drei Jahre drüber streiten,

151
00:09:03,030 --> 00:09:05,030
wer jetzt genau dran schuld ist.

152
00:09:05,030 --> 00:09:07,030
Das ist mir aber als User vollkommen egal.

153
00:09:07,030 --> 00:09:08,030
Das ist ähnlich,

154
00:09:08,030 --> 00:09:10,030
wie sich Grafikkartenhersteller,

155
00:09:10,030 --> 00:09:12,030
Mesa Treiber Entwickler,

156
00:09:12,030 --> 00:09:13,030
Browser Hersteller,

157
00:09:13,030 --> 00:09:17,030
Desktop Entwickler jahrelang unter Linux gestritten haben.

158
00:09:17,030 --> 00:09:21,030
Was was zeigst du euch einfach.

159
00:09:21,030 --> 00:09:24,030
Was Video,

160
00:09:24,030 --> 00:09:26,030
also was GPU Decoding angeht.

161
00:09:26,030 --> 00:09:28,030
Guck unter Windows.

162
00:09:28,030 --> 00:09:31,030
Unter Windows braucht der Browser hier.

163
00:09:31,030 --> 00:09:33,030
Wo steht der Krempel jetzt?

164
00:09:33,030 --> 00:09:38,030
Der Browser braucht halt nicht wirklich viel.

165
00:09:38,030 --> 00:09:39,030
Und die CPU,

166
00:09:39,030 --> 00:09:42,030
die GPU decodet den größten Teil.

167
00:09:42,030 --> 00:09:45,030
Vom Video.

168
00:09:45,030 --> 00:09:51,620
Und das Ganze selbst in 1044p.

169
00:09:51,620 --> 00:09:53,620
Das juckt ihn überhaupt nicht.

170
00:09:53,620 --> 00:09:54,620
So.

171
00:09:54,620 --> 00:09:58,620
Und das Video wird halt GPU decodet.

172
00:09:58,620 --> 00:10:01,620
Guck ich hab 9% von dem Video

173
00:10:01,620 --> 00:10:03,620
und der Rest macht die GPU.

174
00:10:03,620 --> 00:10:05,620
Und das ist halt unter Linux nicht.

175
00:10:05,620 --> 00:10:07,620
Unter Linux hast du bei so einem 1080,

176
00:10:07,620 --> 00:10:09,620
1080 oder 440p Video,

177
00:10:09,620 --> 00:10:12,620
hast du einfach 100% CPU Last,

178
00:10:12,620 --> 00:10:13,620
weil das alles in der,

179
00:10:13,620 --> 00:10:15,620
alles über die CPU geht.

180
00:10:15,620 --> 00:10:17,620
Mittlerweile ist es besser.

181
00:10:17,620 --> 00:10:18,620
Ich kann es euch zeigen.

182
00:10:18,620 --> 00:10:19,620
Guckt hier.

183
00:10:19,620 --> 00:10:21,620
Oder die coolen Leute hab ich ja gehört.

184
00:10:21,620 --> 00:10:23,620
Die coolen Leute verwenden B-Top jetzt.

185
00:10:23,620 --> 00:10:24,620
Ja B-Top.

186
00:10:24,620 --> 00:10:30,920
Okay viel viel viel nicer.

187
00:10:30,920 --> 00:10:33,920
Muss ich mir Werbung angucken vor meinem eigenen Video,

188
00:10:33,920 --> 00:10:38,600
alter.

189
00:10:38,600 --> 00:10:39,600
Noch mehr Werbung.

190
00:10:39,600 --> 00:10:42,600
Rotkäppchens nach der Chöre.

191
00:10:42,600 --> 00:10:43,600
Ja genau.

192
00:10:43,600 --> 00:10:44,600
Da hab ich jetzt,

193
00:10:44,600 --> 00:10:46,600
da hab ich komplett drauf gewartet jetzt,

194
00:10:46,600 --> 00:10:47,600
dass ich das,

195
00:10:47,600 --> 00:10:49,600
das wollte ich sehen.

196
00:10:49,600 --> 00:10:54,230
So auf kann jetzt mein Video mal losgehen.

197
00:10:54,230 --> 00:10:56,230
So guckt.

198
00:10:56,230 --> 00:10:57,230
Bam.

199
00:10:57,230 --> 00:10:58,230
1044p.

200
00:10:58,230 --> 00:11:01,230
Einfach mal massive CPU.

201
00:11:01,230 --> 00:11:02,230
Okay die Anzeige ist,

202
00:11:02,230 --> 00:11:04,230
ja mal hardcore pepega.

203
00:11:04,230 --> 00:11:06,230
Die stimmt überhaupt nicht.

204
00:11:06,230 --> 00:11:08,230
Okay so.

205
00:11:08,230 --> 00:11:10,230
Guckt es euch hier an.

206
00:11:10,230 --> 00:11:15,010
Brutalste CPU Last.

207
00:11:15,010 --> 00:11:17,010
So.

208
00:11:17,010 --> 00:11:19,010
Also das ist halt Müll.

209
00:11:19,010 --> 00:11:22,010
Und mittlerweile geht das unter Linux halbwegs.

210
00:11:22,010 --> 00:11:24,010
Mittlerweile geht das unter Linux halbwegs.

211
00:11:24,010 --> 00:11:27,010
Mit GPU Beschleunigung.

212
00:11:27,010 --> 00:11:28,010
Allerdings auch nicht für alle Codexen,

213
00:11:28,010 --> 00:11:30,010
die Grafikkarten unterstützen.

214
00:11:30,010 --> 00:11:34,010
Und ja es müssen so ein bisschen die Sterne im richtigen Winkel stehen,

215
00:11:34,010 --> 00:11:36,010
dass das klappt.

216
00:11:36,010 --> 00:11:39,010
Stripes Dankeschön für den Sub.

217
00:11:39,010 --> 00:11:41,010
Leon danke für den Sub.

218
00:11:41,010 --> 00:11:45,880
Passt mal auf,

219
00:11:45,880 --> 00:11:47,880
wenn ihr denkt B-Top sieht fancy aus.

220
00:11:47,880 --> 00:11:49,880
B-Top kann auch viel viel krasser aussehen.

221
00:11:49,880 --> 00:11:51,880
Äh.

222
00:11:51,880 --> 00:11:52,880
B-Top.

223
00:11:52,880 --> 00:11:53,880
Kann auch viel krasser aussehen.

224
00:11:53,880 --> 00:11:54,880
Guckt mal,

225
00:11:54,880 --> 00:11:55,880
man kann hier das Menü aufmachen.

226
00:11:55,880 --> 00:11:56,880
Und das sieht,

227
00:11:56,880 --> 00:11:58,880
jetzt sieht das aus,

228
00:11:58,880 --> 00:12:01,880
jetzt sieht das aus wie ein DOS Game oder so.

229
00:12:01,880 --> 00:12:03,880
Von 1995.

230
00:12:03,880 --> 00:12:09,690
Presets kann man durchschalten.

231
00:12:09,690 --> 00:12:10,690
Guckt da kann man sogar die,

232
00:12:10,690 --> 00:12:11,690
die, die,

233
00:12:11,690 --> 00:12:12,690
Leute!

234
00:12:12,690 --> 00:12:13,690
Fuck!

235
00:12:13,690 --> 00:12:17,090
IP-Leak!

236
00:12:17,090 --> 00:12:18,090
Was mach ich denn jetzt?

237
00:12:18,090 --> 00:12:23,350
Schon,

238
00:12:23,350 --> 00:12:24,350
schon drin?

239
00:12:24,350 --> 00:12:26,350
Chat?

240
00:12:26,350 --> 00:12:27,350
Schon,

241
00:12:27,350 --> 00:12:28,350
schon eingeloggt?

242
00:12:28,350 --> 00:12:33,260
Jetzt ist eh zu spät.

243
00:12:33,260 --> 00:12:34,260
IP-Leaked.

244
00:12:34,260 --> 00:12:35,260
Fuck.

245
00:12:35,260 --> 00:12:38,260
Dass ich immer die IPs leaken muss hier.

246
00:12:38,260 --> 00:12:40,760
Ja.

247
00:12:40,760 --> 00:12:41,760
Login Host.

248
00:12:41,760 --> 00:12:42,760
Auf geht's.

249
00:12:42,760 --> 00:13:14,000
Ja.

250
00:13:14,000 --> 00:13:15,000
Gut.

251
00:13:15,000 --> 00:13:16,000
Sag mal,

252
00:13:16,000 --> 00:13:17,000
sag wenn du drinne bist.

253
00:13:17,000 --> 00:13:18,000
Ok.

254
00:13:18,000 --> 00:13:19,000
Sag,

255
00:13:19,000 --> 00:13:20,000
sag Bescheid.

256
00:13:20,000 --> 00:13:21,000
Sag Bescheid.

257
00:13:21,000 --> 00:13:23,960
Dann schalte ich die VM aus.

258
00:13:23,960 --> 00:13:24,960
Also Terraform.

259
00:13:24,960 --> 00:13:25,960
Ja.

260
00:13:25,960 --> 00:13:26,960
Was machen wir heute?

261
00:13:26,960 --> 00:13:27,960
Also ich hab mir folgendes überlegt.

262
00:13:27,960 --> 00:13:28,960
Ähm.

263
00:13:28,960 --> 00:13:29,960
Ich hab,

264
00:13:29,960 --> 00:13:30,960
ich hab,

265
00:13:30,960 --> 00:13:31,960
ich zeig jetzt erst mal kurz was das ist.

266
00:13:31,960 --> 00:13:34,960
Also Terraform ist ein Cloud Provisioning Tool.

267
00:13:34,960 --> 00:13:35,960
Oder was sagen die denn selbst,

268
00:13:35,960 --> 00:13:36,960
was sie sind?

269
00:13:36,960 --> 00:13:37,960
Sekunde.

270
00:13:37,960 --> 00:13:38,960
Erstmal hier Dark wieder ausmachen.

271
00:13:38,960 --> 00:13:39,960
Flashbang raus.

272
00:13:39,960 --> 00:13:40,960
Also.

273
00:13:40,960 --> 00:13:41,960
Wie sagen sie denn?

274
00:13:41,960 --> 00:13:42,960
Wie sagen sie denn?

275
00:13:42,960 --> 00:13:43,960
Automatisiert,

276
00:13:43,960 --> 00:13:45,960
Automatisierungstool für Cloud Infrastruktur.

277
00:13:45,960 --> 00:13:47,960
Also im Prinzip ist das das,

278
00:13:47,960 --> 00:13:50,960
was man beispielsweise von Hand klickt.

279
00:13:50,960 --> 00:13:51,960
Bei einem Cloud Anbieter,

280
00:13:51,960 --> 00:13:52,960
sei es jetzt bei Hetzner,

281
00:13:52,960 --> 00:13:53,960
sei es jetzt bei Amazon,

282
00:13:53,960 --> 00:13:55,960
sei es jetzt bei Azure oder Google oder sonst wo.

283
00:13:55,960 --> 00:13:56,960
Ja.

284
00:13:56,960 --> 00:13:57,960
Da kann man Server hinzufügen,

285
00:13:57,960 --> 00:13:59,960
verschiedene Optionen anklicken,

286
00:13:59,960 --> 00:14:00,960
Loadbalancer erstellen,

287
00:14:00,960 --> 00:14:03,960
Firewall Regeln erstellen und alle möglichen Dinger.

288
00:14:03,960 --> 00:14:05,960
Das macht man halt normalerweise im Web Interface.

289
00:14:05,960 --> 00:14:07,960
Oder aber,

290
00:14:07,960 --> 00:14:10,960
man ist schon etwas advancer und benutzt Tools zum Beispiel,

291
00:14:10,960 --> 00:14:13,960
wie das Hetzner Cloud CLI.

292
00:14:13,960 --> 00:14:17,960
Aber das ist natürlich nicht so geil,

293
00:14:17,960 --> 00:14:19,960
wenn man das öfters machen muss.

294
00:14:19,960 --> 00:14:20,960
Und es ist auch nicht so geil,

295
00:14:20,960 --> 00:14:25,960
wenn man regelmäßig neue Infrastruktur hinstellen muss.

296
00:14:25,960 --> 00:14:26,960
Oder aber,

297
00:14:26,960 --> 00:14:28,960
wenn man zum Beispiel Sachen macht,

298
00:14:28,960 --> 00:14:31,960
wie rollierendes oder wie nennt man das?

299
00:14:31,960 --> 00:14:32,960
Rolling.

300
00:14:32,960 --> 00:14:33,960
Wie heißt,

301
00:14:33,960 --> 00:14:34,960
wie nennt man das auf Deutsch?

302
00:14:34,960 --> 00:14:35,960
So Rolling Deployments.

303
00:14:35,960 --> 00:14:37,960
Wie nennt man das auf Deutsch?

304
00:14:37,960 --> 00:14:39,960
Rollierendes Deployment?

305
00:14:39,960 --> 00:14:41,960
Klingt auf Deutsch irgendwie bescheuert.

306
00:14:41,960 --> 00:14:43,960
Also wenn man zum Beispiel,

307
00:14:43,960 --> 00:14:44,960
drei,

308
00:14:44,960 --> 00:14:46,960
fortlaufendes Deployment.

309
00:14:46,960 --> 00:14:47,960
Ne,

310
00:14:47,960 --> 00:14:52,960
fortlaufendes Deployment ist eher die Geschichte von Continuous Integration und Continuous Delivery.

311
00:14:52,960 --> 00:14:54,960
Das ist ja damit nicht gemeint.

312
00:14:54,960 --> 00:14:56,960
Das ist ja damit nicht gemeint.

313
00:14:56,960 --> 00:14:58,960
Was ich meine ist folgendes.

314
00:14:58,960 --> 00:14:59,960
Ne,

315
00:14:59,960 --> 00:15:02,960
Hetzner Sponsoring ist aber gerade wieder in der Mache.

316
00:15:02,960 --> 00:15:03,960
Ja.

317
00:15:03,960 --> 00:15:04,960
Also zum Beispiel,

318
00:15:04,960 --> 00:15:05,960
du hast hier,

319
00:15:05,960 --> 00:15:06,960
Leute,

320
00:15:06,960 --> 00:15:08,960
warum mache ich das eigentlich mit Paint?

321
00:15:08,960 --> 00:15:10,960
Draw.io.

322
00:15:10,960 --> 00:15:12,960
Wir machen das einfach damit.

323
00:15:12,960 --> 00:15:16,400
New Diagramm.

324
00:15:16,400 --> 00:15:17,400
Ja,

325
00:15:17,400 --> 00:15:18,400
ja.

326
00:15:18,400 --> 00:15:23,200
Was?

327
00:15:23,200 --> 00:15:24,200
Warte mal.

328
00:15:24,200 --> 00:15:25,200
Konnte man nicht einfach irgendwie,

329
00:15:25,200 --> 00:15:28,350
ne,

330
00:15:28,350 --> 00:15:29,350
bin verwirrt.

331
00:15:29,350 --> 00:15:30,350
Ging das nicht Local Storage?

332
00:15:30,350 --> 00:15:33,490
Ach,

333
00:15:33,490 --> 00:15:34,490
die Site Later muss man machen.

334
00:15:34,490 --> 00:15:35,490
Na,

335
00:15:35,490 --> 00:15:36,490
bescheuert.

336
00:15:36,490 --> 00:15:37,490
Also,

337
00:15:37,490 --> 00:15:38,490
ähm,

338
00:15:38,490 --> 00:15:39,490
haben die,

339
00:15:39,490 --> 00:15:40,490
haben die hier ein Load Balancer?

340
00:15:40,490 --> 00:15:41,490
Bild wie?

341
00:15:41,490 --> 00:15:42,490
Balancer?

342
00:15:42,490 --> 00:15:43,490
Gibt's nicht als Bild?

343
00:15:43,490 --> 00:15:44,490
Na gut.

344
00:15:44,490 --> 00:15:45,490
Doch,

345
00:15:45,490 --> 00:15:46,490
sowas haben die.

346
00:15:46,490 --> 00:15:47,490
Also,

347
00:15:47,490 --> 00:15:49,490
der Load Balancer,

348
00:15:49,490 --> 00:15:50,490
ich,

349
00:15:50,490 --> 00:15:51,490
ich versuch euch das mal anzumalen.

350
00:15:51,490 --> 00:15:52,490
So,

351
00:15:52,490 --> 00:15:53,490
der Load Balancer hat irgendeine Public IP,

352
00:15:53,490 --> 00:15:54,490
ja?

353
00:15:54,490 --> 00:15:55,490
Äh,

354
00:15:55,490 --> 00:15:56,490
Public IP 8.8.1.1.

355
00:15:56,490 --> 00:15:57,490
Ich glaub,

356
00:15:57,490 --> 00:15:58,490
das ist der zweite.

357
00:15:58,490 --> 00:15:59,490
Ist das nicht der Google Backup DNS?

358
00:15:59,490 --> 00:16:00,490
Ups.

359
00:16:00,490 --> 00:16:02,930
Keine Ahnung.

360
00:16:02,930 --> 00:16:03,930
Blub,

361
00:16:03,930 --> 00:16:04,930
blub,

362
00:16:04,930 --> 00:16:05,930
blub,

363
00:16:05,930 --> 00:16:06,930
blub.

364
00:16:06,930 --> 00:16:07,930
So,

365
00:16:07,930 --> 00:16:08,930
das ist meine Public IP.

366
00:16:08,930 --> 00:16:09,930
Und,

367
00:16:09,930 --> 00:16:14,820
jetzt hat man da drei Server dahinter stehen.

368
00:16:14,820 --> 00:16:16,820
Es müssen ja nicht zwangsläufig drei sein.

369
00:16:16,820 --> 00:16:18,820
Man kann das ja auch so skalieren,

370
00:16:18,820 --> 00:16:19,820
aber ich mal das jetzt einfach mal so als,

371
00:16:19,820 --> 00:16:20,820
als drei,

372
00:16:20,820 --> 00:16:21,820
drei Server.

373
00:16:21,820 --> 00:16:22,820
Kann man die nicht zusammen,

374
00:16:22,820 --> 00:16:23,820
irgendwie?

375
00:16:23,820 --> 00:16:24,820
Ich bin kein Draw IO Bro,

376
00:16:24,820 --> 00:16:25,820
seh ich grade.

377
00:16:25,820 --> 00:16:26,820
So,

378
00:16:26,820 --> 00:16:27,820
also,

379
00:16:27,820 --> 00:16:31,800
du hast hier drei Server,

380
00:16:31,800 --> 00:16:32,800
und auf die Load Balancestour.

381
00:16:32,800 --> 00:16:33,800
Wie verbindet man den Kram?

382
00:16:33,800 --> 00:16:34,800
So.

383
00:16:34,800 --> 00:16:35,800
So.

384
00:16:35,800 --> 00:16:36,800
Ähm,

385
00:16:36,800 --> 00:16:37,800
jetzt ist die Sache,

386
00:16:37,800 --> 00:16:40,940
jetzt ist die Sache folgendes.

387
00:16:40,940 --> 00:16:41,940
Stimmt,

388
00:16:41,940 --> 00:16:47,580
wem gehört eigentlich 69,

389
00:16:47,580 --> 00:16:48,580
69,

390
00:16:48,580 --> 00:16:49,580
69,

391
00:16:49,580 --> 00:16:51,960
69,

392
00:16:51,960 --> 00:16:52,960
69,

393
00:16:52,960 --> 00:16:53,960
69,

394
00:16:53,960 --> 00:16:54,960
69,

395
00:16:54,960 --> 00:16:55,960
69,

396
00:16:55,960 --> 00:16:56,960
69,

397
00:16:56,960 --> 00:16:57,960
69,

398
00:16:57,960 --> 00:16:58,960
69,

399
00:16:58,960 --> 00:16:59,960
69,

400
00:16:59,960 --> 00:17:00,960
69,

401
00:17:00,960 --> 00:17:01,960
69,

402
00:17:01,960 --> 00:17:02,960
69,

403
00:17:02,960 --> 00:17:03,960
69,

404
00:17:03,960 --> 00:17:04,960
69,

405
00:17:04,960 --> 00:17:05,960
69,

406
00:17:05,960 --> 00:17:06,960
69,

407
00:17:06,960 --> 00:17:07,960
69,

408
00:17:07,960 --> 00:17:08,960
69,

409
00:17:08,960 --> 00:17:09,960
69,

410
00:17:09,960 --> 00:17:10,960
69,

411
00:17:10,960 --> 00:17:11,960
69,

412
00:17:11,960 --> 00:17:12,960
69,

413
00:17:12,960 --> 00:17:13,960
69,

414
00:17:13,960 --> 00:17:14,960
69,

415
00:17:14,960 --> 00:17:15,960
69,

416
00:17:15,960 --> 00:17:16,960
69,

417
00:17:16,960 --> 00:17:17,960
69,

418
00:17:17,960 --> 00:17:18,960
69,

419
00:17:18,960 --> 00:17:19,960
69,

420
00:17:19,960 --> 00:17:20,960
69,

421
00:17:20,960 --> 00:17:21,960
69,

422
00:17:21,960 --> 00:17:22,960
69,

423
00:17:22,960 --> 00:17:23,960
69,

424
00:17:23,960 --> 00:17:24,960
69,

425
00:17:24,960 --> 00:17:34,440
69,

426
00:17:34,440 --> 00:17:35,440
69,

427
00:17:35,440 --> 00:17:39,350
69,

428
00:17:39,350 --> 00:17:40,350
69,

429
00:17:40,350 --> 00:17:41,350
69,

430
00:17:41,350 --> 00:17:44,750
Und du scheinst zu wissen, wer Hans Feld ist.

431
00:17:55,130 --> 00:17:59,250
Das wusste J-Law, die Mail passt einfach zu gut.

432
00:18:00,410 --> 00:18:02,150
Genau, er hat nicht gefragt, wer das ist.

433
00:18:02,650 --> 00:18:03,810
Erwischt, erwischt.

434
00:18:06,390 --> 00:18:09,070
Okay, J-Law, ich zeige dir, wer Hans Feld ist.

435
00:18:12,260 --> 00:18:15,180
Hans Feld hat mir eine E-Mail geschrieben zu meinem Windows-Video.

436
00:18:16,000 --> 00:18:18,780
Und ich will jetzt gerade rauskriegen, wer das vom Chat gewesen ist,

437
00:18:18,780 --> 00:18:20,920
weil diese Mail ist so offensichtlich, J-Bait.

438
00:18:20,920 --> 00:18:23,660
Also Hans Feld schreibt zu meinem Windows-Video,

439
00:18:24,100 --> 00:18:28,220
Sorry, aber muss das sein, dass hier ein Teenie Bullshit erzählt?

440
00:18:29,000 --> 00:18:32,780
Der hat keine Ahnung, was er da rauslässt und sagt auch Sachen, die so nicht stimmen.

441
00:18:33,520 --> 00:18:35,640
Nachweislich sagt er somit Fake News.

442
00:18:37,380 --> 00:18:37,800
Du hast...

443
00:18:37,800 --> 00:18:40,360
Sag mal, J-Law, wo bist du nicht gebannt?

444
00:18:41,600 --> 00:18:43,980
Okay, bei mir auf dem Discord noch nicht anscheinend.

445
00:18:46,180 --> 00:18:47,360
So, ähm...

446
00:18:48,820 --> 00:18:50,900
Und ich werde hier mit meinem Anwalt klären,

447
00:18:51,020 --> 00:18:52,340
sollte das Video nicht...

448
00:18:52,340 --> 00:18:56,720
Anzeige zu erstatten wegen Verbreitung falscher Tatsachen.

449
00:18:59,630 --> 00:19:03,490
Also J-Law, der war es wirklich nicht, dem glaube ich das, weil...

450
00:19:04,830 --> 00:19:09,310
Der würde garantiert zugeben, wenn man ihn erwischt hätte,

451
00:19:09,730 --> 00:19:11,770
beziehungsweise wenn er das wäre,

452
00:19:12,170 --> 00:19:15,570
weil dann würde er sich abfeiern im Chat, dass er mich geil gerollt hat.

453
00:19:16,550 --> 00:19:21,320
Aber die Mail ist so hardcore J-Bait,

454
00:19:21,840 --> 00:19:24,760
das muss einer aus dem Chat sein, anders kann ich es mir nicht erklären.

455
00:19:26,180 --> 00:19:30,140
So, also jetzt kommen wir mal zurück, was wir heute mit Terraform machen.

456
00:19:30,280 --> 00:19:36,880
Also, Loadbalancer am Eingang und dahinter drei Application-Server mit Software-Version 1.

457
00:19:37,380 --> 00:19:42,680
So, und jetzt habe ich was programmiert und es gibt jetzt Software-Version 2.

458
00:19:43,840 --> 00:19:44,660
Jetzt ist die Sache.

459
00:19:45,360 --> 00:19:47,680
Mal angenommen, ich schalte hier jetzt ein...

460
00:19:47,680 --> 00:19:49,220
Was will das Ding von mir?

461
00:19:49,700 --> 00:19:51,360
Nein, ich will die 1...

462
00:19:51,360 --> 00:19:59,780
So.

463
00:19:59,780 --> 00:19:59,860
So.

464
00:20:01,840 --> 00:20:02,460
Benutzen wir...

465
00:20:02,460 --> 00:20:04,060
Benutzen wir der KQES-Service.

466
00:20:04,260 --> 00:20:08,400
Also, theoretisch könnte ich jetzt einfach die Software-Version 1 hier abschalten,

467
00:20:09,000 --> 00:20:11,940
Version 2 draufschieben und Version 2 starten.

468
00:20:12,880 --> 00:20:13,060
So.

469
00:20:13,580 --> 00:20:21,060
Das Problem ist aber, dass in dieser Zeit, wo Version 1 down ist, bis Version 2 up ist,

470
00:20:21,580 --> 00:20:24,560
je nachdem, wie gut ich das hier mit meinem Loadbalancer manage,

471
00:20:24,560 --> 00:20:30,740
wenn hier ein User ankommt und der Loadbalancer Loadbalancen zufälligerweise

472
00:20:30,740 --> 00:20:31,560
noch auf...

473
00:20:32,460 --> 00:20:37,220
auf diesen Server hier unten, dann kriegt er einen Fehler, weil das läuft ja gerade

474
00:20:37,220 --> 00:20:38,040
nicht auf dem Server.

475
00:20:40,750 --> 00:20:41,430
So, das kann man...

476
00:20:41,430 --> 00:20:43,330
Das kann man auf verschiedene Arten regeln.

477
00:20:44,670 --> 00:20:53,370
Zum Beispiel kann man einen Health-Check machen vom Loadbalancer an den Server und

478
00:20:53,370 --> 00:20:56,670
der Loadbalancer guckt regelmäßig nach, ob der Server noch lebt.

479
00:20:56,670 --> 00:21:02,050
Das macht der Loadbalancer eh, weil er muss ja Anfragen hinschicken und wenn die abkacken,

480
00:21:02,170 --> 00:21:03,030
dann weiß er es.

481
00:21:03,130 --> 00:21:03,670
Aber es hat...

482
00:21:04,350 --> 00:21:08,350
seinen Sinn, das kann ich vielleicht an der Stelle auch mal erklären, es hat schon durchaus

483
00:21:08,350 --> 00:21:13,090
seinen Sinn, einen extra Health-Check zu machen auf seinen Backend-Server neben dem normalen

484
00:21:13,090 --> 00:21:19,450
Loadbalancen, weil zum Beispiel, wenn ich jetzt den Service hier runterfahre, beziehungsweise

485
00:21:19,450 --> 00:21:25,270
wenn ich den Service hier runterfahren will, dann kriegt das der Loadbalancer nicht instant

486
00:21:25,270 --> 00:21:28,790
mit und wenn jetzt gerade im falschen Moment, also machen wir mal, ich schalte hier jetzt

487
00:21:28,790 --> 00:21:33,550
den Service ab, im nächsten ist es alles testrelevant hier.

488
00:21:34,350 --> 00:21:38,310
Und ich schalte den Service ab, der Loadbalancer hat es noch nicht mitgekriegt, der braucht

489
00:21:38,310 --> 00:21:42,410
1-2 Sekunden, bis er das mitkriegt, dann schickt er den User hier wieder auf den Server und

490
00:21:42,410 --> 00:21:43,430
hier läuft kein Service mehr.

491
00:21:43,810 --> 00:21:48,910
Deswegen macht man einfach einen Health-Check und ich sag dem Service hier, Web-Server,

492
00:21:49,030 --> 00:21:54,410
fahr dich runter, dann setzt der Web-Server, beziehungsweise meine Backend-Anwendung ist

493
00:21:54,410 --> 00:21:58,070
es, den Health-Check auf 503, war es 503?

494
00:22:00,350 --> 00:22:00,610
Genau.

495
00:22:00,610 --> 00:22:05,610
Dann setzt der beim runterfahren, das Server setzt den Health-Check auf 503.

496
00:22:05,730 --> 00:22:10,270
Das heißt, der Loadbalancer bekommt beim Health-Check mit, aha, Service ist nicht

497
00:22:10,270 --> 00:22:15,090
mehr erreichbar, aber der Server antwortet noch in der Zwischenzeit und erst nach sagen

498
00:22:15,090 --> 00:22:18,490
wir 5 Sekunden, schaltet sich der Service dann wirklich aus.

499
00:22:18,490 --> 00:22:24,070
Das heißt, sobald ich sage, Backend bitte runterfahren, liefert der Health-Check 503

500
00:22:24,070 --> 00:22:28,910
zurück, nach 1-2-3 Sekunden checkt das der Loadbalancer, schickt dementsprechend keinen

501
00:22:28,910 --> 00:22:33,570
neuen User mehr auf meinen Server und dann wartet er 5 Sekunden und fährt sich runter.

502
00:22:33,570 --> 00:22:34,570
So.

503
00:22:34,570 --> 00:22:35,570
Und.

504
00:22:35,570 --> 00:22:41,470
Das kann man alles wunderbar von Hand machen oder man benutzt irgendeine Automatisierungslösung

505
00:22:41,470 --> 00:22:42,470
dafür.

506
00:22:42,470 --> 00:22:48,650
Man kann das in irgendein Config-Management rein prügeln, sei es Ansible oder Puppet oder

507
00:22:48,650 --> 00:22:51,170
man kann das auch mit Terraform machen.

508
00:22:51,170 --> 00:22:55,150
Terraform hat den Charme, ich lass das mal kurz auf, nein, ich will mir nicht mein Video

509
00:22:55,150 --> 00:22:56,150
jetzt angucken.

510
00:22:56,150 --> 00:23:03,350
Terraform hat den Charme, dass es deutlich besser ist, was Infrastruktur, also Infrastruktur-Provisioning

511
00:23:03,350 --> 00:23:05,370
angeht, als jetzt was über Ansible.

512
00:23:05,570 --> 00:23:11,670
Die Tools haben gewisse Überschneidungen, aber sind im Prinzip für unterschiedliche

513
00:23:11,670 --> 00:23:12,670
Sachen gedacht.

514
00:23:12,670 --> 00:23:18,690
Ja, Ansible ist dafür gedacht, dass du Server, die da sind, konfigurierst und Terraform ist

515
00:23:18,690 --> 00:23:24,470
dafür gedacht, dass du Server noch gar nicht hast, sondern anlegen willst mit speziellen

516
00:23:24,470 --> 00:23:25,470
Parametern.

517
00:23:25,470 --> 00:23:30,470
Ja, mit dieser IP, mit diesem Festplattenplatz, mit diesem Netzwerk und sonst wie und also

518
00:23:30,470 --> 00:23:34,470
mit Terraform legst du Server und Infrastruktur an, mit Ansible kannst du es konfigurieren.

519
00:23:34,470 --> 00:23:40,270
Aber, die beiden Tools, Ansible haben wir uns ja auch schon mal zusammen hier angeguckt,

520
00:23:40,270 --> 00:23:49,110
ähm, so, und, nee, nee, Terraform ist deutlich mehr als ein Wrapper, ich mein, unter der Haube

521
00:23:49,110 --> 00:23:53,230
benutzt das bestimmt die Tools von den jeweiligen Herstellern, weil wie sollen sie sich sonst

522
00:23:53,230 --> 00:23:57,430
an der offiziellen API gescheit kommunizieren mit denen, aber, nee, nee, das ist, vor allem

523
00:23:57,430 --> 00:23:58,430
ist das einheitlicher.

524
00:23:58,430 --> 00:24:02,570
So, natürlich kannst du mit Ansible auch Server anlegen.

525
00:24:02,570 --> 00:24:12,140
Und du kannst mit Terraform auch Server konfigurieren, aber das Provisioning ist in Ansible nicht so

526
00:24:12,140 --> 00:24:17,830
schön wie in Terraform und das Konfigurieren ist in Terraform nicht so schön wie in Ansible.

527
00:24:17,830 --> 00:24:27,580
So, und man kann gucken, beispielsweise hier in der Registry von Terraform, ob das unterstützt

528
00:24:27,580 --> 00:24:31,400
ist, was man, was man benutzen will als Cloud Anbieter und wir wollen zum Beispiel Hetzner

529
00:24:31,400 --> 00:24:32,400
verwenden.

530
00:24:32,400 --> 00:24:37,400
Aber Hetzner hat sich ziemlich threeheadig nicht Hetzner genannt.

531
00:24:37,400 --> 00:24:46,020
Bei Terraform, das finde ich nicht so clever, weil die Leute suchen nach Hetzner, aber

532
00:24:46,020 --> 00:24:53,830
nein, man muss eigentlich nach H-Cloud suchen, H-Cloud ist das Richtige.

533
00:24:53,830 --> 00:25:00,090
So, und, also mein Ziel ist halt folgendes, ich werde versuchen sowas hier aufzubauen.

534
00:25:00,090 --> 00:25:09,470
Also, ein Loadbalancer davor mit Zertifikat über Terraform, ja, und das habe ich, wie

535
00:25:09,470 --> 00:25:11,470
gesagt, das habe ich from scratch noch nie gemacht.

536
00:25:11,470 --> 00:25:13,850
Das heißt, es kann auch sein, dass es nicht richtig funktioniert.

537
00:25:13,850 --> 00:25:18,790
Also, Loadbalancer davor, dann eins, zwei, drei, macht letztendlich keinen Unterschied.

538
00:25:18,790 --> 00:25:24,510
Application Server dahinter, Anwendung draufschieben, mal schauen, wie wir das dann machen und dann

539
00:25:24,510 --> 00:25:27,990
einmal gucken, ob wir das irgendwie durchdeployed kriegen, ohne dass was kaputt geht.

540
00:25:27,990 --> 00:25:36,100
Ja, so habe ich mir das gedacht.

541
00:25:36,100 --> 00:25:38,180
So, das machen wir jetzt auch.

542
00:25:38,180 --> 00:25:41,680
Ich habe schon was angelegt und zwar, wir benutzen wieder CAC WSService.

543
00:25:41,680 --> 00:25:43,600
Wer das nicht kennt.

544
00:25:43,600 --> 00:25:52,560
Das ist ein Testprojekt, was wir öfters verwenden, wenn wir irgendwelche Cloud-Geschichten ausprobieren.

545
00:25:52,560 --> 00:26:02,600
Und zwar ist CAC WSService eine ASP.NET Anwendung, die nichts anderes macht, wie ein Bild, ein

546
00:26:02,600 --> 00:26:05,100
CAC W-Bild zu rotaten.

547
00:26:05,100 --> 00:26:08,220
Ich kann euch das mal zeigen, wie das aussieht.

548
00:26:08,220 --> 00:26:10,600
Ich weiß gar nicht, ob man das überhaupt lokal starten kann.

549
00:26:10,600 --> 00:26:11,600
Ach ne, Moment.

550
00:26:11,600 --> 00:26:12,600
CAC WSService.net run.

551
00:26:12,600 --> 00:26:13,600
So.

552
00:26:13,600 --> 00:26:16,620
Hi Happen, Dankeschön für den Sub.

553
00:26:16,620 --> 00:26:17,620
Was?

554
00:26:17,620 --> 00:26:18,620
Oh.

555
00:26:18,620 --> 00:26:19,620
Moment.

556
00:26:19,620 --> 00:26:32,700
Ist CAC WSService etwa noch so alt, dass es nicht .NET 6 fähig ist?

557
00:26:32,700 --> 00:26:39,680
Ab was für Infrastrukturgrößen lohnt sich das?

558
00:26:39,680 --> 00:26:49,710
Ja, hm, da kann man sich, da kann man sich drüber streiten, also ich würde sagen, es

559
00:26:49,710 --> 00:26:52,590
lohnt sich weniger ab Infrastrukturgrößen.

560
00:26:52,590 --> 00:26:59,590
Da wird also, beziehungsweise, da ist es schwierig zu sagen, ab wann sich's lohnt, ja, also was

561
00:26:59,590 --> 00:27:00,590
weiß ich.

562
00:27:00,590 --> 00:27:03,670
Wenn du 20, 30 Kisten hast, finde ich, lohnt sich schon, aber es ist eigentlich viel eher

563
00:27:03,670 --> 00:27:07,190
die Frage, musst du die oft anfassen?

564
00:27:07,190 --> 00:27:16,030
Also sprich, baust du da öfters mal Kisten neu auf oder hast du irgendeine Deployment-Strategie,

565
00:27:16,030 --> 00:27:21,590
die enthält, Kisten neu aufzubauen, weil man muss, das muss ich jetzt an der Stelle auch

566
00:27:21,590 --> 00:27:22,590
sagen.

567
00:27:22,590 --> 00:27:27,590
Also, was man ja auch machen kann, die klassische Variante wäre, ich bin der Admin, gibt es

568
00:27:27,590 --> 00:27:28,590
einen Admin?

569
00:27:28,590 --> 00:27:29,590
Gibt's einen Admin?

570
00:27:29,590 --> 00:27:37,590
Ey, es gibt sogar einen Admin-Icon, ja, Five-Head-Admin, also, was man auch machen könnte, ist, die

571
00:27:37,590 --> 00:27:43,590
klassische Variante wäre, man, guck mal, die haben echt, die haben echt für alles irgendeinen,

572
00:27:43,590 --> 00:27:48,590
oh, Hi-Res, Hi-Res-Build, Secure, ja.

573
00:27:48,590 --> 00:27:51,590
Also, die klassische Variante wäre ja folgendes.

574
00:27:51,590 --> 00:28:01,220
Man baut sich diese Infrastruktur einmal auf und wenn man dann was dran ändern will,

575
00:28:01,220 --> 00:28:07,820
lockt sich der Admin-PSSH da drauf ein, kopiert irgendeine neue Version hin, stoppt die alte,

576
00:28:07,820 --> 00:28:11,280
startet die neue, guckt in der Zwischenzeit im Loadbalancer, dass keine Connections mehr

577
00:28:11,280 --> 00:28:14,980
da sind und dann ist gut.

578
00:28:14,980 --> 00:28:19,220
Aber, es gibt einen Nachteil von dieser ganzen Geschichte.

579
00:28:19,220 --> 00:28:22,520
Also, nicht nur, dass man einen Admin braucht, der ein bisschen weiß, was er macht und da

580
00:28:22,520 --> 00:28:23,120
gibt es...

581
00:28:23,220 --> 00:28:29,420
Irgendwie auch ziemlich viele Three-Head-Leute, aber es gibt einen Vorteil, wirklich die Sache

582
00:28:29,420 --> 00:28:34,820
in Terraform zu machen, also mehrere, beziehungsweise in einem Infrastructure-as-Code-Tool, wie sich

583
00:28:34,820 --> 00:28:36,620
das nennt, weil es gerade jemand im Chat geschrieben hat.

584
00:28:36,620 --> 00:28:44,220
Ein Vorteil ist, du siehst automatisch so grob, wie die Server eingerichtet sind.

585
00:28:44,220 --> 00:28:49,620
Das heißt, es ist weniger die Frage, so nach dem Motto, ja, welche IP haben wir den Dingern

586
00:28:49,620 --> 00:28:50,620
denn gegeben?

587
00:28:50,620 --> 00:28:52,220
Was haben wir da für ein Betriebssystem drauf?

588
00:28:52,220 --> 00:28:53,820
Haben wir das und das Tool installiert?

589
00:28:53,820 --> 00:28:59,620
Du hast dadurch, dass du deine Server-Definition in, es ist kein YAML-File, aber ich sage es

590
00:28:59,620 --> 00:29:03,220
mal, in einen YAML-File schreibst, hast du immer was, wo du nachgucken kannst, so ungefähr

591
00:29:03,220 --> 00:29:04,220
wie deine Server ausschauen.

592
00:29:04,220 --> 00:29:09,120
So, und das Nächste ist, mit der Zeit, und das kennt wahrscheinlich jeder, der so mal

593
00:29:09,120 --> 00:29:13,920
die klassische Turnschuh-Administration noch gemacht hat, also wirklich jede Menge Kisten

594
00:29:13,920 --> 00:29:20,520
noch im Rechenzentrum hatte, sich darum gekümmert hat oder auch jede Menge VM hattest, es gibt

595
00:29:20,520 --> 00:29:22,020
einen riesen Vorteil für mich.

596
00:29:22,020 --> 00:29:25,320
Und ich finde, da wird nicht oft genug herausgestellt.

597
00:29:25,320 --> 00:29:31,120
Und zwar, mit der Zeit sammelt sich auf von Hand administrierten Servern jede Menge Müll

598
00:29:31,120 --> 00:29:32,120
an.

599
00:29:32,120 --> 00:29:38,120
Irgendjemand hat mal Btop nachinstalliert, weil er Btop geil fand, irgendjemand hat mal

600
00:29:38,120 --> 00:29:43,000
Logs gezogen in ein Verzeichnis, irgendjemand hat mal temporär ein Unit-File erstellt mit

601
00:29:43,000 --> 00:29:47,260
irgendeinem Workaround für irgendeinen Service, irgendjemand hat mal temporär eine zweite

602
00:29:47,260 --> 00:29:51,020
Platte eingehängt, weil er irgendwie Backups mal hin und her schieben musste.

603
00:29:51,020 --> 00:29:52,020
Irgendeiner hat...

604
00:29:52,020 --> 00:29:55,020
Ich weiß nicht, ich habe das nun aber nicht gesagt, ich habe vorher ein Problem gemacht,

605
00:29:55,020 --> 00:29:56,020
aber...

606
00:29:56,020 --> 00:30:15,520
Also man hat gewiss auch für die

607
00:30:15,520 --> 00:30:19,120
Server, also für den Webserver, ihr habt...

608
00:30:19,120 --> 00:30:20,120
Das ist...

609
00:30:20,120 --> 00:30:21,120
Das ist...

610
00:30:21,120 --> 00:30:25,800
c engine xd und da kannst du deine einzelnen dateien reinlegen so jetzt

611
00:30:25,800 --> 00:30:29,400
gehen wir mal von aus irgendjemand hat damals eine datei angelegt für ein

612
00:30:29,400 --> 00:30:38,280
wordpress und mittlerweile ist da kein wordpress mehr drauf aber du willst einen

613
00:30:38,280 --> 00:30:43,340
neuen service hinlegen auf dem gleichen port wie damals der wordpress lief

614
00:30:43,340 --> 00:30:48,240
niemand hat diese alte datei gelöscht klar kannst du sagen ja gut der typ halt

615
00:30:48,240 --> 00:30:55,310
damals aufpassen müssen aber man kann es halt prinzipiell umgehen und dann hast

616
00:30:55,310 --> 00:30:59,870
du hast du probleme vielleicht hast du noch überbleibsel von deiner wordpress

617
00:30:59,870 --> 00:31:04,610
config im web im config verzeichnis vom web server liegen obwohl da kein wordpress

618
00:31:04,610 --> 00:31:08,730
mehr drauf ist du machst jetzt eine neue php anwendung drauf und die hat auf

619
00:31:08,730 --> 00:31:12,650
einmal irgendwelche insecure settings von irgendeiner drei jahre alten wordpress

620
00:31:12,650 --> 00:31:19,430
installation oder irgendjemand hat mal ssh keys erlaubt sich einzuloggen und die nie

621
00:31:19,430 --> 00:31:19,550
wieder

622
00:31:19,550 --> 00:31:22,610
gelöscht und du hast mitarbeiter ssh keys drin die seit vier jahren nicht mehr

623
00:31:22,610 --> 00:31:28,670
da sind das kann dir alles passieren so und deswegen finde ich hat terraform

624
00:31:28,670 --> 00:31:31,670
noch eine weitere beziehungsweise solche infrastructure as code tools einen

625
00:31:31,670 --> 00:31:36,770
weiteren riesen vorteil und zwar du kannst deine server wenn du es halbwegs

626
00:31:36,770 --> 00:31:43,550
gescheit machst du kannst deine server wegschmeißen gibt es in hakel es gibt

627
00:31:43,550 --> 00:31:49,430
es gibt keine autoscaling groups es gibt jetzt neuerdings groups für

628
00:31:49,430 --> 00:31:54,830
das verteilen im rechenzentrum dass du nicht auf der gleichen hardware läuft

629
00:31:54,830 --> 00:32:02,270
sowas an die autoscaling groups wie in aws gibt es nicht so und das kannst du

630
00:32:02,270 --> 00:32:04,470
also dass die probleme die ich gerade beschrieben habe die kannst du ganz

631
00:32:04,470 --> 00:32:09,770
einfach lösen indem du deine server regelmäßig wenn

632
00:32:09,770 --> 00:32:14,670
irgendwas ist wegschmeißt und neu aus der konfiguration hinstellst das klingt

633
00:32:14,670 --> 00:32:19,310
natürlich erstmal wahnsinnig aufwendig weil man denkt sich so server wegschmeißen

634
00:32:19,310 --> 00:32:24,770
fans auf convertsnick dann du bist mit dem anger� und wenn dann Hauptsache

635
00:32:24,770 --> 00:32:30,310
selbst investors bei der wahl mit dem cartridges drin sind oder wenn du

636
00:32:30,310 --> 00:32:35,230
gleich malash auchической erregt dann geht einzige andere sache der

637
00:32:35,230 --> 00:32:39,930
konzeption ist also du musst dann Konflikte stellen du musst den neuen

638
00:32:39,930 --> 00:32:43,370
server anlegen dann musst du auf den server drauf connecten

639
00:32:43,370 --> 00:32:47,190
man installiert den webserver man ist man in kopf die anwendung drauf so wenn man

640
00:32:47,190 --> 00:32:49,130
das so macht dann ist es ein riesen akt › 2 › re نہnt das soils verужnungsrecht

641
00:32:49,130 --> 00:32:55,310
ungefähr in der geschwindigkeit wie dein cloud provider das zulässt dass du über die api dinge

642
00:32:55,310 --> 00:33:02,330
anlegst also du kannst ein server für die hetzer cloud ungefähr in 20 sekunden neu professionieren

643
00:33:02,330 --> 00:33:10,520
du löscht das ding du wartest ein paar sekunden dass der laut balancer das rausnimmt du stellst

644
00:33:10,520 --> 00:33:16,200
den server neu hin lässt irgendwelche in skripts laufen paar sekunden die dann was drauf installieren

645
00:33:16,200 --> 00:33:21,300
und da ist das war wieder da das hat den vorteil der server ist exakt in dem stand wie er in deiner

646
00:33:21,300 --> 00:33:25,560
config datei beschrieben ist und dadurch dass du den bei jedem deployment und bei allem möglichen

647
00:33:25,560 --> 00:33:32,340
wegschmeißen kannst neu erstellen kannst sammelt sich kein müll drauf an der im zweifelsfall zu

648
00:33:32,340 --> 00:33:40,830
irgendwelche sicherheitsproblemen führt voll redeployment habe ich noch nicht gehört aber

649
00:33:40,830 --> 00:33:46,290
warum nicht wir müssen auch mal ein paar it buzzwords implementieren das macht nicht nur

650
00:33:46,290 --> 00:33:49,030
in der cloud sind das macht auch mit einem eigenen rechner

651
00:33:49,030 --> 00:33:54,370
zentrum sind das kannst du im eigenen rechenzentrum auch machen stell dir vor du hast den esx cluster

652
00:33:54,370 --> 00:34:00,950
du hast kvm backends xen backends was auch immer gerade esx warum nicht kannst du auch machen ist

653
00:34:00,950 --> 00:34:07,290
sogar sinnvoll zu machen problematisch ist halt nur wenn viel externe sachen dran hängt bei uns

654
00:34:07,290 --> 00:34:12,950
auf der arbeit im rechenzentrum würde das zum beispiel nicht gut funktionieren weil dort ist

655
00:34:12,950 --> 00:34:20,450
alles so oldschool durch organisiert dass du nicht einfach sagen kannst ich lege jetzt mit

656
00:34:20,450 --> 00:34:25,270
terraform drei neue server an und die funktionieren dann da musst du erst mal zum netzwerk team und

657
00:34:25,270 --> 00:34:31,010
sagen welche ip adresse könnte ich denn nehmen ja ich meine wer hat schon mal was von dhcp

658
00:34:31,010 --> 00:34:38,870
welche ip darf ich denn nehmen kann das jemand im ip management system für mich reservieren

659
00:34:38,870 --> 00:34:45,470
ah ja ok dann braucht die neue ip noch irgendwelche firewall freischaltung moment storage anbindung

660
00:34:45,470 --> 00:34:50,270
braucht das auch noch dann muss ich zum sahnteam weil die müssen das ding ja erst mal richtig zonen

661
00:34:50,450 --> 00:34:55,190
ach moment welche storage tier will ich eigentlich muss das schnell sein oder muss das langsam sein

662
00:34:55,190 --> 00:35:00,530
ja also wenn man natürlich solche oldschool dinge auf der arbeit hat ihr kennt eventuell wenn ihr

663
00:35:00,530 --> 00:35:05,150
in dem bereich arbeit dann ist das nix dann ist es nämlich eine sache von drei vier tagen wenn

664
00:35:05,150 --> 00:35:16,770
nicht wochen bis ein neues system dasteht aber das muss ja nicht so sein ja die cpu ist ein

665
00:35:16,770 --> 00:35:22,850
bisschen lahm wenn es die dual core cpu ist oder ist das die quad core variante

666
00:35:23,970 --> 00:35:30,630
das ist okay das ist in ordnung kannst du nehmen ich meine das hat kein ja die hat definitiv mehr

667
00:35:30,630 --> 00:35:36,730
power als raspberry pi ist okay und die brauchen nicht viel strom kann man kann man empfehlen es ist

668
00:35:36,730 --> 00:35:50,300
nicht schlecht wenn du alles entwickler machen lässt hast aber auch probleme weil du dann

669
00:35:50,300 --> 00:36:11,950
irgendwelche datenbank passwörter im git drin stehen hast im zweifelsfall so was ja so also

670
00:36:11,950 --> 00:36:17,270
jetzt habe ich das das habe ich das denke ich ganz ganz gut erklärt und wir werden wieder unseren keck

671
00:36:17,390 --> 00:36:22,670
wss service verwenden ich muss übrigens gerade mal keck wss service updaten sehe ich da gerade

672
00:36:22,670 --> 00:36:32,780
keck wss service ist zu alt wie kann das sein warum ist es schon wieder outdated overrated

673
00:36:32,780 --> 00:36:45,060
jebaited ich muss das kurz upgraden wo haben wir es denn hier keck wss service da ist es der ist

674
00:36:45,060 --> 00:36:50,620
noch .NET 5 wir müssen upgraden auf .NET 6 gucken ob das einfach funktioniert das ist eine sache von

675
00:36:50,620 --> 00:36:51,180
zwei minuten

676
00:36:56,320 --> 00:37:15,120
ein halbes jahr alt ist schon legacy unload wo leute wo ist der unload knopf ach da habe ich nicht

677
00:37:15,120 --> 00:37:36,330
gesehen so .NET 6 load das war das war das upgrade mehr müssen wir nicht machen auf gib ihm so .NET run

678
00:37:36,330 --> 00:37:36,350
.NET run

679
00:37:41,490 --> 00:37:49,170
also keck wss service macht folgendes wenn du ihnen aufruft kriegst du einen

680
00:37:49,170 --> 00:37:55,470
random rotiertes keck w bild mit transparenz der hintergrund sieht weiß aus aber es ist

681
00:37:55,470 --> 00:38:05,680
ein transparenter hintergrund also der also nächstes startup gründung ist schon raus das

682
00:38:05,680 --> 00:38:10,140
ist so ein test service den wir gebaut haben um sachen auszuprobieren der kann nix anderes

683
00:38:10,140 --> 00:38:14,700
als bilder distur 홀 aber das ist ein web service den man wunderbar auch ein bisschen stressen kann

684
00:38:15,260 --> 00:38:16,900
Mit tausenden Anfragen.

685
00:38:17,360 --> 00:38:19,680
Und dann gucken, wie viel CPU-Laster es generiert und alles.

686
00:38:23,270 --> 00:38:24,610
Du kannst das Bild kopieren, ja, ja.

687
00:38:27,940 --> 00:38:31,160
Und ich glaube, Keg WSService ist mittlerweile so advanced.

688
00:38:31,660 --> 00:38:33,060
Oh, Kekona gibt es auch.

689
00:38:33,560 --> 00:38:34,340
Get Kekona.

690
00:38:34,580 --> 00:38:35,540
Moment, Moment.

691
00:38:36,040 --> 00:38:36,680
Was ist denn das?

692
00:38:40,730 --> 00:38:43,550
Wait a minute, warum ist Slash Kekona das gleiche wie Slash...

693
00:38:43,550 --> 00:38:44,410
Okay, keine Ahnung.

694
00:39:00,780 --> 00:39:04,540
Leute, das ist überhaupt nicht die aktuellste Keg WSService-Version.

695
00:39:05,180 --> 00:39:05,980
Guckt mal.

696
00:39:07,980 --> 00:39:08,460
Fix.

697
00:39:11,950 --> 00:39:13,630
Doch, das ist die aktuellste Version.

698
00:39:14,110 --> 00:39:14,390
Okay.

699
00:39:15,530 --> 00:39:15,930
Na dann.

700
00:39:18,810 --> 00:39:21,150
Ich bilde eigentlich ein, wir haben das verbessert mittlerweile.

701
00:39:21,910 --> 00:39:23,010
Dass es gar keine...

702
00:39:23,010 --> 00:39:25,610
Dass es das Bild-Rotaten im RAM macht.

703
00:39:26,710 --> 00:39:27,230
Ja.

704
00:39:28,330 --> 00:39:29,950
Aber wie dem auch sei...

705
00:39:33,520 --> 00:39:34,220
Warum habe ich da verschiedene...

706
00:39:34,880 --> 00:39:37,780
Ich weiß wirklich nicht mehr, was ich da getrieben habe.

707
00:39:41,110 --> 00:39:41,390
Egal.

708
00:39:42,050 --> 00:39:43,230
Es funktioniert.

709
00:39:43,490 --> 00:39:45,470
Sonderlich sinnvoll ist dieser Service eh nicht.

710
00:39:46,870 --> 00:39:47,630
So, und das ist...

711
00:39:47,730 --> 00:39:49,850
Das ist der Service, mit dem wir das immer ausprobieren.

712
00:39:49,850 --> 00:39:52,850
Ansonsten ist hier nichts weiter drinne.

713
00:39:53,390 --> 00:39:54,190
Es ist noch...

714
00:39:54,190 --> 00:39:55,070
Ich kann das mal öffnen.

715
00:39:55,070 --> 00:39:57,070
Es ist noch ein Ansible-Playbook drinne.

716
00:39:58,670 --> 00:39:59,430
Irgendwo hier.

717
00:40:01,570 --> 00:40:07,670
Wo wir die Server damals über Ansible konfiguriert haben, aber das machen wir heute nicht.

718
00:40:08,690 --> 00:40:14,110
Heute bauen wir nämlich die gesamte Infrastruktur auf und das Ganze eben mit Terraform.

719
00:40:14,330 --> 00:40:16,710
Und übrigens, die Domain ist auch wunderbar.

720
00:40:16,710 --> 00:40:17,730
Keckw.

721
00:40:18,710 --> 00:40:22,800
Die S?

722
00:40:26,150 --> 00:40:26,570
Was auch immer.

723
00:40:27,330 --> 00:40:27,970
Keckw.

724
00:40:28,170 --> 00:40:29,390
Keckw.services.

725
00:40:29,610 --> 00:40:31,070
Ich habe eine extra Domain dafür.

726
00:40:33,750 --> 00:40:36,710
Da läuft gerade nichts, aber da wird dann gleich was drauf laufen.

727
00:40:37,290 --> 00:40:44,910
Diese Domain haben wir übrigens dem SiriusMax zu verdanken aus dem Chat, der sich die Domain damals registriert hat, als ich das gestreamt habe.

728
00:40:45,270 --> 00:40:47,310
Und mir die Domain geschickt hat.

729
00:40:47,950 --> 00:40:50,670
Mit Übergabe-Code.

730
00:40:51,450 --> 00:40:53,910
Übrigens, Max, es kann auch nicht mehr passieren.

731
00:40:54,230 --> 00:40:55,590
Dass wir deinen Namen leaken.

732
00:40:55,870 --> 00:41:00,670
Ich habe vorhin extra bei der Domain-Registry Fake-Namen reingeschrieben.

733
00:41:01,210 --> 00:41:04,530
Falls wir uns da einloggen sollten.

734
00:41:08,560 --> 00:41:09,580
So, also.

735
00:41:10,540 --> 00:41:14,220
Wohlgemerkt, ich habe noch nie from scratch was mit Terraform gemacht.

736
00:41:14,320 --> 00:41:21,140
Ich habe Terraform schon benutzt, aber ich habe noch nie mit dem leeren Editor angefangen.

737
00:41:22,340 --> 00:41:25,620
So, ich habe hier schon einen Ordner gemacht, der sich Infra nennt.

738
00:41:25,620 --> 00:41:27,460
Und das zeige ich euch jetzt.

739
00:41:27,460 --> 00:41:32,280
Nicht, weil dann könntet ihr bei mir in der Hetzner-Cloud Dinge machen, die ihr nicht machen sollt.

740
00:41:32,660 --> 00:41:35,980
Ich habe hier eine Datei angelegt, api.tf war es.

741
00:41:36,680 --> 00:41:38,660
Da steht mein Hetzner-API-Token drin.

742
00:41:39,000 --> 00:41:40,880
Das zeige ich euch nicht.

743
00:41:45,260 --> 00:41:48,500
Und wenn ich es euch zeige, muss ich es halt schnell löschen, bis ihr es abgetippt habt.

744
00:41:49,080 --> 00:41:50,920
Aber das mache ich nicht.

745
00:41:51,420 --> 00:41:51,640
Okay.

746
00:42:00,160 --> 00:42:00,940
Chat ist schon drin.

747
00:42:01,260 --> 00:42:03,860
Na, vielleicht sollte ich.

748
00:42:07,730 --> 00:42:08,930
Ich überlege gerade.

749
00:42:11,010 --> 00:42:13,010
Ich glaube, ich move das.

750
00:42:13,010 --> 00:42:14,250
Ein Verzeichnis.

751
00:42:17,880 --> 00:42:20,340
Ich move das aus dem Git-Repo raus.

752
00:42:22,440 --> 00:42:22,920
Irgendwo.

753
00:42:24,780 --> 00:42:26,860
Irgendwo in meinem Heimatverzeichnis oder so.

754
00:42:27,820 --> 00:42:30,540
Wobei ich gar nicht weiß, ob Terraform das dann einlesen kann.

755
00:42:30,840 --> 00:42:31,320
Ist wurscht.

756
00:42:31,700 --> 00:42:34,200
Wenn ich es leake, ist es nicht so schlimm.

757
00:42:35,840 --> 00:42:38,040
Ich kann einfach hier das API-Token dann löschen.

758
00:42:39,040 --> 00:42:40,260
Yes, wir trusten.

759
00:42:40,660 --> 00:42:43,120
Also, aktuell gibt es hier noch nichts in dem Verzeichnis.

760
00:42:43,120 --> 00:42:45,180
Und ich lege jetzt mal eine Terraform-Datei an.

761
00:42:46,120 --> 00:42:47,680
Und die Datei mache ich besser nicht auf.

762
00:42:48,360 --> 00:42:51,020
New File, Main.tf.

763
00:42:54,780 --> 00:42:55,820
Search Marketplace.

764
00:42:56,040 --> 00:42:56,060
So.

765
00:42:57,060 --> 00:43:01,700
Ich weiß auch, dass es Terraform-Wissel-Studio-Code-Plugins gibt.

766
00:43:02,180 --> 00:43:03,900
Chat, was ist davon zu empfehlen?

767
00:43:04,600 --> 00:43:04,960
Warum geht...

768
00:43:04,960 --> 00:43:06,040
Das ist das Offizielle.

769
00:43:06,980 --> 00:43:10,280
Und was hat Anton Kulikow am Start?

770
00:43:10,420 --> 00:43:11,060
Ist das besser?

771
00:43:14,850 --> 00:43:16,170
GT-Knor habe ich das schon drin.

772
00:43:19,960 --> 00:43:21,280
Terraform-Auto-Complete.

773
00:43:21,280 --> 00:43:24,160
Die Offizielle hat auch Auto-Complete.

774
00:43:26,930 --> 00:43:27,810
Ach, kein Chimam.

775
00:43:29,490 --> 00:43:29,990
So.

776
00:43:31,050 --> 00:43:32,930
Machen wir das mal kurz hier in einem eigenen Fenster.

777
00:43:32,930 --> 00:43:33,690
Sonst ein bisschen...

778
00:43:33,690 --> 00:43:34,190
Moment.

779
00:43:34,190 --> 00:43:36,190
Jetzt habe ich das Falsche gemooved.

780
00:43:40,210 --> 00:43:41,210
Okay, also.

781
00:43:41,210 --> 00:43:42,470
Jetzt gucken wir uns das mal an.

782
00:43:42,470 --> 00:43:46,230
Es gibt hier einen Provider für Hetzner Cloud.

783
00:43:47,070 --> 00:43:49,630
Und die haben auch ein paar Beispiele drin, wie das funktioniert.

784
00:43:50,730 --> 00:43:52,150
Und was man da jetzt machen kann, ist...

785
00:43:52,150 --> 00:43:55,230
Das ist ja wirklich basicste Config.

786
00:43:56,130 --> 00:43:59,270
Man muss seinen API-Token hinterlegen.

787
00:43:59,270 --> 00:43:59,810
Das habe ich schon gemacht.

788
00:43:59,810 --> 00:44:05,360
Könnt ihr ruhig...

789
00:44:05,360 --> 00:44:06,360
Macht eine Umfrage.

790
00:44:06,360 --> 00:44:15,410
Ich lege meinen API-Token nicht.

791
00:44:15,410 --> 00:44:17,410
Macht eine Umfrage, wenn ihr wollt.

792
00:44:17,410 --> 00:44:30,870
Ähm...

793
00:44:30,870 --> 00:44:32,870
Was hältst du von AI-Tools wie GitHub CodePilot?

794
00:44:32,870 --> 00:44:36,870
Ich muss dir ehrlich sagen, ich habe es noch nicht groß benutzt.

795
00:44:36,870 --> 00:44:39,870
Ich habe ja schon Videos gesehen von Leuten,

796
00:44:39,870 --> 00:44:42,870
die über ihre Erfahrungen berichtet haben.

797
00:44:42,870 --> 00:44:44,870
Das gibt es jetzt ja auch fast schon ein Jahr.

798
00:44:44,870 --> 00:44:45,870
Und die finden es richtig geil.

799
00:44:45,870 --> 00:44:48,870
Aber GitHub CodePilot soll demnächst kostenpflichtig werden.

800
00:44:48,870 --> 00:45:03,340
WeirdChampChat.

801
00:45:03,340 --> 00:45:20,990
Höchst WeirdChamp.

802
00:45:20,990 --> 00:45:37,220
Die Abstimmung mit Keksen ist halt etwas wenig aussagekräftig,

803
00:45:37,220 --> 00:45:39,220
aber kostet Channel Points.

804
00:45:39,220 --> 00:45:40,220
Sollen wir recht sein.

805
00:45:40,220 --> 00:45:49,550
Ach, das ist gar keine Abstimmung.

806
00:45:49,550 --> 00:45:51,550
Das ist eine Prediction.

807
00:45:51,550 --> 00:45:53,550
Das ist dann tatsächlich sinnvoll.

808
00:45:53,550 --> 00:45:54,550
Ich habe nichts gesagt.

809
00:45:54,550 --> 00:45:55,550
Mods.

810
00:45:55,550 --> 00:45:56,550
Pfeifert.

811
00:45:56,550 --> 00:45:57,550
Time.

812
00:45:57,550 --> 00:45:58,550
HighIQ.

813
00:45:58,550 --> 00:45:59,550
Moderation hier.

814
00:45:59,550 --> 00:46:11,440
Ja, mache ich.

815
00:46:11,440 --> 00:46:16,820
Also da bin ich ja froh.

816
00:46:16,820 --> 00:46:19,820
Die meisten Leute sind der Meinung, ich leake meinen API-Token gar nicht.

817
00:46:19,820 --> 00:46:20,820
Ich habe auch nicht vor, meinen API-Token zu leaken.

818
00:46:20,820 --> 00:46:21,820
So, auf geht's.

819
00:46:21,820 --> 00:46:37,320
Also, das ist so eine Basic-Config, die bei sich in der Hilfeseite stehen haben.

820
00:46:37,320 --> 00:46:39,320
Das probieren wir jetzt mal aus.

821
00:46:39,320 --> 00:46:44,320
Also, Token habe ich in den Secrets gesetzt.

822
00:46:44,320 --> 00:46:47,320
Das zeige ich euch jetzt nicht.

823
00:46:47,320 --> 00:46:51,320
Und so kann man anscheinend einen Server anlegen bei der Hetzner Cloud.

824
00:46:51,320 --> 00:46:52,320
Wenn ich das richtig...

825
00:46:52,320 --> 00:46:56,320
Leute, wie gesagt, falls wir hier irgendwelche HighIQ-Terraform-Benutzer da haben.

826
00:46:56,320 --> 00:46:59,320
Ich bin mir da bei den Sachen nicht so hundertprozentig sicher.

827
00:46:59,320 --> 00:47:00,320
Wie gesagt, ich habe das schon benutzt.

828
00:47:00,320 --> 00:47:02,320
Aber ich bin jetzt da nicht der Profi drin.

829
00:47:02,320 --> 00:47:06,320
Ich glaube, dass da oben ist ein Unique Key für jede Ressource.

830
00:47:06,320 --> 00:47:07,320
Den braucht man.

831
00:47:07,320 --> 00:47:09,320
Das ist nicht der Servername.

832
00:47:09,320 --> 00:47:12,320
Das heißt, hier könnte ich auch Wubbeldiwub reinschreiben.

833
00:47:12,320 --> 00:47:15,320
Und dann könnte ich hier unten Servername gleich machen.

834
00:47:15,320 --> 00:47:20,720
Das muss aber, glaube ich, irgendwie Unique sein da oben.

835
00:47:20,720 --> 00:47:22,720
Wie setzt man den Token?

836
00:47:22,720 --> 00:47:23,720
So.

837
00:47:23,720 --> 00:47:27,720
Du legst eine Datei an, die api.tf war.

838
00:47:27,720 --> 00:47:29,720
Oder secrets.tf war.

839
00:47:29,720 --> 00:47:31,720
Oder was auch immer.

840
00:47:31,720 --> 00:47:35,720
Und dann sagst du ihm, wo er die Variable rauslesen soll.

841
00:47:35,720 --> 00:47:37,720
Und das hier ist tatsächlich ganz cool.

842
00:47:37,720 --> 00:47:40,720
Wenn du sagst, sensitive gleich true.

843
00:47:40,720 --> 00:47:45,720
Dann checkt er, dass in keinem Log-Output automatisch...

844
00:47:45,720 --> 00:47:50,720
Also, dann filtert er aus Log-Output automatisch das Secret raus, sollte es da drin stehen.

845
00:47:50,720 --> 00:47:53,720
Das ist eigentlich ganz schlau.

846
00:47:53,720 --> 00:47:59,200
Wie sieht die tf-was-Datei aus?

847
00:47:59,200 --> 00:48:00,200
Einfach hier war.

848
00:48:00,200 --> 00:48:01,200
Einfach hier war.

849
00:48:01,200 --> 00:48:02,200
Gleich.

850
00:48:02,200 --> 00:48:03,200
Blub.

851
00:48:03,200 --> 00:48:04,200
So.

852
00:48:04,200 --> 00:48:06,200
tf ist terraform.

853
00:48:06,200 --> 00:48:07,200
Genau.

854
00:48:07,200 --> 00:48:08,200
So.

855
00:48:08,200 --> 00:48:12,200
Und jetzt kommt der letzte Punkt, wo ich weiß, was man machen muss.

856
00:48:12,200 --> 00:48:15,200
Man muss terraform init machen.

857
00:48:15,200 --> 00:48:18,200
Man muss einmal initial terraform...

858
00:48:18,200 --> 00:48:24,200
Nee, ich glaube bei jedem, wo man neue Provider benutzt, muss man glaube ich init machen.

859
00:48:24,200 --> 00:48:29,200
Zumindest muss man einmal initial terraform init machen, dass er die ganzen Dependencies installiert.

860
00:48:29,200 --> 00:48:30,200
Was man braucht.

861
00:48:30,200 --> 00:48:33,200
Also, zum Beispiel, wenn man die Hetzner Cloud Provider verwendet.

862
00:48:33,200 --> 00:48:35,200
Terraform selbst ist ja...

863
00:48:35,200 --> 00:48:38,200
Terraform selbst ist...

864
00:48:38,200 --> 00:48:41,200
Achso, vielleicht soll ich terraform erstmal installieren.

865
00:48:41,200 --> 00:48:46,860
Wäre natürlich auch noch eine Möglichkeit, ne?

866
00:48:46,860 --> 00:48:51,860
Leute, wie machen das denn eigentlich die coolen Leute mit terraform?

867
00:48:51,860 --> 00:48:52,860
Machen die Leute...

868
00:48:52,860 --> 00:48:55,860
Installieren die terraform lokal?

869
00:48:55,860 --> 00:48:58,860
Oder installieren die terraform über...

870
00:48:58,860 --> 00:49:00,860
Oder benutzen die das über einen Docker-Container?

871
00:49:00,860 --> 00:49:03,860
Und machen dann immer docker run terraform?

872
00:49:03,860 --> 00:49:06,860
Wie machen das die Cloud-Native-Hai-IQ-Leute?

873
00:49:06,860 --> 00:49:08,860
Installiert tfn...

874
00:49:08,860 --> 00:49:13,360
Terraform-Version-Manager?

875
00:49:13,360 --> 00:49:15,360
Warum brauche ich verschiedene terraform-Versions?

876
00:49:15,360 --> 00:49:20,790
Warum nicht einfach den letzten?

877
00:49:20,790 --> 00:49:21,790
Oh, nice.

878
00:49:21,790 --> 00:49:28,300
Aber...

879
00:49:28,300 --> 00:49:29,300
Wo ist der Sinn?

880
00:49:29,300 --> 00:49:33,800
Docker ist schon wieder out für lokale Sachen?

881
00:49:33,800 --> 00:49:34,800
Nö, was soll denn...

882
00:49:34,800 --> 00:49:39,760
Was soll denn Docker für lokale Sachen ersetzt haben?

883
00:49:39,760 --> 00:49:40,760
Da fällt mir ja nix...

884
00:49:40,760 --> 00:49:41,760
Nix ein.

885
00:49:41,760 --> 00:49:42,760
Oh nein.

886
00:49:42,760 --> 00:49:44,760
Nein, Potman ist es nicht.

887
00:49:44,760 --> 00:49:52,010
Die Popularität von Potman hält sich in Grenzen.

888
00:49:52,010 --> 00:49:54,010
Ja, aber bestimmt nicht...

889
00:49:54,010 --> 00:50:00,010
Bestimmt nicht, wenn sie zum ersten Mal irgendwas erproben in der neuen Umgebung.

890
00:50:00,010 --> 00:50:01,010
Nee, LXC...

891
00:50:01,010 --> 00:50:08,160
LXC ist alles.

892
00:50:08,160 --> 00:50:15,000
Ach so.

893
00:50:15,000 --> 00:50:18,000
Ich installiere das jetzt einfach so.

894
00:50:18,000 --> 00:50:21,000
Ich installiere das jetzt einfach so.

895
00:50:21,000 --> 00:50:22,000
Terraform.

896
00:50:22,000 --> 00:50:27,930
Was zum Teufel ist Terragrunt?

897
00:50:27,930 --> 00:50:28,930
Was ist Terra...

898
00:50:28,930 --> 00:50:29,930
Okay.

899
00:50:29,930 --> 00:50:33,930
Es gibt wieder hunderttausend Dinger, wo man nicht checkt, was...

900
00:50:33,930 --> 00:50:34,930
Terragrunt.

901
00:50:34,930 --> 00:50:38,930
Try and maintainable terraform code.

902
00:50:38,930 --> 00:50:45,720
Terragrunt.

903
00:50:45,720 --> 00:50:46,720
Leute, wisst ihr was?

904
00:50:46,720 --> 00:50:49,720
Ich mache einfach gar nichts, bis es in die Terraform und gut ist.

905
00:50:49,720 --> 00:50:53,360
Terraform fertig.

906
00:50:53,360 --> 00:50:54,360
So.

907
00:50:54,360 --> 00:51:05,650
Bevor wir jetzt anfangen mit irgendwelchen super-advancen, high-IQ-Fivehead-Sachen,

908
00:51:05,650 --> 00:51:07,650
werden sie jetzt einfach ganz normal terraform.

909
00:51:07,650 --> 00:51:12,280
Terraform...

910
00:51:12,280 --> 00:51:13,280
Terraform...

911
00:51:13,280 --> 00:51:14,280
Init.

912
00:51:14,280 --> 00:51:15,280
Bam.

913
00:51:15,280 --> 00:51:30,150
Okay, das ist ja schon mal gut, wenn das Beispiel 1 zu 1 copy-pasted schon mal nicht funktioniert.

914
00:51:30,150 --> 00:51:37,170
Das ist ja toll.

915
00:51:37,170 --> 00:51:38,170
Okay.

916
00:51:38,170 --> 00:51:39,170
Also.

917
00:51:39,170 --> 00:51:43,170
Failed to query available provider packages.

918
00:51:43,170 --> 00:51:47,170
Could not retrieve list of available versions.

919
00:51:47,170 --> 00:51:48,170
Hä?

920
00:51:48,170 --> 00:51:51,170
Ist die Registry down oder was?

921
00:51:51,170 --> 00:51:52,170
Das glaube ich aber nicht.

922
00:51:52,170 --> 00:51:53,270
Das glaube ich aber nicht.

923
00:51:56,200 --> 00:51:58,920
Did you intend to use Hetzner H-Cloud?

924
00:52:00,200 --> 00:52:01,200
Ja, weiß ich doch nicht.

925
00:52:01,560 --> 00:52:02,820
Intende ich Hashi...

926
00:52:02,820 --> 00:52:07,240
HashiCorp H-Cloud oder Hetzner Cloud H-Cloud zu verwenden?

927
00:52:07,680 --> 00:52:10,140
Ich glaube, ich will Hetzner Cloud H-Cloud verwenden,

928
00:52:10,140 --> 00:52:17,680
weil zumindest so heißt das hier H-Cloud.

929
00:52:18,720 --> 00:52:20,560
Hetzner Cloud H-Cloud heißt das hier.

930
00:52:20,560 --> 00:52:23,840
Ich muss das nicht freischalten.

931
00:52:28,470 --> 00:52:30,570
Klickt mal rechts auf Use Provider.

932
00:52:31,650 --> 00:52:34,670
Ah, Terraform 0.13 Plus.

933
00:52:37,710 --> 00:52:38,270
Exzellent.

934
00:52:38,410 --> 00:52:39,890
Das muss man auch erstmal wissen.

935
00:52:40,090 --> 00:52:40,870
Alles klar.

936
00:52:42,430 --> 00:52:44,550
Das heißt, ich muss den Krempel hier reinkopieren.

937
00:52:45,030 --> 00:52:46,310
Jetzt mal eine blöde Frage.

938
00:52:46,830 --> 00:52:48,270
Warum hat man da sowas eingeführt,

939
00:52:48,370 --> 00:52:51,490
wenn das früher ohne extra Config ging?

940
00:52:51,610 --> 00:52:52,990
Warum macht man absichtlich...

941
00:52:52,990 --> 00:52:54,530
Okay, ich glaube, ich kann es mir vorstellen,

942
00:52:54,650 --> 00:52:55,950
wahrscheinlich, dass man...

943
00:52:55,950 --> 00:52:59,570
private Registries verwenden könnte oder sowas.

944
00:53:00,130 --> 00:53:01,410
Gehe ich jetzt einfach mal von aus.

945
00:53:02,070 --> 00:53:04,530
Ist es sinnvoll, die Version hardcoded zu schreiben

946
00:53:04,530 --> 00:53:06,470
oder sollte er einfach immer die letzte Version nehmen?

947
00:53:09,290 --> 00:53:09,710
Keine Ahnung.

948
00:53:09,890 --> 00:53:10,270
Probieren wir mal.

949
00:53:10,310 --> 00:53:12,070
Also, Terraform Init.

950
00:53:13,410 --> 00:53:15,510
Ja, das sieht schon besser aus.

951
00:53:15,930 --> 00:53:17,450
So, und jetzt Terraform Apply.

952
00:53:17,910 --> 00:53:19,250
Das sollte nicht funktionieren.

953
00:53:30,140 --> 00:53:32,140
Ja, ich muss die AP Secrets anklicken.

954
00:53:32,260 --> 00:53:32,620
Ist klar.

955
00:53:33,980 --> 00:53:35,420
So, das dürfte jetzt nicht gehen,

956
00:53:35,720 --> 00:53:37,240
weil ich habe ja hier bei dem Server,

957
00:53:37,320 --> 00:53:37,620
den er anbietet,

958
00:53:37,660 --> 00:53:38,260
den er anlegen soll,

959
00:53:38,720 --> 00:53:40,120
nichts eingegeben.

960
00:53:40,520 --> 00:53:41,760
Weder Name vom Server,

961
00:53:41,940 --> 00:53:43,560
noch Betriebssystem-Image,

962
00:53:44,600 --> 00:53:47,240
noch Server-Typ,

963
00:53:47,320 --> 00:53:48,140
noch IP nix.

964
00:53:50,720 --> 00:53:52,160
Erstmal Plan for Apply.

965
00:53:55,260 --> 00:53:55,860
Moment.

966
00:53:59,040 --> 00:54:00,920
Ach hier, genau, so ging das.

967
00:54:02,080 --> 00:54:02,680
Warfile.

968
00:54:12,040 --> 00:54:13,800
So, also, er erzählt mir jetzt,

969
00:54:13,900 --> 00:54:15,220
geht nicht, weil...

970
00:54:15,220 --> 00:54:16,300
Missing Argument.

971
00:54:16,540 --> 00:54:17,880
Server Type is required.

972
00:54:18,540 --> 00:54:20,300
Und Name is required.

973
00:54:20,500 --> 00:54:20,700
Okay.

974
00:54:21,440 --> 00:54:24,060
Name für unseren Server.

975
00:54:25,040 --> 00:54:26,600
Cute Chat 1.

976
00:54:30,090 --> 00:54:30,870
Wir haben ja mehrere.

977
00:54:31,430 --> 00:54:31,730
Später.

978
00:54:33,430 --> 00:54:35,310
Wie, äh, Comment war so, ne?

979
00:54:39,120 --> 00:54:41,080
Loop Terraform.

980
00:54:41,140 --> 00:54:42,160
Wie macht man eine Schleife?

981
00:54:43,500 --> 00:54:44,760
Terraform Tipps und Tricks.

982
00:54:45,180 --> 00:54:45,840
Four Statements.

983
00:54:46,020 --> 00:54:46,600
Four Expressions.

984
00:54:46,600 --> 00:54:47,600
Wir brauchen ja drei Server.

985
00:54:48,540 --> 00:54:50,340
Also, Server Name, Cute Chat.

986
00:54:51,360 --> 00:54:53,560
Dann fehlt Server Type.

987
00:54:53,660 --> 00:54:55,940
Aber ich find's cool,

988
00:54:56,000 --> 00:54:57,360
dass sie die Autocompletion haben

989
00:54:57,360 --> 00:54:58,360
und das sogar für die,

990
00:54:58,360 --> 00:54:59,420
für die Hetzner Cloud Sachen.

991
00:54:59,940 --> 00:55:01,100
Exploit 126.

992
00:55:01,160 --> 00:55:01,980
Dankeschön für den Sub.

993
00:55:03,440 --> 00:55:05,300
Aber sie autocompleten anscheinend

994
00:55:05,300 --> 00:55:07,120
nicht die Sachen hierfür.

995
00:55:09,830 --> 00:55:10,530
Okay, was muss,

996
00:55:10,610 --> 00:55:11,930
was gibt es für Server Type?

997
00:55:13,090 --> 00:55:13,570
Docs.

998
00:55:15,730 --> 00:55:16,210
Server.

999
00:55:20,240 --> 00:55:23,760
Äh, Type.

1000
00:55:27,520 --> 00:55:28,920
Ach hier, das sind denen ihre,

1001
00:55:29,240 --> 00:55:30,460
das sind denen ihre Kisten,

1002
00:55:30,540 --> 00:55:31,440
was das sein soll.

1003
00:55:32,260 --> 00:55:33,720
Also sprich, das ist das,

1004
00:55:33,720 --> 00:55:35,100
wenn ich hier auf Add Server klicke,

1005
00:55:35,340 --> 00:55:36,780
das ist das hier unten,

1006
00:55:36,780 --> 00:55:38,780
wie fett die Kiste sein soll.

1007
00:55:38,780 --> 00:55:42,400
Eine CPU und RAM und SSD und, und, ja,

1008
00:55:42,400 --> 00:55:44,960
da kommt nix, nix Großartiges, das,

1009
00:55:46,380 --> 00:55:47,880
der, der Kleinste reicht.

1010
00:55:47,880 --> 00:55:49,440
Wo gibt's denn eine Übersicht?

1011
00:55:49,440 --> 00:55:50,840
Gibt's hier, gibt's hier eine Übersicht?

1012
00:55:50,840 --> 00:55:51,680
Was ist alles,

1013
00:55:54,100 --> 00:55:56,720
was es alles für Types gibt?

1014
00:56:00,290 --> 00:56:00,790
Ne, ne?

1015
00:56:02,450 --> 00:56:03,250
Steht nicht drinne.

1016
00:56:05,840 --> 00:56:07,060
Aber gut, das wissen wir ja,

1017
00:56:07,060 --> 00:56:08,000
weil das die gleichen sind,

1018
00:56:08,000 --> 00:56:08,600
die hier unten stehen.

1019
00:56:08,600 --> 00:56:11,820
Also sprich, CX11 ist der Kleinste.

1020
00:56:11,840 --> 00:56:13,840
Alles klar.

1021
00:56:13,840 --> 00:56:16,840
So, und wir werden das jetzt übrigens dann heute auch richtig machen,

1022
00:56:16,840 --> 00:56:18,840
weil Hetzner hat ein neues Feature, und zwar,

1023
00:56:18,840 --> 00:56:21,840
nein, die wollte ich euch jetzt nicht zeigen.

1024
00:56:21,840 --> 00:56:24,840
Vielleicht ist ja Hans Feld mittlerweile hier.

1025
00:56:24,840 --> 00:56:28,840
Ähm, Hetzner hat jetzt ein neues Feature eingeführt,

1026
00:56:28,840 --> 00:56:30,840
und zwar, das kann ich euch zeigen,

1027
00:56:30,840 --> 00:56:31,840
man kann jetzt endlich,

1028
00:56:31,840 --> 00:56:33,840
da warte ich schon seit einem Jahr drauf,

1029
00:56:33,840 --> 00:56:34,840
dass wir das endlich mal machen,

1030
00:56:34,840 --> 00:56:36,840
man kann jetzt endlich sagen,

1031
00:56:36,840 --> 00:56:39,840
ich möchte keine Public IP haben,

1032
00:56:39,840 --> 00:56:42,600
sondern Private Network.

1033
00:56:42,600 --> 00:56:43,600
Sondern Private Networks.

1034
00:56:44,600 --> 00:56:47,600
Also sprich, ich kann endlich einen Cloud-Server anlegen,

1035
00:56:47,600 --> 00:56:49,600
den ich nicht vom Internet aus erreichen kann.

1036
00:56:50,600 --> 00:56:52,600
Und jetzt ist natürlich gleich die nächste Frage,

1037
00:56:52,600 --> 00:56:53,600
da warte ich ja schon drauf,

1038
00:56:53,600 --> 00:56:55,600
warum will man sowas denn machen?

1039
00:56:56,600 --> 00:56:57,600
Ganz einfach,

1040
00:56:58,600 --> 00:57:00,600
warum man sowas machen will,

1041
00:57:00,600 --> 00:57:03,600
weil der Eingang muss von außen erreichbar sein.

1042
00:57:03,600 --> 00:57:06,600
Die Kisten dahinter müssen vom Eingang nicht erreichbar sein.

1043
00:57:09,100 --> 00:57:09,600
So.

1044
00:57:10,600 --> 00:57:13,100
Name gleich Test Count Punkt Index.

1045
00:57:13,100 --> 00:57:15,100
Count Punkt Index geht aber wahrscheinlich nur,

1046
00:57:15,100 --> 00:57:17,100
wenn es in der Schleife ist, oder?

1047
00:57:17,100 --> 00:57:21,100
Terraform Count Index.

1048
00:57:21,100 --> 00:57:25,100
Das Count-Meta-Argument.

1049
00:57:25,100 --> 00:57:27,100
Wir legen jetzt erstmal testweise,

1050
00:57:27,100 --> 00:57:28,100
bevor wir solche Spiele reinmachen,

1051
00:57:28,100 --> 00:57:30,100
testweise einen Server an.

1052
00:57:30,100 --> 00:57:31,100
Also was brauchen wir denn?

1053
00:57:31,100 --> 00:57:34,100
Name gleich Server-Type gleich.

1054
00:57:34,100 --> 00:57:39,400
Äh, Image.

1055
00:57:39,400 --> 00:57:42,400
Image gibt es, Image brauchen wir.

1056
00:57:42,400 --> 00:57:44,400
Ubuntu...

1057
00:57:44,400 --> 00:57:46,400
Jetzt muss ich mal gucken, wie man das schreibt.

1058
00:57:46,400 --> 00:57:47,400
Haben wir hier ein Beispiel?

1059
00:57:47,400 --> 00:57:49,400
Hier, Ubuntu 20.04.

1060
00:57:49,400 --> 00:57:51,400
Wir machen Ubuntu 22.

1061
00:57:52,400 --> 00:57:55,400
Ubuntu 22.04.

1062
00:57:55,400 --> 00:57:59,350
Und jetzt gucken wir mal,

1063
00:57:59,350 --> 00:58:02,350
wie ist eigentlich so die Convention hier zum Einrücken?

1064
00:58:02,350 --> 00:58:04,350
Two Spaces?

1065
00:58:04,350 --> 00:58:06,350
4 Spaces?

1066
00:58:06,350 --> 00:58:08,350
Wahrscheinlich ziemlich wurscht.

1067
00:58:08,350 --> 00:58:10,350
Ich persönlich mag ja 2 Spaces.

1068
00:58:10,350 --> 00:58:15,240
Wie du den Server per Ansible konfigurierst?

1069
00:58:15,240 --> 00:58:16,240
Ja, per Jump-Pause.

1070
00:58:16,240 --> 00:58:17,240
Würde ich das machen.

1071
00:58:18,240 --> 00:58:25,900
Wobei, mal gucken.

1072
00:58:25,900 --> 00:58:26,900
Mal gucken.

1073
00:58:26,900 --> 00:58:28,900
Ich weiß noch nicht.

1074
00:58:28,900 --> 00:58:36,330
Vielleicht gebe ich den Dingern zum Testen heute auch einfach Public IPs.

1075
00:58:36,330 --> 00:58:37,330
Ist wurscht.

1076
00:58:37,330 --> 00:58:38,330
Ich mach mal kurz ein Apply.

1077
00:58:38,330 --> 00:58:39,330
Das wird...

1078
00:58:39,330 --> 00:58:41,330
Achso, wie gebe ich SSH-Keys an?

1079
00:58:41,330 --> 00:58:43,330
SSH-Keys...

1080
00:58:43,330 --> 00:58:46,330
Oh, wie heißt der richtige SSH-Key von mir?

1081
00:58:46,330 --> 00:58:49,700
Test at Test?

1082
00:58:49,700 --> 00:58:51,700
Max at Desktop?

1083
00:58:51,700 --> 00:58:52,700
Max at Poggers?

1084
00:58:52,700 --> 00:58:54,700
Max at Poggers 2?

1085
00:58:54,700 --> 00:59:00,510
Welcher ist der richtige?

1086
00:59:00,510 --> 00:59:03,080
Im Zweifelsfall alle.

1087
00:59:03,080 --> 00:59:19,000
ID RSA Pub...

1088
00:59:19,000 --> 00:59:20,000
Ich hab da nur ein...

1089
00:59:20,000 --> 00:59:21,000
Nee, nee, nee, nee.

1090
00:59:21,000 --> 00:59:22,000
Fuck.

1091
00:59:22,000 --> 00:59:23,000
Ich hab mehrere.

1092
00:59:23,000 --> 00:59:24,000
Aber ich hab den ID...

1093
00:59:24,000 --> 00:59:25,000
Moment.

1094
00:59:25,000 --> 00:59:27,000
Ich hab den ID RSA Pub, aber ich hab kein ID RSA.

1095
00:59:27,000 --> 00:59:28,000
Max at Poggers.

1096
00:59:28,000 --> 00:59:29,000
Max at Poggers.

1097
00:59:29,000 --> 00:59:30,000
Das dürft ihr nicht...

1098
00:59:30,000 --> 00:59:31,000
Okay, Max at Poggers ist dann der Richtige.

1099
00:59:31,000 --> 00:59:32,000
Also kann ich sowas hier machen?

1100
00:59:32,000 --> 00:59:33,000
Max at Poggers?

1101
00:59:33,000 --> 00:59:35,000
Oder muss man bei SSH-Keys wirklich Keys...

1102
00:59:35,000 --> 00:59:36,000
Public Keys reinschreiben?

1103
00:59:36,000 --> 00:59:37,000
SSH-Keys?

1104
00:59:37,000 --> 00:59:38,000
SSH-Keys?

1105
00:59:38,000 --> 00:59:39,000
SSH-Keys?

1106
00:59:39,000 --> 00:59:40,000
SSH-Keys?

1107
00:59:40,000 --> 00:59:41,000
SSH-Keys?

1108
00:59:41,000 --> 00:59:42,000
SSH-Keys?

1109
00:59:42,000 --> 00:59:43,000
SSH-Keys?

1110
00:59:43,000 --> 00:59:44,000
SSH-Keys?

1111
00:59:44,000 --> 00:59:45,000
SSH-Keys?

1112
00:59:45,000 --> 00:59:46,000
Ähm...

1113
00:59:46,000 --> 00:59:47,000
SSH...

1114
00:59:47,000 --> 00:59:48,000
SSH-Key...

1115
00:59:48,000 --> 00:59:49,000
List...

1116
00:59:49,000 --> 00:59:55,000
SSH-Key-IDs or Names which should be injected into...

1117
00:59:55,000 --> 00:59:56,000
Okay, Names.

1118
00:59:56,000 --> 01:00:01,320
Alles klar.

1119
01:00:01,320 --> 01:00:02,320
Okay, dann...

1120
01:00:02,320 --> 01:00:09,340
Dann bauen wir das Ding mal auf und gucken, ob's funktioniert.

1121
01:00:09,340 --> 01:00:13,340
Also, was jetzt passieren sollte von der Idee her ist...

1122
01:00:13,340 --> 01:00:17,340
Wenn ich Terraform Apply mache, oder gucken wir erst mal planen, ob das funktioniert...

1123
01:00:17,340 --> 01:00:18,340
Was?

1124
01:00:18,340 --> 01:00:19,340
Äh...

1125
01:00:19,340 --> 01:00:21,900
Eine Idee.

1126
01:00:21,900 --> 01:00:27,290
Eine Idee.

1127
01:00:27,290 --> 01:00:28,290
Eine Liste von Strings.

1128
01:00:28,290 --> 01:00:29,290
Liste von Strings.

1129
01:00:29,290 --> 01:00:34,290
Da müssen wir ganz korrekt sein.

1130
01:00:34,290 --> 01:00:36,290
Also, das würde er jetzt machen.

1131
01:00:36,290 --> 01:00:38,290
Also, bevor ich Apply mache.

1132
01:00:38,290 --> 01:00:39,290
Also, das würde er jetzt machen.

1133
01:00:39,290 --> 01:00:43,290
Er würde einen neuen Server anlegen, der sich QChat1 nennt.

1134
01:00:43,290 --> 01:00:45,290
Backups würde er ausschalten.

1135
01:00:45,290 --> 01:00:46,290
Datacenter ist dynamisch.

1136
01:00:46,290 --> 01:00:48,290
Firewall ist alles dynamisch.

1137
01:00:48,290 --> 01:00:50,290
IP-Adresse macht er...

1138
01:00:50,290 --> 01:00:51,290
Alles gut.

1139
01:00:51,290 --> 01:00:53,290
Probieren wir das mal aus.

1140
01:00:53,290 --> 01:00:57,300
Terraform Apply.

1141
01:00:57,300 --> 01:01:00,000
Gibt es irgendwie die Möglichkeit?

1142
01:01:00,000 --> 01:01:03,000
Gibt es irgendwie die Möglichkeit, dass man sich das var-File sparen kann?

1143
01:01:03,000 --> 01:01:04,000
Gibt es irgendwie die Möglichkeit, dass man sich das var-File sparen kann?

1144
01:01:04,000 --> 01:01:06,000
Dass er automatisch da reinguckt?

1145
01:01:06,000 --> 01:01:11,000
Dass man hier irgendwie was machen kann, wie include var-File und so?

1146
01:01:11,000 --> 01:01:14,000
Terraform include var-File?

1147
01:01:14,000 --> 01:01:16,820
Ja?

1148
01:01:16,820 --> 01:01:18,820
Macht das Sensitive raus?

1149
01:01:18,820 --> 01:01:36,940
Ja, ganz bestimmt.

1150
01:01:36,940 --> 01:01:38,940
Okay, weiß ich aber grad nicht wie.

1151
01:01:38,940 --> 01:01:57,880
Das wäre natürlich ganz praktisch, wenn man das includen könnte.

1152
01:01:57,880 --> 01:01:58,880
Okay, wie auch immer.

1153
01:01:58,880 --> 01:02:06,200
machen jetzt apply und der sollte jetzt uns ein server anlegen der cute chat 1

1154
01:02:06,200 --> 01:02:12,860
heißt location location sollten wir noch angeben und zwar wir wollen nicht nach

1155
01:02:12,860 --> 01:02:24,860
helsinki sondern wir wollen nach location ja mbg 1 ist okay mbg 1 ist

1156
01:02:24,860 --> 01:02:38,440
nürnberg ok also terraform plan alles klar ubuntu 2204 kleinste kiste ssh key mit hinzugefügt

1157
01:02:38,440 --> 01:02:51,730
backups sind aus und location steht hier gar nicht da datacenter ja da location oder muss ich

1158
01:02:51,730 --> 01:02:54,130
eine minute

1159
01:02:54,130 --> 01:03:02,610
was ist denn

1160
01:03:02,610 --> 01:03:02,810
das

1161
01:03:02,810 --> 01:03:16,390
was ist der unterschied zwischen datacenter und location hier ist location ach da kann man das

1162
01:03:16,390 --> 01:03:23,070
noch genauer spezifizieren oder was nicht das brauche ich location reicht mir alles da so

1163
01:03:23,070 --> 01:03:44,290
terraform apply yes will ich machen creating da ist er cute chat 1 server da also ihr seht

1164
01:03:44,290 --> 01:03:52,110
server anlegen hat 13 sekunden gedauert und kopieren wir mal die ip und gucken

1165
01:03:52,110 --> 01:03:52,310
ob man das hier anlegen kann und dann können wir das hier anlegen und gucken ob man das hier

1166
01:03:52,310 --> 01:03:53,470
anlegen kann und dann können wir das hier anlegen und gucken ob man das hier anlegen kann und dann können wir das hier anlegen und gucken ob man sich drauf einloggen kann

1167
01:03:53,470 --> 01:03:56,950
Ne, haha, Leute, ich guck nicht, ob ich mich drauf einloggen kann.

1168
01:03:57,430 --> 01:03:59,270
Cheap baited, cheap baited.

1169
01:04:00,170 --> 01:04:00,770
Weg damit.

1170
01:04:01,450 --> 01:04:02,550
Cheap bait, ne, destroy.

1171
01:04:03,330 --> 01:04:06,310
Ne, wie hängt das, apply minus destroy?

1172
01:04:08,410 --> 01:04:09,490
Ja, yes.

1173
01:04:11,250 --> 01:04:12,070
So, Server wieder weg.

1174
01:04:12,510 --> 01:04:16,730
Guck, also Terraform kann den Kram, den er angelegt hat, auch wieder rückgängig machen und wegschmeißen.

1175
01:04:19,630 --> 01:04:21,530
So, ich hab nämlich was vergessen.

1176
01:04:21,530 --> 01:04:26,770
Damit ich nicht meine IP leake, ich muss noch was machen, Leute.

1177
01:04:27,190 --> 01:04:28,490
Und zwar brauche ich ein Cloud-Init.

1178
01:04:29,590 --> 01:04:37,010
Man kann bei jedem Server, den man aufbaut, ein Skript angeben, das der nach dem Aufbau ausführt, was er machen soll.

1179
01:04:40,250 --> 01:04:41,970
Also, nein, das stimmt nicht, das ist kein Skript.

1180
01:04:42,630 --> 01:04:45,890
Das ist eine YAML-Config oder ein Skript.

1181
01:04:45,990 --> 01:04:46,930
Man kann beides machen.

1182
01:04:47,350 --> 01:04:49,350
YAML-Config oder Skript, geht beides.

1183
01:04:52,890 --> 01:04:56,070
Guck, also man kann entweder YAML-Config machen oder...

1184
01:04:56,390 --> 01:04:58,550
...direkt ein Skript reinschreiben in Cloud-Init.

1185
01:04:59,050 --> 01:05:00,710
Weiß gar nicht, ob die das hier als Beispiel drin haben.

1186
01:05:03,550 --> 01:05:06,110
Und wozu jetzt...

1187
01:05:06,110 --> 01:05:06,810
Was?

1188
01:05:07,730 --> 01:05:09,650
Und Terraform wird jetzt wofür genau benutzt?

1189
01:05:09,650 --> 01:05:12,430
Zum automatischen Anlegen von Cloud-Infrastruktur.

1190
01:05:12,770 --> 01:05:19,850
Und nicht nur zum Anlegen, sondern auch zum gewissen Maße Konfigurieren, aber vor allem Anlegen mit den richtigen Settings.

1191
01:05:21,130 --> 01:05:25,730
Einfach bei einem Server, den man einmal erstellt und dann nie wieder, ist das ziemlich egal.

1192
01:05:27,610 --> 01:05:27,650
Aber...

1193
01:05:28,090 --> 01:05:29,090
Aber wenn du so Sachen wie...

1194
01:05:30,350 --> 01:05:36,150
...Deployment von neuen Versionen ohne Unterbrechung machen willst, zwischen Server neu aufbauen, ab und zu mal vielleicht auch...

1195
01:05:36,150 --> 01:05:41,430
...wenn du einen super beliebten Service hast, das Hochskalieren auf mehrere Systeme, ist das praktisch.

1196
01:05:43,290 --> 01:05:44,970
Ne, mit TensorFlow hat das nichts zu tun.

1197
01:05:46,450 --> 01:05:47,750
So, also wir brauchen Cloud-Init.

1198
01:05:48,330 --> 01:05:50,230
Wie macht man hier Cloud-Init bei Hetzner?

1199
01:05:51,410 --> 01:05:51,850
Cloud...

1200
01:05:51,850 --> 01:05:52,590
Cloud-Init.

1201
01:05:53,250 --> 01:05:54,230
User-Data.

1202
01:05:55,530 --> 01:05:56,090
User-Data.

1203
01:05:56,090 --> 01:05:56,610
User-Data.

1204
01:05:56,770 --> 01:05:57,710
Haben die da ein Beispiel für?

1205
01:05:57,770 --> 01:05:58,070
Nein, natürlich nicht.

1206
01:05:58,090 --> 01:06:00,870
User-Data.

1207
01:06:06,000 --> 01:06:08,680
Terraform Multiline Strings.

1208
01:06:09,340 --> 01:06:10,680
Was ist der Unterschied zu Ansible?

1209
01:06:12,280 --> 01:06:15,860
Die Schwerpunkte sind anders.

1210
01:06:16,680 --> 01:06:20,000
Ansible ist dafür da, Systeme, die vorhanden sind, zu konfigurieren.

1211
01:06:21,560 --> 01:06:25,720
Und Terraform ist da, Systeme, die nicht da sind, anzulegen.

1212
01:06:26,240 --> 01:06:27,720
Du kannst das natürlich...

1213
01:06:28,620 --> 01:06:30,720
...mit beidem...

1214
01:06:30,940 --> 01:06:37,970
...zum gewissen Grad auch machen, was das jeweils andere Tool kann.

1215
01:06:38,470 --> 01:06:42,810
Also du kannst mit Terraform auch zum gewissen Grad deine Server konfigurieren.

1216
01:06:42,870 --> 01:06:47,170
Und du kannst mit Ansible auch bis zu einem gewissen Grad Infrastruktur anlegen.

1217
01:06:48,030 --> 01:06:52,650
Wobei, man finde ich schon, den einen grundsätzlichen Unterschied sieht,

1218
01:06:53,090 --> 01:06:55,790
sowas wie Terraform Destroy gibt es bei Ansible nicht.

1219
01:06:55,790 --> 01:07:01,090
Also Ansible kann meines Wissens nach, kann sein, dass sich das mittlerweile geändert hat,

1220
01:07:01,190 --> 01:07:02,310
aber würde mich wundern.

1221
01:07:02,570 --> 01:07:06,010
Ansible kann beispielsweise nicht Playbooks rückgängig machen.

1222
01:07:06,910 --> 01:07:07,710
Terraform schon.

1223
01:07:09,270 --> 01:07:13,510
Also Terraform kann halt Sachen, die es angelegt hat, wieder rückstandslos entfernen.

1224
01:07:14,030 --> 01:07:15,230
Das geht mit Ansible nicht.

1225
01:07:15,530 --> 01:07:17,570
Mit Ansible musst du dann quasi in einem...

1226
01:07:17,570 --> 01:07:21,330
Also mal angenommen, du hast mit Ansible eine Datei angelegt über dein Playbook, etc.

1227
01:07:21,630 --> 01:07:27,650
Und du wirfst die aus deiner Ansible-Konfiguration raus, dann ist die weiterhin auf dem Server da.

1228
01:07:28,770 --> 01:07:31,730
Du wirst das dann erstmal in Ansible quasi ein etc.

1229
01:07:31,730 --> 01:07:31,810
Etc.

1230
01:07:31,910 --> 01:07:32,150
Blub.

1231
01:07:32,570 --> 01:07:33,690
Remove reinschreiben.

1232
01:07:39,170 --> 01:07:42,610
Aber du kannst bis zum gewissen Teil mit beiden Tools beides machen.

1233
01:07:46,920 --> 01:07:48,540
So, also wo sind wir stehen geblieben?

1234
01:07:49,020 --> 01:07:50,880
Ähm, User-Data.

1235
01:07:51,000 --> 01:07:51,840
Ja, wie kriege ich da...

1236
01:07:51,840 --> 01:07:52,080
Okay.

1237
01:07:52,960 --> 01:07:54,600
Terraform Cloud Init.

1238
01:07:56,420 --> 01:07:56,620
Da.

1239
01:07:56,920 --> 01:07:59,280
Das mag ich an den Terraform-Sachen auch.

1240
01:07:59,780 --> 01:08:01,440
Die haben ganz gute Hilfeartikel.

1241
01:08:03,900 --> 01:08:04,880
SSH-Key.

1242
01:08:04,880 --> 01:08:05,680
Nee, wo mache ich hier?

1243
01:08:05,760 --> 01:08:06,480
User-Data.

1244
01:08:06,640 --> 01:08:07,400
User-Data.

1245
01:08:08,320 --> 01:08:08,480
Nee.

1246
01:08:09,200 --> 01:08:10,580
Einfach reinschreiben oder was?

1247
01:08:15,180 --> 01:08:17,040
Terraform Multi-Line-Strings.

1248
01:08:24,850 --> 01:08:32,490
Ich glaube, Terraform konnte diese Bash-Geschichte als für Multi-Line...

1249
01:08:32,490 --> 01:08:33,030
Hier, das da.

1250
01:08:33,370 --> 01:08:33,750
Das da.

1251
01:08:35,370 --> 01:08:35,930
Hier dort machen.

1252
01:08:38,740 --> 01:08:39,300
Genau.

1253
01:08:40,320 --> 01:08:41,500
Kann ich das einfach so machen?

1254
01:08:46,280 --> 01:08:49,180
Nee, das funktioniert so schon mal nicht.

1255
01:08:52,340 --> 01:08:53,720
Ach so, ich darf es nicht quoten.

1256
01:08:54,560 --> 01:08:54,980
Stimmt.

1257
01:08:56,200 --> 01:08:58,440
Und wenn ich das noch richtig in Erinnerung habe...

1258
01:08:58,440 --> 01:08:59,200
Ähm.

1259
01:08:59,320 --> 01:09:02,760
Man muss ein Minus davor machen, sonst kann man es nämlich nicht einrücken.

1260
01:09:04,160 --> 01:09:07,400
So, also wir brauchen jetzt ein kleines Skript.

1261
01:09:08,620 --> 01:09:10,720
Und, ähm, das habe ich schon.

1262
01:09:12,940 --> 01:09:15,080
Von einem der letzten Streams habe ich das noch.

1263
01:09:15,960 --> 01:09:18,180
Ich muss mir das zumindest mal rauskopieren.

1264
01:09:23,900 --> 01:09:25,380
Und dann hoffen wir, dass es funktioniert.

1265
01:09:27,420 --> 01:09:27,600
So.

1266
01:09:28,320 --> 01:09:29,700
Das braucht man normalerweise nicht.

1267
01:09:29,780 --> 01:09:32,040
Das brauche nur ich jetzt beim Streamen.

1268
01:09:32,200 --> 01:09:33,960
Was das macht, ist folgendes.

1269
01:09:34,220 --> 01:09:37,520
Der baut jetzt einen Server auf mit dem Namen QChat1.

1270
01:09:38,000 --> 01:09:40,240
Und danach lässt er dieses Skript laufen.

1271
01:09:40,780 --> 01:09:42,660
Was dieses Skript macht, ist...

1272
01:09:42,660 --> 01:09:45,880
Es geht in etc.ssh.sshd.config.

1273
01:09:46,400 --> 01:09:53,040
Und löscht das SSH beim Einloggen, die IP des letzten Login zeigt.

1274
01:09:55,160 --> 01:09:57,220
Also wenn ich nicht meine Vodafone IP...

1275
01:09:58,800 --> 01:10:00,540
Wieso nicht über externe Datei einlesen?

1276
01:10:00,600 --> 01:10:01,220
Kann man auch machen.

1277
01:10:01,220 --> 01:10:04,100
Aber für die drei Zeilen brauche ich keine externe Datei.

1278
01:10:04,220 --> 01:10:07,220
So, danach startet der SSH neu.

1279
01:10:08,120 --> 01:10:13,820
Und wenn das jetzt funktioniert, kann ich mich auf der Kiste einloggen, ohne meine IP zu leaken.

1280
01:10:19,660 --> 01:10:20,340
Auf geht's.

1281
01:10:20,820 --> 01:10:21,220
Terraform.

1282
01:10:21,780 --> 01:10:22,140
Plan.

1283
01:10:23,400 --> 01:10:23,560
Ja.

1284
01:10:23,860 --> 01:10:26,940
Übrigens, das hier, falls jetzt irgendjemand denkt, ich habe meinen Token geleakt.

1285
01:10:26,980 --> 01:10:28,120
Nein, das ist nicht das Token.

1286
01:10:28,740 --> 01:10:31,720
Das ist, ich glaube, Base64 encoded mein Skript.

1287
01:10:37,060 --> 01:10:37,740
Okay, apply.

1288
01:10:38,400 --> 01:10:38,620
Bam.

1289
01:10:40,480 --> 01:10:40,920
Was?

1290
01:10:42,020 --> 01:10:42,640
Ach so.

1291
01:10:52,420 --> 01:10:53,020
Yes.

1292
01:10:55,020 --> 01:10:55,540
Creating.

1293
01:10:58,900 --> 01:11:00,160
Da wird er created.

1294
01:11:04,640 --> 01:11:05,660
Server wird angelegt.

1295
01:11:07,560 --> 01:11:09,340
Server wird provisioned.

1296
01:11:12,540 --> 01:11:12,660
So.

1297
01:11:13,060 --> 01:11:17,420
Gibt es eigentlich sowas wie Terraform List oder sowas?

1298
01:11:19,640 --> 01:11:22,080
Dass ich mir anzeigen kann, was der gerade hat?

1299
01:11:23,180 --> 01:11:23,520
Alles?

1300
01:11:24,980 --> 01:11:25,120
Was?

1301
01:11:27,750 --> 01:11:28,070
Ja.

1302
01:11:32,960 --> 01:11:34,200
Terraform State.

1303
01:11:35,000 --> 01:11:36,000
Terraform Show.

1304
01:11:37,600 --> 01:11:38,720
Terraform Show.

1305
01:11:39,940 --> 01:11:41,360
Ach ja, da, das meine ich.

1306
01:11:41,460 --> 01:11:42,520
Genau, Show war es.

1307
01:11:42,560 --> 01:11:42,920
So ist das.

1308
01:11:43,420 --> 01:11:46,440
Also, ja, Public IP vom System.

1309
01:11:46,740 --> 01:11:47,880
Wir sind hier, User Data.

1310
01:11:48,320 --> 01:11:52,640
So, wenn ich jetzt alles richtig gemacht habe, dann kann ich mich einloggen.

1311
01:11:53,580 --> 01:12:01,430
Und falscher SSH-Key?

1312
01:12:04,330 --> 01:12:06,350
Moment, mal gucken, falscher SSH-Key vielleicht.

1313
01:12:22,990 --> 01:12:26,580
Ähm, keine Ahnung.

1314
01:12:29,610 --> 01:12:30,890
Nee, der legt nicht neue Keys an.

1315
01:12:30,890 --> 01:12:31,050
Ich habe die nicht.

1316
01:12:31,050 --> 01:12:31,090
Ich habe die nicht.

1317
01:12:31,090 --> 01:12:31,190
Ich habe die nicht.

1318
01:12:31,190 --> 01:12:31,210
Ich habe die nicht.

1319
01:12:31,210 --> 01:12:31,250
Ich habe die nicht.

1320
01:12:31,250 --> 01:12:31,270
Ich habe die nicht.

1321
01:12:31,270 --> 01:12:31,310
Ich habe die nicht.

1322
01:12:31,310 --> 01:12:31,370
Ich habe die nicht.

1323
01:12:31,370 --> 01:12:31,410
Ich habe die nicht.

1324
01:12:31,410 --> 01:12:31,450
Ich habe die nicht.

1325
01:12:31,450 --> 01:12:31,470
Ich habe die nicht.

1326
01:12:31,470 --> 01:12:31,510
Ich habe die nicht.

1327
01:12:31,510 --> 01:12:31,530
Ich habe die nicht.

1328
01:12:31,530 --> 01:12:31,550
Ich habe die nicht.

1329
01:12:31,550 --> 01:12:33,950
Er soll Max & Poggers verwenden.

1330
01:12:34,370 --> 01:12:35,790
Wir können mal nachgucken.

1331
01:12:36,390 --> 01:12:38,670
Ich brauche das nie nach dem Anlegen.

1332
01:12:39,090 --> 01:12:41,590
Wo sieht man überhaupt, welche Keys hier ausgewählt sind?

1333
01:12:42,430 --> 01:12:42,730
Ähm.

1334
01:12:44,310 --> 01:12:46,190
Sieht man das überhaupt nachträglich noch?

1335
01:12:53,620 --> 01:12:54,900
Sieht man das überhaupt nachträglich?

1336
01:13:02,460 --> 01:13:03,920
Hm, wo könnte das stehen?

1337
01:13:06,780 --> 01:13:07,300
Networking?

1338
01:13:14,980 --> 01:13:16,600
Das Security gibt es doch hier gar nicht.

1339
01:13:17,120 --> 01:13:18,140
Security gibt es links.

1340
01:13:19,780 --> 01:13:21,820
Nee, ich glaube, das kann man nachträglich nicht mehr sehen.

1341
01:13:25,010 --> 01:13:25,350
Ja, nee.

1342
01:13:25,350 --> 01:13:27,470
Ich will noch wissen, ob der für den Server

1343
01:13:27,470 --> 01:13:29,570
das Richtige ausgewählt hat.

1344
01:13:31,570 --> 01:13:33,490
Also, anscheinend schon

1345
01:13:33,490 --> 01:13:34,550
Max at Poggers.

1346
01:13:36,570 --> 01:13:37,710
Okay, dann probieren wir es

1347
01:13:37,710 --> 01:13:39,310
doch mal nochmal aus. Also, guck mal.

1348
01:13:39,510 --> 01:13:41,350
Wir sind jetzt relativ schnell im Ausprobieren.

1349
01:13:41,430 --> 01:13:43,150
Jetzt können wir irgendwie sagen, Destroy. Bam.

1350
01:13:43,510 --> 01:13:44,750
Yes, jetzt ist der Server weg.

1351
01:13:46,530 --> 01:13:47,590
Doch, ich kann über das

1352
01:13:47,590 --> 01:13:49,630
Webinterface, aber das ist ja nicht so ein Zweck der Sache.

1353
01:13:53,640 --> 01:13:54,320
Ne, die

1354
01:13:54,320 --> 01:13:56,220
gute Frage, wo das Date

1355
01:13:56,220 --> 01:13:57,120
gespeichert wird.

1356
01:13:58,260 --> 01:13:58,700
Hier.

1357
01:14:00,120 --> 01:14:00,440
Hier.

1358
01:14:01,160 --> 01:14:02,140
Also, du kannst

1359
01:14:02,140 --> 01:14:05,040
am besten

1360
01:14:05,040 --> 01:14:06,540
machst du gleich eine schöne

1361
01:14:06,540 --> 01:14:10,830
Git-Ignore-Datei.

1362
01:14:11,270 --> 01:14:12,730
Ich weiß nicht, was Best Practice ist,

1363
01:14:12,770 --> 01:14:14,690
ob man State eincheckt oder nicht, aber ich würde

1364
01:14:14,690 --> 01:14:16,870
eher vermuten, nein, man checkt State nicht an.

1365
01:14:20,260 --> 01:14:21,300
So, wir machen

1366
01:14:21,300 --> 01:14:23,400
jetzt Test, Add,

1367
01:14:24,160 --> 01:14:25,060
Add, Test.

1368
01:14:25,500 --> 01:14:27,260
Meckert der eigentlich, wenn ich was angebe,

1369
01:14:27,340 --> 01:14:29,300
was es nicht gibt? Das probieren wir jetzt mal

1370
01:14:29,300 --> 01:14:30,320
kurz aus. Apply.

1371
01:14:31,740 --> 01:14:32,340
Ja, ja, yes.

1372
01:14:44,300 --> 01:14:45,300
Der Created nicht.

1373
01:14:46,440 --> 01:14:47,060
Das juckt dir nicht.

1374
01:14:52,160 --> 01:14:54,000
SSH Keynot Found. Okay.

1375
01:14:54,540 --> 01:14:55,560
Der checkt das schon.

1376
01:15:00,200 --> 01:15:01,300
Der, okay.

1377
01:15:01,300 --> 01:15:03,200
Dann habe ich vielleicht einfach den

1378
01:15:03,200 --> 01:15:04,100
falschen Key genommen.

1379
01:15:04,920 --> 01:15:07,200
Gibt es sowas wie Apply minus

1380
01:15:07,200 --> 01:15:08,440
Y oder so?

1381
01:15:11,010 --> 01:15:11,210
Nein.

1382
01:15:12,950 --> 01:15:14,610
Kann man nicht gleich sagen, yes?

1383
01:15:16,230 --> 01:15:16,430
Ja.

1384
01:15:17,090 --> 01:15:18,050
Auto-Approve.

1385
01:15:21,270 --> 01:15:21,950
Apply. Bam.

1386
01:15:24,150 --> 01:15:24,790
So, aber gucken wir mal,

1387
01:15:24,790 --> 01:15:26,350
ob ich mich jetzt danach drauf einloggen kann.

1388
01:15:32,270 --> 01:15:33,250
Die Instanz gibt es nicht.

1389
01:15:33,350 --> 01:15:34,790
Ne, du hast gesehen, der hat nichts angelegt.

1390
01:15:36,530 --> 01:15:38,450
Der hat alles wieder rückgängig gemacht.

1391
01:15:38,570 --> 01:15:39,610
Beziehungsweise, ich glaube, Hetzner

1392
01:15:39,610 --> 01:15:41,770
hat in der API-Abfrage schon gesagt,

1393
01:15:41,870 --> 01:15:43,730
nö, gibt es nicht. So, State.

1394
01:15:45,970 --> 01:15:46,890
Ne, Show.

1395
01:15:48,130 --> 01:15:49,690
Show war es. Hier, da sind wir.

1396
01:15:50,690 --> 01:15:51,830
SSH, Root, Add.

1397
01:15:56,370 --> 01:15:57,770
SSH, Keygen.

1398
01:15:59,270 --> 01:16:00,050
Minus R.

1399
01:16:01,450 --> 01:16:02,470
Yes.

1400
01:16:04,030 --> 01:16:04,350
Haha.

1401
01:16:06,210 --> 01:16:07,290
Da sind wir.

1402
01:16:09,050 --> 01:16:10,790
Und der Login steht nicht drin.

1403
01:16:10,850 --> 01:16:12,710
Moment, der Login steht immer erst beim zweiten Mal drin.

1404
01:16:13,650 --> 01:16:14,990
Der Login steht nicht drin.

1405
01:16:15,270 --> 01:16:16,410
Es hat funktioniert, Leute.

1406
01:16:18,870 --> 01:16:19,470
Update.

1407
01:16:20,790 --> 01:16:21,810
So, Server ist da.

1408
01:16:22,330 --> 01:16:23,210
Ist angelegt.

1409
01:16:29,570 --> 01:16:31,760
So.

1410
01:16:32,380 --> 01:16:32,940
Destroy.

1411
01:16:32,940 --> 01:16:34,260
Destroy. Bam.

1412
01:16:37,340 --> 01:16:38,420
Und jetzt kann ich das Ding wieder löschen.

1413
01:16:38,900 --> 01:16:40,680
Ja, das ist natürlich cool.

1414
01:16:41,500 --> 01:16:43,600
Also, mit der Geschwindigkeit hast du definitiv

1415
01:16:43,600 --> 01:16:43,980
im

1416
01:16:43,980 --> 01:16:46,880
Auto-Approve.

1417
01:16:47,000 --> 01:16:48,580
Immer Auto-Approve. Alles weg.

1418
01:16:49,660 --> 01:16:51,660
Da hast du eher nicht das Problem.

1419
01:16:52,660 --> 01:16:53,860
Da bist du auf jeden Fall

1420
01:16:53,860 --> 01:16:55,920
langsamer im Web-Interface.

1421
01:16:57,400 --> 01:16:57,660
Zack.

1422
01:16:57,740 --> 01:16:58,880
Und alles wieder weg. Gut.

1423
01:16:59,300 --> 01:17:01,700
Jetzt machen wir noch eine Sache in unser Aufbauskript.

1424
01:17:01,980 --> 01:17:02,900
Beziehungsweise in unser

1425
01:17:02,900 --> 01:17:04,520
Cloud-Init-Skript.

1426
01:17:06,440 --> 01:17:06,920
Update.

1427
01:17:06,920 --> 01:17:08,840
Update. Upgrade. Fertig.

1428
01:17:08,900 --> 01:17:13,530
Äh. Ich mach das jetzt ohne Ansible.

1429
01:17:13,530 --> 01:17:15,910
An der Stelle brauch ich ja für die paar Sachen wirklich kein Ansible.

1430
01:17:15,910 --> 01:17:17,010
So. Fertig.

1431
01:17:17,010 --> 01:17:19,490
So, und jetzt probieren wir drei Server anzulegen.

1432
01:17:19,490 --> 01:17:21,970
Da muss ich... Wie geht das mit dem Index?

1433
01:17:23,970 --> 01:17:24,770
Count.

1434
01:17:24,770 --> 01:17:27,250
Count ist ein Meta-Argument.

1435
01:17:27,250 --> 01:17:30,450
Defined by Terraform Language.

1436
01:17:30,450 --> 01:17:32,450
Count Index.

1437
01:17:32,450 --> 01:17:43,630
Also, im Prinzip...

1438
01:17:43,630 --> 01:17:45,630
So was?

1439
01:17:45,630 --> 01:17:47,630
Ich nenne das einfach mal Node.

1440
01:17:47,630 --> 01:17:48,830
Dann...

1441
01:17:48,830 --> 01:17:49,750
Muss das Unix sein?

1442
01:17:49,750 --> 01:17:51,750
Oder checkt der das automatisch?

1443
01:17:51,750 --> 01:17:53,750
COVID-19...

1444
01:17:53,750 --> 01:17:55,750
COVID-9...

1445
01:17:55,750 --> 01:17:57,750
910 ist krank.

1446
01:17:57,750 --> 01:17:59,750
Das ist schlecht.

1447
01:17:59,750 --> 01:18:10,040
MonkaS.

1448
01:18:10,040 --> 01:18:12,040
Kein Reboot?

1449
01:18:12,040 --> 01:18:16,180
Ehrlich gesagt...

1450
01:18:16,180 --> 01:18:18,180
Nee.

1451
01:18:18,180 --> 01:18:22,900
Das dauert dann nämlich zu lang, wenn ich reboote.

1452
01:18:22,900 --> 01:18:24,900
Was? Du musst noch...

1453
01:18:24,900 --> 01:18:29,370
Ah. Ach, so geht das.

1454
01:18:29,370 --> 01:18:31,370
Ah, ja.

1455
01:18:31,370 --> 01:18:33,370
Also quasi...

1456
01:18:33,370 --> 01:18:35,370
Vier Stück?

1457
01:18:35,370 --> 01:18:37,370
Oder drei Stück?

1458
01:18:37,370 --> 01:18:39,370
Und dann...

1459
01:18:39,370 --> 01:18:41,370
Qt, Chat, Node...

1460
01:18:41,370 --> 01:18:45,260
Node.

1461
01:18:45,260 --> 01:18:47,260
Irgendwie so.

1462
01:18:47,260 --> 01:18:49,260
Weiß gar nicht, konnte man überhaupt...

1463
01:18:49,260 --> 01:18:51,260
Dürfte man Underscores machen in Servernamen bei Hetzner?

1464
01:18:51,260 --> 01:18:53,260
Irgendwo war das nicht erlaubt.

1465
01:18:53,260 --> 01:18:55,260
Ist Ansible so was ähnliches wie Formen?

1466
01:18:55,260 --> 01:18:57,260
Nee, das ist was komplett anderes.

1467
01:18:57,260 --> 01:18:59,260
Formen ist ein...

1468
01:18:59,260 --> 01:19:01,260
Wie sagen sie offiziell?

1469
01:19:01,260 --> 01:19:03,260
Lifecycle-Management-Ding?

1470
01:19:03,260 --> 01:19:05,260
Im Prinzip ist Formen ein Web-Interface,

1471
01:19:05,260 --> 01:19:07,260
wo du Server anlegst und dann

1472
01:19:07,260 --> 01:19:09,260
von Puppet oder Ansible als Inventar

1473
01:19:09,260 --> 01:19:11,260
verwenden kannst.

1474
01:19:11,260 --> 01:19:13,260
Das kann man ganz ehrlich...

1475
01:19:13,260 --> 01:19:15,260
Das, was man mit Formen macht,

1476
01:19:15,260 --> 01:19:17,260
kannst du auch mit einem großen YAML-File machen.

1477
01:19:17,260 --> 01:19:19,260
Wir haben auf der Arbeit auch Formen.

1478
01:19:19,260 --> 01:19:21,260
Ich mag das Tool nicht sonderlich gern.

1479
01:19:21,260 --> 01:19:25,780
Aber vielleicht...

1480
01:19:25,780 --> 01:19:27,780
Wir gucken mal. Ich mach mal doch ein Reboot

1481
01:19:27,780 --> 01:19:29,780
und mal gucken, wie lang das braucht jetzt insgesamt.

1482
01:19:29,780 --> 01:19:36,900
Also...

1483
01:19:36,900 --> 01:19:38,900
Destroy hab ich schon.

1484
01:19:38,900 --> 01:19:40,900
Apply.

1485
01:19:40,900 --> 01:19:42,900
Wir sollten jetzt, wenn das funktioniert,

1486
01:19:42,900 --> 01:19:44,900
wir sollten 3 Server bekommen,

1487
01:19:44,900 --> 01:19:46,900
die QChat-Node haben.

1488
01:19:46,900 --> 01:19:48,900
Es kann aber sein, dass Underscore bei Hetzner

1489
01:19:48,900 --> 01:19:52,540
in Servernamen nicht erlaubt ist.

1490
01:19:52,540 --> 01:19:54,540
Ach ja, und jetzt ein weiterer Vorteil

1491
01:19:54,540 --> 01:19:56,540
von Terraform zu von Hand ist,

1492
01:19:56,540 --> 01:19:58,540
von Hand müsste ich die Server

1493
01:19:58,540 --> 01:20:00,540
der Reihe nach durchklicken.

1494
01:20:00,540 --> 01:20:02,540
Terraform kann das bis zu 10 Server gleichzeitig,

1495
01:20:02,540 --> 01:20:04,540
ich glaub, das ist Default-Setting,

1496
01:20:04,540 --> 01:20:09,320
parallel anlegen.

1497
01:20:09,320 --> 01:20:11,320
Terraform Apply.

1498
01:20:11,320 --> 01:20:16,420
Bam.

1499
01:20:16,420 --> 01:20:18,420
Oh. Okay. Alles klar.

1500
01:20:18,420 --> 01:20:24,620
Ich darf keine Underscores verwenden.

1501
01:20:24,620 --> 01:20:26,620
Creating.

1502
01:20:26,620 --> 01:20:28,620
Und ihr werdet sehen gleich...

1503
01:20:28,620 --> 01:20:30,620
Zack.

1504
01:20:30,620 --> 01:20:32,620
3 neue Cluster-Nodes

1505
01:20:32,620 --> 01:20:37,910
am Start.

1506
01:20:37,910 --> 01:20:39,910
So, und jetzt kommt natürlich

1507
01:20:39,910 --> 01:20:41,910
der DevOps Any% Speedrun, Leute.

1508
01:20:43,910 --> 01:20:45,910
Wir müssen mal kurz unsere Terraform-Sachen

1509
01:20:45,910 --> 01:20:47,910
für 2 Minuten unterbrechen,

1510
01:20:47,910 --> 01:20:49,910
weil mir ist gerade ein Problem eingefallen,

1511
01:20:49,910 --> 01:20:51,910
was mich theoretisch extrem abfacken würde.

1512
01:20:51,910 --> 01:20:59,830
Ja, genau.

1513
01:20:59,830 --> 01:21:01,830
Terraform

1514
01:21:01,830 --> 01:21:03,830
kann KVM,

1515
01:21:03,830 --> 01:21:05,830
allerdings nicht von Haus aus.

1516
01:21:05,830 --> 01:21:07,830
Es gibt aber ein Plugin, KVM.

1517
01:21:07,830 --> 01:21:09,830
Du kannst ESX machen.

1518
01:21:09,830 --> 01:21:11,830
Du kannst mehr oder weniger

1519
01:21:11,830 --> 01:21:13,830
die meisten...

1520
01:21:13,830 --> 01:21:15,830
Du kannst auch Docker-Container damit anlegen

1521
01:21:15,830 --> 01:21:17,830
und sowas. Also ja, kannst du lokal auch machen.

1522
01:21:17,830 --> 01:21:19,830
Ich finde das sogar eigentlich eine ganz coole Sache.

1523
01:21:19,830 --> 01:21:21,830
Ich meine, nur weil da Cloud dransteht,

1524
01:21:21,830 --> 01:21:46,390
kann man das lokal auch verwenden.

1525
01:21:46,390 --> 01:21:48,390
Was benutzt du für ein Desktop-Environment?

1526
01:21:48,390 --> 01:21:50,390
Das ist Manjaro.

1527
01:21:50,390 --> 01:21:52,390
Also nicht Arch, by the way,

1528
01:21:52,390 --> 01:21:54,390
als Manjaro-User sagt, man benutzt Arch

1529
01:21:54,390 --> 01:21:56,390
und

1530
01:21:56,390 --> 01:21:58,390
I3-VM.

1531
01:21:58,390 --> 01:22:00,390
So, jetzt checken wir mal, ob wir uns drauf einloggen können.

1532
01:22:00,390 --> 01:22:02,390
QChat, Node,

1533
01:22:02,390 --> 01:22:04,390
1, ssh, root, add.

1534
01:22:04,390 --> 01:22:12,500
Hehe.

1535
01:22:12,500 --> 01:22:15,820
Das ist der Reboot, den ich

1536
01:22:15,820 --> 01:22:23,100
eingebaut habe.

1537
01:22:23,100 --> 01:22:25,100
Jetzt muss ich mal kurz auf meinen Reboot warten.

1538
01:22:25,100 --> 01:22:27,100
Deswegen mag ich das mit dem Reboot

1539
01:22:27,100 --> 01:22:29,100
nicht, denn...

1540
01:22:29,100 --> 01:22:31,100
Jetzt kann ich das nämlich auch nochmal erklären.

1541
01:22:31,100 --> 01:22:33,100
Warum ich der Meinung bin,

1542
01:22:33,100 --> 01:22:35,100
muss nicht unbedingt sein.

1543
01:22:35,100 --> 01:22:37,100
Weil,

1544
01:22:37,100 --> 01:22:39,100
wenn man das System öfters

1545
01:22:39,100 --> 01:22:41,100
neu aufbaut, hat es automatisch...

1546
01:22:41,100 --> 01:22:43,100
Also ich würde das System gar nicht rebooten.

1547
01:22:43,100 --> 01:22:45,100
Ich würde das System einfach neu aufbauen,

1548
01:22:45,100 --> 01:22:47,100
wenn ich einen

1549
01:22:47,100 --> 01:22:49,100
Loadbalancer davor habe und Updates machen will.

1550
01:22:49,100 --> 01:22:51,100
Das ist

1551
01:22:51,100 --> 01:22:53,100
wahrscheinlich die einfachere Variante.

1552
01:22:53,100 --> 01:22:55,100
Gut, man ist dann halt nicht super

1553
01:22:55,100 --> 01:22:57,100
aktuell, sondern irgendwie

1554
01:22:57,100 --> 01:22:59,100
2-3 Tage alt, bis Hetzner

1555
01:22:59,100 --> 01:23:01,100
das Image aktualisiert.

1556
01:23:01,100 --> 01:23:08,090
Alter!

1557
01:23:08,090 --> 01:23:12,620
Kackel!

1558
01:23:12,620 --> 01:23:20,920
Da sind wir wieder.

1559
01:23:20,920 --> 01:23:22,920
Ich könnte das nutzen, wenn ein Reboot

1560
01:23:22,920 --> 01:23:31,420
indicated ist.

1561
01:23:31,420 --> 01:23:33,420
Ich weiß nicht, ob Terraform sowas kann.

1562
01:23:33,420 --> 01:23:35,420
Terraform, ssh...

1563
01:23:35,420 --> 01:23:37,420
Aber du hast das Richtige erkannt.

1564
01:23:37,420 --> 01:23:39,420
Wisst ihr, was mir gerade eingefallen ist?

1565
01:23:39,420 --> 01:23:41,420
Weshalb wir unsere Terraform

1566
01:23:41,420 --> 01:23:43,420
Sache für 2 Minuten mal unterbrechen müssen.

1567
01:23:43,420 --> 01:23:45,420
Und zwar...

1568
01:23:45,420 --> 01:23:47,420
Ähm...

1569
01:23:47,420 --> 01:23:49,420
Wir könnten jetzt

1570
01:23:49,420 --> 01:23:51,420
Folgendes machen.

1571
01:23:51,420 --> 01:23:53,420
Der Login ist

1572
01:23:53,420 --> 01:23:55,420
jetzt halt ziemlicher Abfuck.

1573
01:23:55,420 --> 01:23:57,420
Wir könnten jetzt aber sagen,

1574
01:23:57,420 --> 01:23:59,420
hcloud server list

1575
01:23:59,420 --> 01:24:01,420
und dann sehen wir hier, das sind unsere Server.

1576
01:24:01,420 --> 01:24:03,420
Wir könnten jetzt folgendes machen.

1577
01:24:03,420 --> 01:24:05,420
Passt mal auf.

1578
01:24:05,420 --> 01:24:07,420
Massive, Massive, Fifat.

1579
01:24:07,420 --> 01:24:09,420
Enter, Enter, Tilde...

1580
01:24:09,420 --> 01:24:11,420
Das kenne ich noch nicht.

1581
01:24:11,420 --> 01:24:13,420
Wir können jetzt Massive, Massive, Fifat

1582
01:24:13,420 --> 01:24:15,420
machen hier. Passt mal auf.

1583
01:24:15,420 --> 01:24:17,420
Bin mal gespannt, ob ich das so aus dem Stehgreif

1584
01:24:17,420 --> 01:24:19,420
was hinkriege. Wir könnten uns jetzt

1585
01:24:19,420 --> 01:24:21,420
automatisches Menü basteln zum Einloggen.

1586
01:24:21,420 --> 01:24:23,420
Also, ssh

1587
01:24:23,420 --> 01:24:25,420
root, add

1588
01:24:25,420 --> 01:24:27,420
Zack.

1589
01:24:27,420 --> 01:24:29,420
Ähm... Okay, Moment.

1590
01:24:29,420 --> 01:24:31,420
Das muss ich mal anders machen.

1591
01:24:31,420 --> 01:24:33,420
hcloud grep

1592
01:24:33,420 --> 01:24:35,420
Wenn's geht, zeige ich euch, was ich meine.

1593
01:24:35,420 --> 01:24:37,420
hcloud grep

1594
01:24:37,420 --> 01:24:39,420
Ähm...

1595
01:24:39,420 --> 01:24:41,420
Hä? Kann das...

1596
01:24:41,420 --> 01:24:43,420
Muss das das zwangsläufig

1597
01:24:43,420 --> 01:24:45,420
in CSV auflisten?

1598
01:24:45,420 --> 01:24:47,420
Das ist ja eklig.

1599
01:24:47,420 --> 01:24:49,420
Awk

1600
01:24:49,420 --> 01:24:52,730
awk

1601
01:24:52,730 --> 01:24:54,730
awk-syntax, Leute.

1602
01:24:54,730 --> 01:24:56,730
Print, Dollar, 2,

1603
01:24:56,730 --> 01:24:58,730
so, ah, okay,

1604
01:24:58,730 --> 01:25:00,730
nice, nice, six hat time.

1605
01:25:00,730 --> 01:25:05,260
Ähm...

1606
01:25:05,260 --> 01:25:07,260
Aber mehr, mehr...

1607
01:25:07,260 --> 01:25:18,500
Okay.

1608
01:25:18,500 --> 01:25:20,500
Du hast recht.

1609
01:25:20,500 --> 01:25:22,500
Nee, nicht tail,

1610
01:25:22,500 --> 01:25:24,500
nicht tail minus 3,

1611
01:25:24,500 --> 01:25:26,500
hat, nee,

1612
01:25:26,500 --> 01:25:28,500
oder war das tail, dass man die erste Zeile

1613
01:25:28,500 --> 01:25:31,880
abschneidet?

1614
01:25:31,880 --> 01:25:33,880
Oder tail, oder hat?

1615
01:25:33,880 --> 01:25:35,880
War das head?

1616
01:25:35,880 --> 01:25:39,900
Nee, Moment, ähm...

1617
01:25:39,900 --> 01:25:41,900
Head plus 1?

1618
01:25:41,900 --> 01:25:47,260
Warte mal.

1619
01:25:47,260 --> 01:25:49,260
Head, remove, first line.

1620
01:25:49,260 --> 01:25:55,960
Ach, tail minus n

1621
01:25:55,960 --> 01:25:57,960
plus 2, okay.

1622
01:25:57,960 --> 01:26:02,230
Alles klar, das wusste ich

1623
01:26:02,230 --> 01:26:06,250
aus dem Kopf nicht.

1624
01:26:06,250 --> 01:26:08,250
So, und guckt mal, nur mal so die, also, nur mal so

1625
01:26:08,250 --> 01:26:10,250
als Idee, was ich jetzt grad machen, was ich jetzt

1626
01:26:10,250 --> 01:26:12,250
grad machen will, wo ich grad...

1627
01:26:12,250 --> 01:26:14,250
Print, Dollar,

1628
01:26:14,250 --> 01:26:16,250
4.

1629
01:26:16,250 --> 01:26:18,250
Und jetzt, und jetzt, passt mal auf,

1630
01:26:18,250 --> 01:26:23,160
und jetzt haben wir ne Liste,

1631
01:26:23,160 --> 01:26:25,160
die wir auswählen können.

1632
01:26:25,160 --> 01:26:27,160
Das heißt, theoretisch könnte ich jetzt sowas

1633
01:26:27,160 --> 01:26:29,160
machen, ssh, root,

1634
01:26:29,160 --> 01:26:31,160
add, das da,

1635
01:26:31,160 --> 01:26:36,650
und jetzt,

1636
01:26:36,650 --> 01:26:38,650
hätt's da, mag

1637
01:26:38,650 --> 01:26:40,650
das nicht, dass ich das so oft abfrage, oder so,

1638
01:26:40,650 --> 01:26:42,650
glaub ich, und jetzt

1639
01:26:42,650 --> 01:26:44,650
kann ich auswählen, den Server,

1640
01:26:44,650 --> 01:26:46,650
und er macht automatisch

1641
01:26:46,650 --> 01:26:48,650
ssh-login. Ist das nicht

1642
01:26:48,650 --> 01:26:55,740
pock?

1643
01:26:55,740 --> 01:26:57,740
Was ist

1644
01:26:57,740 --> 01:27:04,380
FZF?

1645
01:27:04,380 --> 01:27:06,380
FZF ist ein

1646
01:27:06,380 --> 01:27:08,380
Command Line Fuzzy

1647
01:27:08,380 --> 01:27:10,380
Finder. Hat

1648
01:27:10,380 --> 01:27:12,380
auch, hat auch, äh,

1649
01:27:12,380 --> 01:27:14,380
ziemlich

1650
01:27:14,380 --> 01:27:16,380
viele Sterne, 45.000

1651
01:27:16,380 --> 01:27:18,380
Sterne mittlerweile.

1652
01:27:18,380 --> 01:27:25,430
Meine Güte.

1653
01:27:25,430 --> 01:27:27,430
Ja, du hast recht, wir können das,

1654
01:27:27,430 --> 01:27:29,430
wir können das noch verbessern, ja,

1655
01:27:29,430 --> 01:27:31,430
unser Skript ist noch nicht frei fertig genug,

1656
01:27:31,430 --> 01:27:33,430
ähm, wir machen das so,

1657
01:27:33,430 --> 01:27:35,430
wir, wir machen das mit

1658
01:27:35,430 --> 01:27:37,430
dem AWK raus, wir machen

1659
01:27:37,430 --> 01:27:39,430
so, FZF,

1660
01:27:39,430 --> 01:27:41,430
ja,

1661
01:27:41,430 --> 01:27:43,430
ähm, und dann

1662
01:27:43,430 --> 01:27:45,430
speichern wir das, keine Ahnung,

1663
01:27:45,430 --> 01:27:47,430
result, speichern wir da drin,

1664
01:27:47,430 --> 01:27:51,580
echo,

1665
01:27:51,580 --> 01:27:53,580
$result,

1666
01:27:53,580 --> 01:27:55,580
und da

1667
01:27:55,580 --> 01:27:57,580
machen wir jetzt das AWK hinter,

1668
01:27:57,580 --> 01:27:59,580
ich hoffe, dass das funzt, was ich da

1669
01:27:59,580 --> 01:28:01,580
jetzt mache, $2,

1670
01:28:01,580 --> 01:28:03,580
ne,

1671
01:28:03,580 --> 01:28:05,580
$4 war's,

1672
01:28:05,580 --> 01:28:07,580
ja, genau,

1673
01:28:07,580 --> 01:28:12,490
ja, das kann ich machen,

1674
01:28:12,490 --> 01:28:14,490
so, und das Ganze

1675
01:28:14,490 --> 01:28:16,490
jetzt, root, add,

1676
01:28:16,490 --> 01:28:18,490
Alter, haha, was ein Ding, ey,

1677
01:28:18,490 --> 01:28:24,040
funzt, okay,

1678
01:28:24,040 --> 01:28:26,040
also,

1679
01:28:26,040 --> 01:28:28,040
das ist tatsächlich ganz nützlich, muss ich

1680
01:28:28,040 --> 01:28:30,040
sagen, ich glaub, sowas sollte ich mir für die Arbeit

1681
01:28:30,040 --> 01:28:32,040
auch mal bauen, mit unseren ganzen SSH-Dingern,

1682
01:28:32,040 --> 01:28:37,270
ich kann es auf dem,

1683
01:28:37,270 --> 01:28:39,270
aus dem FZF wieder rauspipen,

1684
01:28:39,270 --> 01:28:41,270
du hast recht, ich kann's aus dem, aus dem FZF

1685
01:28:41,270 --> 01:28:43,270
wieder rauspipen, ich brauch das gar nicht

1686
01:28:43,270 --> 01:28:45,270
zwischenspeichern.

1687
01:28:45,270 --> 01:28:47,270
Stimmt.

1688
01:28:47,270 --> 01:28:52,060
Einfach so, ne,

1689
01:28:52,060 --> 01:28:54,060
hä, ich glaub, Hetzner drosselt mich schon,

1690
01:28:54,060 --> 01:28:56,060
jetzt krieg ich ne Auswahl mit allen

1691
01:28:56,060 --> 01:28:58,060
Nodes, die ich laufen hab, sag ich will mich

1692
01:28:58,060 --> 01:29:00,060
auf den verbinden, zack,

1693
01:29:00,060 --> 01:29:02,060
oh, das ist cool, das gefällt mir,

1694
01:29:02,060 --> 01:29:04,060
ich glaube, sowas muss ich mir, ich glaub,

1695
01:29:04,060 --> 01:29:06,060
sowas muss ich mir für die Arbeit bauen, für alle,

1696
01:29:06,060 --> 01:29:08,060
für alle Kisten, ich mein, ich hab dann halt

1697
01:29:08,060 --> 01:29:10,060
3000 Linux-Kisten in der Auswahl, aber das

1698
01:29:10,060 --> 01:29:12,060
macht ja nix, haha, das ist trotzdem

1699
01:29:12,060 --> 01:29:14,060
schnell durchsucht, okay,

1700
01:29:14,060 --> 01:29:16,060
edits, ZSH,

1701
01:29:16,060 --> 01:29:18,060
äh, alias,

1702
01:29:18,060 --> 01:29:20,060
äh,

1703
01:29:20,060 --> 01:29:22,060
SSH,

1704
01:29:22,060 --> 01:29:24,060
mir fällt, mir fällt grad nix anderes ein,

1705
01:29:24,060 --> 01:29:26,060
äh, gleich das da,

1706
01:29:28,060 --> 01:29:30,060
so,

1707
01:29:30,060 --> 01:29:32,060
hups, äh, wobei, war gar, war

1708
01:29:32,060 --> 01:29:34,060
gar nicht so schlecht, hups,

1709
01:29:34,060 --> 01:29:36,060
Moment,

1710
01:29:36,060 --> 01:29:38,060
w, warte mal,

1711
01:29:38,060 --> 01:29:44,820
hab ich irgendwas, ah,

1712
01:29:44,820 --> 01:29:46,820
nee, nee, nee, Moment, das ist jetzt natürlich bescheuert,

1713
01:29:46,820 --> 01:29:53,460
äh, wie, wie mach ich

1714
01:29:53,460 --> 01:29:55,460
ein,

1715
01:29:55,460 --> 01:29:57,460
warte mal, wie setz ich ein Alias mit,

1716
01:29:57,460 --> 01:29:59,460
muss ich das,

1717
01:29:59,460 --> 01:30:01,460
so machen, und dann

1718
01:30:01,460 --> 01:30:05,290
da drinne,

1719
01:30:05,290 --> 01:30:13,460
ups, warte,

1720
01:30:13,460 --> 01:30:15,460
SSH,

1721
01:30:15,460 --> 01:30:17,460
fuck, geht nicht,

1722
01:30:17,460 --> 01:30:19,460
aber ich, ich, ich hab irgendwas verkehrt

1723
01:30:19,460 --> 01:30:21,460
gemacht hier, SSH,

1724
01:30:21,460 --> 01:30:28,170
root, add, da fehlt

1725
01:30:28,170 --> 01:30:30,170
noch ne Klammer,

1726
01:30:30,170 --> 01:30:32,170
äh, wo,

1727
01:30:32,170 --> 01:30:38,170
was, ich muss die Dinger escapen,

1728
01:30:38,170 --> 01:30:41,930
nee, am Ende fehlt

1729
01:30:41,930 --> 01:30:46,390
keine Klammer, nee,

1730
01:30:46,390 --> 01:30:48,390
wo soll da ne Klammer fehlen, hier ist ne Klammer,

1731
01:30:48,390 --> 01:30:50,390
nee, warum sollte da ne,

1732
01:30:50,390 --> 01:30:52,390
was,

1733
01:30:52,390 --> 01:30:54,390
ah,

1734
01:30:54,390 --> 01:30:56,390
ihr habt recht, da,

1735
01:30:56,390 --> 01:31:03,480
da fehlt die Klammer,

1736
01:31:03,480 --> 01:31:06,920
Chat hat immer recht,

1737
01:31:06,920 --> 01:31:08,920
ah, oft, oft,

1738
01:31:08,920 --> 01:31:10,920
oft hat der Chat recht, das liegt

1739
01:31:10,920 --> 01:31:12,920
aber nur an den ganzen Prime-Subs,

1740
01:31:12,920 --> 01:31:14,920
weil die Leute mittlerweile einfach massive

1741
01:31:14,920 --> 01:31:16,920
high IQ haben, ok,

1742
01:31:16,920 --> 01:31:24,260
Funs, oder auch nicht,

1743
01:31:24,260 --> 01:31:34,940
funktioniert nicht,

1744
01:31:34,940 --> 01:31:36,940
nicht, nicht, nicht high IQ

1745
01:31:36,940 --> 01:31:44,020
genug gewesen,

1746
01:31:44,020 --> 01:31:46,020
ok, wisst ihr was, wisst ihr was,

1747
01:31:46,020 --> 01:31:48,020
ich, ich,

1748
01:31:48,020 --> 01:31:56,390
wir machen das jetzt anders,

1749
01:31:56,390 --> 01:31:58,390
mein AWK braucht tatsächlich,

1750
01:31:58,390 --> 01:32:00,390
ja, so, und ich denke,

1751
01:32:02,390 --> 01:32:04,390
dass ich das so machen kann,

1752
01:32:04,390 --> 01:32:11,740
an der Stelle,

1753
01:32:11,740 --> 01:32:16,010
also, Struggle is real, äh,

1754
01:32:16,010 --> 01:32:18,010
ja, ich glaube auch, ich glaube der Alias

1755
01:32:18,010 --> 01:32:20,010
tut's, tut's nicht, ja,

1756
01:32:20,010 --> 01:32:22,010
ok, Function,

1757
01:32:22,010 --> 01:32:24,010
Keckel, ey,

1758
01:32:24,010 --> 01:32:29,940
HSSH,

1759
01:32:29,940 --> 01:32:31,940
der Alias ist dazu,

1760
01:32:31,940 --> 01:32:35,260
zu schlecht,

1761
01:32:35,260 --> 01:32:37,260
für,

1762
01:32:37,260 --> 01:32:39,260
so, jetzt aber, ha,

1763
01:32:39,260 --> 01:32:46,220
ah,

1764
01:32:46,220 --> 01:32:48,220
ja, so, nice,

1765
01:32:48,220 --> 01:32:50,220
so ist das doch schon

1766
01:32:50,220 --> 01:32:52,220
besser, so, und jetzt kann ich jedes

1767
01:32:52,220 --> 01:32:54,220
Mal, wartet mal,

1768
01:32:54,220 --> 01:32:56,220
hier mal anladen, kurz

1769
01:32:56,220 --> 01:32:58,220
anmachen, und jetzt kann ich jedes Mal,

1770
01:32:58,220 --> 01:33:00,220
äh, repo,

1771
01:33:00,220 --> 01:33:02,220
repo, kekw,

1772
01:33:02,220 --> 01:33:04,220
S2 Service, da sind wir, Infra,

1773
01:33:04,220 --> 01:33:06,220
so, und jetzt kann ich jedes Mal, wenn ich

1774
01:33:06,220 --> 01:33:08,220
den Kram, guck mal, guck mal, wie, wie nice das ist!

1775
01:33:08,220 --> 01:33:10,340
das ist. Mal angenommen, ich mache jetzt, ich schmeiße

1776
01:33:10,340 --> 01:33:12,240
jetzt meine ganze Server-Infrastruktur wieder

1777
01:33:12,240 --> 01:33:13,460
weg. Bam, destroy.

1778
01:33:14,120 --> 01:33:15,800
Alle Kisten wieder weg. Zack.

1779
01:33:16,640 --> 01:33:17,960
Den Reboot mache ich, by the way,

1780
01:33:18,240 --> 01:33:19,760
weg. Der ist useless.

1781
01:33:21,260 --> 01:33:21,400
So.

1782
01:33:23,480 --> 01:33:23,920
Apply.

1783
01:33:26,430 --> 01:33:27,830
Lass ich jetzt die Server neu aufbauen.

1784
01:33:29,390 --> 01:33:29,830
Jetzt ändern

1785
01:33:29,830 --> 01:33:31,610
sich die IPs und jetzt ändern sich die

1786
01:33:31,610 --> 01:33:33,310
IDs und alles mögliche.

1787
01:33:35,710 --> 01:33:37,510
Und jetzt sind die Server neu aufgebaut.

1788
01:33:37,510 --> 01:33:41,610
Und jetzt sage ich einfach

1789
01:33:41,610 --> 01:33:43,650
H-S-S-H

1790
01:33:43,650 --> 01:33:45,390
und

1791
01:33:45,390 --> 01:33:47,430
zack, habe ich die neuen IPs drin und kann

1792
01:33:47,430 --> 01:33:48,410
sagen, ach, ich will da hin.

1793
01:33:49,430 --> 01:33:50,450
Okay, der Server ist noch nicht da.

1794
01:33:52,270 --> 01:33:53,910
War vielleicht

1795
01:33:53,910 --> 01:33:55,270
ein bisschen zu schnell.

1796
01:33:55,710 --> 01:33:57,390
Und jetzt habe ich schon die neuen IPs und alles

1797
01:33:57,390 --> 01:34:01,950
drin. Das ist sehr nice.

1798
01:34:02,050 --> 01:34:02,670
Das gefällt mir.

1799
01:34:05,350 --> 01:34:05,470
Ja.

1800
01:34:06,850 --> 01:34:09,110
Ja gut, das ist jetzt, weil es die IP tatsächlich

1801
01:34:09,110 --> 01:34:10,070
doppelt gegeben hat.

1802
01:34:19,500 --> 01:34:19,900
Nice.

1803
01:34:19,960 --> 01:34:25,030
Ne,

1804
01:34:25,250 --> 01:34:27,930
wir können

1805
01:34:27,930 --> 01:34:29,810
das anders machen. Wir können einfach

1806
01:34:29,810 --> 01:34:31,850
die Hardcore-Variante machen.

1807
01:34:32,070 --> 01:34:33,390
S-S-H-O

1808
01:34:33,390 --> 01:34:35,910
Strict Host Key Checking

1809
01:34:35,910 --> 01:34:37,690
gleich No.

1810
01:34:38,370 --> 01:34:39,650
Ich bin mir ehrlich gesagt nicht

1811
01:34:39,650 --> 01:34:41,850
sicher, was der Unterschied zwischen Off und No

1812
01:34:41,850 --> 01:34:42,170
ist.

1813
01:34:47,660 --> 01:34:48,880
Guckt und schon.

1814
01:34:50,220 --> 01:34:50,860
Ups.

1815
01:34:51,500 --> 01:34:52,660
Könnt ihr es einfach neu einlesen.

1816
01:34:53,360 --> 01:34:54,020
Und schon

1817
01:34:56,020 --> 01:34:56,780
geht es

1818
01:34:56,780 --> 01:34:57,020
trotzdem.

1819
01:34:57,060 --> 01:34:59,060
Weil das ignoert.

1820
01:35:02,390 --> 01:35:03,110
Okay, weiter.

1821
01:35:04,210 --> 01:35:05,050
Also, wir können jetzt

1822
01:35:05,050 --> 01:35:07,070
easy drei Server aufbauen und ihr seht,

1823
01:35:07,170 --> 01:35:08,290
wie zackig das funktioniert.

1824
01:35:08,870 --> 01:35:11,470
Was brauchen wir jetzt als nächstes? Und Server wieder gelöscht.

1825
01:35:12,430 --> 01:35:13,090
Gut, also,

1826
01:35:13,170 --> 01:35:15,030
lasst mal überlegen. Was brauchen wir denn? Loadbalancer brauchen wir

1827
01:35:15,030 --> 01:35:16,190
als nächstes, würde ich sagen.

1828
01:35:17,570 --> 01:35:19,330
Weil wir wollen ja sowas hier bauen.

1829
01:35:20,810 --> 01:35:21,250
Loadbalancer

1830
01:35:21,250 --> 01:35:23,570
und drei Applications. Und wir brauchen ein Netzwerk.

1831
01:35:24,690 --> 01:35:25,410
Wir brauchen

1832
01:35:25,410 --> 01:35:26,250
ein privates

1833
01:35:26,250 --> 01:35:28,190
Private Netz.

1834
01:35:28,190 --> 01:35:28,270
Das ist das.

1835
01:35:32,950 --> 01:35:34,950
Die Server selbst lasse ich mal

1836
01:35:34,950 --> 01:35:36,950
jetzt mal mit Public IP dran.

1837
01:35:36,950 --> 01:35:38,950
Weil, das ist

1838
01:35:38,950 --> 01:35:40,950
zum managen jetzt und zum ausprobieren

1839
01:35:40,950 --> 01:35:42,950
einfacher.

1840
01:35:42,950 --> 01:35:44,950
Aber eigentlich will ich die ja ohne Public IP haben.

1841
01:35:44,950 --> 01:35:49,290
Okay.

1842
01:35:49,290 --> 01:35:51,290
Also, wie baut man jetzt

1843
01:35:51,290 --> 01:35:53,290
ein Loadbalancer

1844
01:35:53,290 --> 01:35:55,290
mit dem Terraform?

1845
01:35:55,290 --> 01:35:57,290
Es gäbe jetzt ja mehrere

1846
01:35:57,290 --> 01:35:59,290
Varianten. Entweder

1847
01:35:59,290 --> 01:36:01,290
wir nehmen den Loadbalancer, den

1848
01:36:01,290 --> 01:36:05,110
Hetzner anbietet.

1849
01:36:05,110 --> 01:36:07,110
Oder wir bauen selbst ein, das mit

1850
01:36:07,110 --> 01:36:09,110
würde ich das nächste Mal machen.

1851
01:36:09,110 --> 01:36:11,110
Und jetzt zum ausprobieren einfach den von Hetzner nehmen.

1852
01:36:11,110 --> 01:36:13,110
Da können wir nämlich auch gleich gucken, wie gut die Terraform Integration ist.

1853
01:36:13,110 --> 01:36:27,110
Selbstbauen ist jetzt auch nicht so schwierig, wenn man sowas wie Kadi verwendet oder meinetwegen auch HAproxy. Wobei HAproxy müsste ich mir auch mal angucken. Da bin ich auch nicht so auf dem aktuellsten Stand.

1854
01:36:27,110 --> 01:36:30,870
Erstmal brauchen wir ein Netzwerk.

1855
01:36:30,870 --> 01:36:32,870
Oder Traffic oder irgendwas in der Richtung können wir nehmen.

1856
01:36:32,870 --> 01:36:34,870
Jetzt brauchen wir als erstes ein Netzwerk.

1857
01:36:34,870 --> 01:36:36,870
Ein Private, hier, Loadbalancer Network.

1858
01:36:36,870 --> 01:36:38,870
Server Network.

1859
01:36:38,870 --> 01:36:40,870
Oder kann man bei Server vielleicht

1860
01:36:40,870 --> 01:36:42,870
das Netzwerk direkt angeben?

1861
01:36:42,870 --> 01:36:44,870
Network.

1862
01:36:44,870 --> 01:36:46,870
Network ID.

1863
01:36:46,870 --> 01:36:48,870
Network Zone.

1864
01:36:48,870 --> 01:36:50,870
IP Range.

1865
01:36:50,870 --> 01:36:52,870
H-Cloud Network Subnet.

1866
01:36:52,870 --> 01:36:57,460
Ok, wie genau funktioniert das jetzt?

1867
01:36:57,460 --> 01:37:00,780
Network?

1868
01:37:00,780 --> 01:37:10,810
Wartet mal, nur mal, dass ich das jetzt richtig verstehe.

1869
01:37:10,810 --> 01:37:12,810
Man muss, man definiert das

1870
01:37:12,810 --> 01:37:17,530
Netzwerk.

1871
01:37:17,530 --> 01:37:27,370
Man muss, man definiert das Netzwerk.

1872
01:37:27,370 --> 01:37:29,370
Man muss, man definiert das Netzwerk.

1873
01:37:29,370 --> 01:37:31,370
Man nutzt sein Netzwerk hier oben.

1874
01:37:31,370 --> 01:37:33,370
Und hier unten definiert man dann quasi

1875
01:37:33,370 --> 01:37:36,680
eigentlich nur

1876
01:37:36,680 --> 01:37:38,680
in welches Netzwerk der Server

1877
01:37:38,680 --> 01:37:40,680
gehängt werden soll.

1878
01:37:40,680 --> 01:37:42,680
gehängt werden soll.

1879
01:37:42,680 --> 01:37:44,680
Also sprich, brauche ich sowas.

1880
01:37:44,680 --> 01:37:46,680
Ok.

1881
01:37:46,680 --> 01:37:48,680
Network Subnet.

1882
01:37:48,680 --> 01:37:53,080
Was ist Terraform?

1883
01:37:53,080 --> 01:37:55,080
Ein Tool um

1884
01:37:55,080 --> 01:37:57,080
Cloud Ressourcen, nicht nur Cloud,

1885
01:37:57,080 --> 01:37:59,080
um Ressourcen anzulegen.

1886
01:37:59,080 --> 01:38:01,080
Also um VMs zu erstellen, Container zu erstellen

1887
01:38:01,080 --> 01:38:03,080
und

1888
01:38:03,080 --> 01:38:05,080
mit den richtigen Settings anzulegen vor allem.

1889
01:38:05,080 --> 01:38:07,080
Also im Prinzip das, was du im Web Interface

1890
01:38:07,080 --> 01:38:09,080
von deinem Cloud Anbieter machen kannst,

1891
01:38:09,080 --> 01:38:11,080
kannst du so mit deinem

1892
01:38:11,080 --> 01:38:13,080
Config File reproduzierbar machen

1893
01:38:13,080 --> 01:38:15,080
und halt deutlich schneller als mit

1894
01:38:15,080 --> 01:38:17,080
als von Hand im Web Interface.

1895
01:38:17,080 --> 01:38:22,250
als von Hand im Web Interface.

1896
01:38:22,250 --> 01:38:24,250
Also, Resource H-Cloud Network.

1897
01:38:24,250 --> 01:38:28,200
Also, Resource H-Cloud Network.

1898
01:38:28,200 --> 01:38:32,980
Warum gibt es Subnet?

1899
01:38:32,980 --> 01:38:43,400
Achso, man kann

1900
01:38:43,400 --> 01:38:45,400
ein Netz anlegen und dann noch verschiedene

1901
01:38:45,400 --> 01:38:47,400
Subnets drin definieren.

1902
01:38:47,400 --> 01:38:49,400
Achso.

1903
01:38:49,400 --> 01:38:51,400
Das Tool nutzt die API.

1904
01:38:51,400 --> 01:38:53,400
Jaja, klar, sonst würde es ja gar nicht funktionieren.

1905
01:38:53,400 --> 01:38:55,400
Und der Terraform Provider ist auch offiziell von Hetzner.

1906
01:38:55,400 --> 01:38:58,780
So.

1907
01:38:58,780 --> 01:39:00,780
Also, das ist hier private.

1908
01:39:00,780 --> 01:39:02,780
Wie soll man das nennen?

1909
01:39:02,780 --> 01:39:04,780
C000 Dings.

1910
01:39:04,780 --> 01:39:06,780
Ja, passt.

1911
01:39:06,780 --> 01:39:08,780
Also gibt es das net.

1912
01:39:08,780 --> 01:39:10,780
So, und da kann ich

1913
01:39:10,780 --> 01:39:12,780
da jetzt sowas sagen, wie Network?

1914
01:39:12,780 --> 01:39:14,780
Ne, ne, das muss ich...

1915
01:39:14,780 --> 01:39:18,660
Network?

1916
01:39:18,660 --> 01:39:20,660
IP will ich nicht.

1917
01:39:20,660 --> 01:39:22,660
Network ID.

1918
01:39:22,660 --> 01:39:24,660
Hm.

1919
01:39:24,660 --> 01:39:26,660
Woher weiß ich denn die Network ID?

1920
01:39:26,660 --> 01:39:31,960
Woher weiß ich denn die Network ID?

1921
01:39:31,960 --> 01:39:35,720
Achso.

1922
01:39:35,720 --> 01:39:37,720
Also, quasi...

1923
01:39:37,720 --> 01:39:39,720
Also, quasi...

1924
01:39:39,720 --> 01:39:41,720
So?

1925
01:39:41,720 --> 01:39:43,720
Da bin ich ja mal gespannt, ob das so funktioniert,

1926
01:39:43,720 --> 01:39:45,720
was ich gebaut habe.

1927
01:39:45,720 --> 01:39:47,720
Also, von der Idee her sollte der jetzt das...

1928
01:39:47,720 --> 01:39:49,720
Also, der sollte folgendes machen, was ich hier...

1929
01:39:49,720 --> 01:39:51,720
Also, man kann hier auf Networks gehen.

1930
01:39:51,720 --> 01:39:53,720
Create Network.

1931
01:39:53,720 --> 01:39:55,720
Und da kann man ein internes Netzwerk für seine Server anlegen.

1932
01:39:55,720 --> 01:39:57,720
Also auf Cloud-Seite.

1933
01:39:57,720 --> 01:39:59,720
Was nicht mit dem Internet verbunden ist.

1934
01:39:59,720 --> 01:40:01,720
Und was auch nix mit dem Netzwerk daheim zu tun hat.

1935
01:40:01,720 --> 01:40:03,720
Und was auch nix mit dem Netzwerk daheim zu tun hat.

1936
01:40:03,720 --> 01:40:05,720
Sondern auf Server-Seite.

1937
01:40:05,720 --> 01:40:07,720
Auf Cloud-Seite ein Netzwerk anlegen,

1938
01:40:07,720 --> 01:40:09,720
wo die Server untereinander kommunizieren können.

1939
01:40:09,720 --> 01:40:11,720
Wo du dann auch beispielsweise

1940
01:40:11,720 --> 01:40:13,720
Server drüber ansprechen kannst,

1941
01:40:13,720 --> 01:40:15,720
die gar nicht im Internet hängen.

1942
01:40:15,720 --> 01:40:17,720
Also von der Idee her, wenn das jetzt funktioniert,

1943
01:40:17,720 --> 01:40:19,720
sollte der ein neues Netzwerk anlegen.

1944
01:40:19,720 --> 01:40:21,720
Und unsere drei Serverkisten

1945
01:40:21,720 --> 01:40:23,720
an dieses Netzwerk attachen.

1946
01:40:23,720 --> 01:40:25,720
Wenn ich das richtig verstehe.

1947
01:40:25,720 --> 01:40:29,930
Ist das ähnlich zu Ansible?

1948
01:40:29,930 --> 01:40:31,930
Es sind unterschiedliche...

1949
01:40:31,930 --> 01:40:33,930
Was ist denn das hier?

1950
01:40:33,930 --> 01:40:35,930
Ach, das ist... Ihr habt abgestimmt.

1951
01:40:35,930 --> 01:40:37,930
Ne, das ist ähnlich.

1952
01:40:37,930 --> 01:40:39,930
Aber vom Ansatz her

1953
01:40:39,930 --> 01:40:41,930
komplett anders gedacht.

1954
01:40:41,930 --> 01:40:43,930
Terraform ist dafür da,

1955
01:40:43,930 --> 01:40:45,930
um Server anzulegen.

1956
01:40:45,930 --> 01:40:47,930
Und Ansible ist dafür da,

1957
01:40:47,930 --> 01:40:49,930
um Server zu konfigurieren.

1958
01:40:49,930 --> 01:40:51,930
Also, wenn man größere Sachen hat,

1959
01:40:51,930 --> 01:40:53,930
ist die Wahrscheinlichkeit, dass man beides verwendet,

1960
01:40:53,930 --> 01:40:55,930
gar nicht so gering.

1961
01:40:55,930 --> 01:40:57,930
Und...

1962
01:40:57,930 --> 01:40:59,930
Du kannst mit Ansible aber halt auch

1963
01:40:59,930 --> 01:41:01,930
ein bisschen Sachen anlegen

1964
01:41:01,930 --> 01:41:03,930
und du kannst mit Terraform auch ein bisschen

1965
01:41:03,930 --> 01:41:05,930
Sachen konfigurieren.

1966
01:41:05,930 --> 01:41:07,930
Aber wenn du deinen Server

1967
01:41:07,930 --> 01:41:09,930
komplexer konfigurieren musst,

1968
01:41:09,930 --> 01:41:11,930
wenn du da drauf sagen musst, hey,

1969
01:41:11,930 --> 01:41:13,930
ich muss den Nginx installieren,

1970
01:41:13,930 --> 01:41:15,930
dort muss ich irgendwas austauschen,

1971
01:41:15,930 --> 01:41:17,930
in der Config-Datei da noch 20 User anlegen,

1972
01:41:17,930 --> 01:41:19,930
dann hier noch eine PHP-Anwendung hinpacken,

1973
01:41:19,930 --> 01:41:21,930
das über Ansible

1974
01:41:21,930 --> 01:41:23,930
und das Anlegen der Kisten über Terraform.

1975
01:41:23,930 --> 01:41:25,930
Oder aber

1976
01:41:25,930 --> 01:41:27,930
du brauchst es nicht so oft,

1977
01:41:27,930 --> 01:41:29,930
dann kannst du es auch über dein Ansible-Playbook machen.

1978
01:41:29,930 --> 01:41:31,930
Es hat gewisse Überschneidungen, aber

1979
01:41:31,930 --> 01:41:33,930
die...

1980
01:41:33,930 --> 01:41:35,930
Also, wofür es gedacht ist,

1981
01:41:35,930 --> 01:41:37,930
ist halt der Unterschied zwischen

1982
01:41:37,930 --> 01:41:39,930
das eine ist zum Konfigurieren gedacht

1983
01:41:39,930 --> 01:41:43,620
und das andere ist zum Anlegen gedacht.

1984
01:41:43,620 --> 01:41:45,620
Genau, du könntest beispielsweise,

1985
01:41:45,620 --> 01:41:47,620
ja, das könntest du machen,

1986
01:41:47,620 --> 01:41:49,620
du könntest natürlich, nachdem Terraform

1987
01:41:49,620 --> 01:41:51,620
den Server aufgebaut hat,

1988
01:41:51,620 --> 01:41:53,620
kannst du dein Ansible-Playbook darauf laufen lassen.

1989
01:41:53,620 --> 01:41:55,620
Ja, das wäre gar keine schlechte Idee.

1990
01:41:55,620 --> 01:41:57,620
Aber ich komme aktuell mit einem minimalst

1991
01:41:57,620 --> 01:41:59,620
Bash-Ding aus

1992
01:41:59,620 --> 01:42:01,620
für Server-Config.

1993
01:42:01,620 --> 01:42:05,770
So, jetzt gucken wir mal,

1994
01:42:05,770 --> 01:42:07,770
ob der jetzt das private Netzwerk anlegt,

1995
01:42:07,770 --> 01:42:13,830
ob das jetzt funktioniert.

1996
01:42:13,830 --> 01:42:15,830
Ich finde es blöd, dass das Destroy da hinten

1997
01:42:15,830 --> 01:42:19,720
als Argument ist.

1998
01:42:19,720 --> 01:42:23,350
Gibt es nicht auch so?

1999
01:42:23,350 --> 01:42:26,730
Okay, das ist praktisch, weil...

2000
01:42:26,730 --> 01:42:28,730
So,

2001
01:42:28,730 --> 01:42:30,730
das zahlt tatsächlich, das hat funktioniert.

2002
01:42:30,730 --> 01:42:32,730
Private Networks, da ist es.

2003
01:42:32,730 --> 01:42:34,730
Jetzt werden Server angelegt

2004
01:42:34,730 --> 01:42:36,730
und die Server sollten in das Netzwerk gepackt werden.

2005
01:42:36,730 --> 01:42:40,490
Schauen wir mal.

2006
01:42:40,490 --> 01:42:42,490
Gucken wir mal, ob das jetzt funktioniert hat.

2007
01:42:42,490 --> 01:42:44,490
A problem has occurred.

2008
01:42:44,490 --> 01:42:46,490
A problem has occurred.

2009
01:42:46,490 --> 01:42:48,490
Check your... Was?

2010
01:42:48,490 --> 01:42:51,800
Okay, was auch immer.

2011
01:42:51,800 --> 01:42:55,940
Scheint noch alles zu

2012
01:42:55,940 --> 01:42:57,940
funktioniert.

2013
01:42:57,940 --> 01:42:59,940
Okay, Server sind wieder da.

2014
01:42:59,940 --> 01:43:01,940
Networking...

2015
01:43:01,940 --> 01:43:03,940
There is no private IP.

2016
01:43:03,940 --> 01:43:05,940
There is no private IP.

2017
01:43:05,940 --> 01:43:07,940
Attached to network.

2018
01:43:07,940 --> 01:43:09,940
No networks available in the network zone

2019
01:43:09,940 --> 01:43:11,940
of the selected location.

2020
01:43:11,940 --> 01:43:13,940
Ich habe das Netzwerk im falschen Rechenzentrum

2021
01:43:13,940 --> 01:43:15,940
angelegt bei denen. Kann das sein?

2022
01:43:15,940 --> 01:43:17,940
Network ist angelegt

2023
01:43:17,940 --> 01:43:21,580
in...

2024
01:43:21,580 --> 01:43:23,580
Keine Zone?

2025
01:43:23,580 --> 01:43:25,580
Ich glaube, das ist broken.

2026
01:43:25,580 --> 01:43:30,870
Ich glaube, das ist kaputt.

2027
01:43:30,870 --> 01:43:32,870
Ich glaube, das ist kaputt.

2028
01:43:32,870 --> 01:43:34,870
Okay.

2029
01:43:34,870 --> 01:43:36,870
Ah, hier.

2030
01:43:36,870 --> 01:43:38,870
Destroy. Destroy.

2031
01:43:38,870 --> 01:43:40,870
Bam.

2032
01:43:40,870 --> 01:43:44,950
Siehst du, alles wieder weg.

2033
01:43:44,950 --> 01:43:46,950
Alles wieder entfernt.

2034
01:43:46,950 --> 01:43:48,950
Nicht klicken.

2035
01:43:48,950 --> 01:43:50,950
Braucht man ein Subnet?

2036
01:43:50,950 --> 01:43:52,950
Ich glaube eher, dass ich vergessen habe,

2037
01:43:52,950 --> 01:43:54,950
bei dem Netzwerk zu sagen,

2038
01:43:54,950 --> 01:43:59,100
Location oder sowas.

2039
01:43:59,100 --> 01:44:01,100
Ne.

2040
01:44:01,100 --> 01:44:05,300
Wo weiter?

2041
01:44:05,300 --> 01:44:07,300
Hm.

2042
01:44:07,300 --> 01:44:09,300
Vielleicht muss ich ein Subnet anlegen?

2043
01:44:09,300 --> 01:44:11,300
Kann das sein?

2044
01:44:11,300 --> 01:44:30,100
Ich kann gar keine Location

2045
01:44:30,100 --> 01:44:33,990
anlegen.

2046
01:44:33,990 --> 01:44:35,990
Ah, aber hier kann ich Locations anlegen.

2047
01:44:35,990 --> 01:44:42,250
Was wird denn bei

2048
01:44:42,250 --> 01:44:44,250
Hetzner berechnet? Quasi nix.

2049
01:44:44,250 --> 01:44:46,250
Die Server werden stündlich

2050
01:44:46,250 --> 01:44:48,250
oder so abgerechnet.

2051
01:44:48,250 --> 01:44:50,250
Also,

2052
01:44:50,250 --> 01:44:52,250
unterm Strich wahrscheinlich

2053
01:44:52,250 --> 01:44:54,250
ein paar Cent

2054
01:44:54,250 --> 01:45:00,440
oder so. Könnte sogar

2055
01:45:00,440 --> 01:45:02,440
sekündlich sein. Also, das kostet

2056
01:45:02,440 --> 01:45:04,440
nix im Endeffekt.

2057
01:45:04,440 --> 01:45:06,440
So gut wie nix.

2058
01:45:06,440 --> 01:45:08,440
Okay, das ist falsch.

2059
01:45:08,440 --> 01:45:19,110
Wie hab ich das gemacht? Typ?

2060
01:45:19,110 --> 01:45:23,770
Woher weiß ich denn

2061
01:45:23,770 --> 01:45:25,770
was es für Netzwerkzonen

2062
01:45:25,770 --> 01:45:27,770
gibt? Was ist denn, wenn ich das

2063
01:45:27,770 --> 01:45:29,770
im Webinterface anklicke?

2064
01:45:29,770 --> 01:45:31,770
Hier, EU Central, US East.

2065
01:45:31,770 --> 01:45:39,560
Ach, guckt mal,

2066
01:45:39,560 --> 01:45:41,560
hier legt er auch das Subnet standardmäßig an.

2067
01:45:41,560 --> 01:45:43,560
Okay.

2068
01:45:43,560 --> 01:45:45,560
Das heißt, ich muss auf jeden Fall ein Subnet

2069
01:45:45,560 --> 01:45:47,560
anlegen. Sonst wird das nicht

2070
01:45:47,560 --> 01:45:50,940
funktionieren. Äh, anders ausgedrückt,

2071
01:45:50,940 --> 01:45:52,940
wenn man die 24-7 im Monat durchlaufen

2072
01:45:52,940 --> 01:45:54,940
würde, was das kosten würde. Ah, 3 Euro

2073
01:45:54,940 --> 01:45:56,940
oder so, die kleinste Kiste.

2074
01:45:56,940 --> 01:45:58,940
Ohne IP.

2075
01:45:58,940 --> 01:46:00,940
So, guckt mal.

2076
01:46:00,940 --> 01:46:04,500
Ähm. Du willst

2077
01:46:04,500 --> 01:46:06,500
Private Networks haben, du willst keine

2078
01:46:06,500 --> 01:46:08,500
Public IPs haben. Wait a minute,

2079
01:46:08,500 --> 01:46:10,500
ist das teurer?

2080
01:46:10,500 --> 01:46:12,500
Hä?

2081
01:46:12,500 --> 01:46:15,820
Äh.

2082
01:46:15,820 --> 01:46:17,820
Ach nee, so rum. Äh,

2083
01:46:17,820 --> 01:46:19,820
3,56 Euro im Monat.

2084
01:46:19,820 --> 01:46:21,820
Die kleinste Kiste. Ich mein, mit der kleinsten

2085
01:46:21,820 --> 01:46:23,820
Kiste kannst du jetzt keine Bäume ausreißen,

2086
01:46:23,820 --> 01:46:25,820
aber, äh, wenn du, je nachdem was du

2087
01:46:25,820 --> 01:46:27,820
machen willst, reichen dir auch eine CPU und

2088
01:46:27,820 --> 01:46:29,820
2 GB RAM.

2089
01:46:29,820 --> 01:46:31,820
Also ich persönlich finde ja preis-leistungsmäßig

2090
01:46:31,820 --> 01:46:33,820
am besten die 3-Core-Kiste.

2091
01:46:33,820 --> 01:46:35,820
Drei Kerne? Also ich persönlich

2092
01:46:35,820 --> 01:46:37,820
brauch eher drei Kerne und vier RAM als

2093
01:46:37,820 --> 01:46:39,820
zwei und acht RAM, aber, also generell

2094
01:46:39,820 --> 01:46:41,820
kann man eigentlich sagen,

2095
01:46:41,820 --> 01:46:43,820
die hier und die hier, aber ich persönlich,

2096
01:46:43,820 --> 01:46:47,380
ich persönlich die hier. Also

2097
01:46:47,380 --> 01:46:49,380
das ist, das ist ehrlich gesagt meine Lieblingskiste.

2098
01:46:49,380 --> 01:46:51,380
Beispielsweise,

2099
01:46:51,380 --> 01:46:53,380
die sind 24-7 verfügbar,

2100
01:46:53,380 --> 01:46:57,140
ja. Du kommst,

2101
01:46:57,140 --> 01:46:59,140
du bekommst da auch einen Mail-Server

2102
01:46:59,140 --> 01:47:01,140
günstig drauf.

2103
01:47:01,140 --> 01:47:03,140
Also,

2104
01:47:03,140 --> 01:47:05,140
du kannst

2105
01:47:05,140 --> 01:47:07,140
das prinzipiell bei jedem

2106
01:47:07,140 --> 01:47:09,140
XP, ich werde ja noch nicht gesponsert von Headstart,

2107
01:47:09,140 --> 01:47:11,140
du kannst das, aktuell

2108
01:47:11,140 --> 01:47:13,140
nicht, du kannst das bei jedem

2109
01:47:13,140 --> 01:47:17,740
x-beliebigen Cloud-Anbieter machen.

2110
01:47:17,740 --> 01:47:19,740
Die Frage ist halt eher, ob man sich einen privaten

2111
01:47:19,740 --> 01:47:21,740
Mail-Server wirklich geben möchte.

2112
01:47:21,740 --> 01:47:35,480
Ne, das ist nicht außen

2113
01:47:35,480 --> 01:47:37,480
aufrufbar, das ist ein privates Netzwerk

2114
01:47:37,480 --> 01:47:39,480
für, zwischen deinen Servern.

2115
01:47:39,480 --> 01:47:41,480
Du kannst dann beispielsweise von Server A

2116
01:47:41,480 --> 01:47:43,480
nach Server B was kopieren

2117
01:47:43,480 --> 01:47:45,480
über ein privates Netzwerk, ohne dass du es über das Internet

2118
01:47:45,480 --> 01:47:47,480
kopieren musst.

2119
01:47:47,480 --> 01:47:49,480
Wobei, die würden es wahrscheinlich eh nicht rausrouten,

2120
01:47:49,480 --> 01:47:51,480
aber, ja. Und, du kannst

2121
01:47:51,480 --> 01:47:53,480
dementsprechend Server anlegen, die gar keine

2122
01:47:53,480 --> 01:48:00,500
Public-IP haben.

2123
01:48:00,500 --> 01:48:02,500
Meinst du Home Assistant, oder was?

2124
01:48:02,500 --> 01:48:12,920
Die würde ich aber nicht in die Cloud packen.

2125
01:48:12,920 --> 01:48:14,920
Also, ich weiß nicht,

2126
01:48:14,920 --> 01:48:16,920
E-Mail-Server selber hosten, ne.

2127
01:48:16,920 --> 01:48:24,390
Würde ich auch nicht machen.

2128
01:48:24,390 --> 01:48:26,390
Du musst es in die Cloud legen, da du keine

2129
01:48:26,390 --> 01:48:28,390
Alexa-Integration

2130
01:48:28,390 --> 01:48:30,390
Ne, du musst es doch nicht in die Cloud

2131
01:48:30,390 --> 01:48:32,390
legen, oder? Du musst, glaube

2132
01:48:32,390 --> 01:48:34,390
ich, dafür sorgen, dass Google von außen

2133
01:48:34,390 --> 01:48:36,390
auf einem speziellen Port drauf hinkommt,

2134
01:48:36,390 --> 01:48:38,390
aber dazu musst du es doch nicht in die Cloud legen.

2135
01:48:40,390 --> 01:48:42,390
Also, da würde ich mir was anderes überlegen,

2136
01:48:42,390 --> 01:48:44,390
als meinen kompletten Home Assistant in die Cloud

2137
01:48:44,390 --> 01:48:46,390
zu stellen, weil, dein Home Assistant muss an interne

2138
01:48:46,390 --> 01:48:48,390
muss doch an interne Systeme drankommen,

2139
01:48:48,390 --> 01:48:50,390
von da kommst du doch gar nicht hin. Und du willst

2140
01:48:50,390 --> 01:48:52,390
bestimmt kein Reverse VPN

2141
01:48:52,390 --> 01:48:56,790
machen.

2142
01:48:56,790 --> 01:48:58,790
Ja gut, du musst wissen, was du da machst.

2143
01:48:58,790 --> 01:49:02,300
So.

2144
01:49:02,300 --> 01:49:04,300
Also, wo sind wir jetzt stehen?

2145
01:49:04,300 --> 01:49:06,300
Private Network. Wir brauchen

2146
01:49:06,300 --> 01:49:08,300
ein Subnet, habe ich gelesen.

2147
01:49:08,300 --> 01:49:10,300
Sonst funktioniert es anscheinend nicht.

2148
01:49:10,300 --> 01:49:12,300
Also, das ist die komplette IP-Range.

2149
01:49:12,300 --> 01:49:14,300
Dann gibt es jetzt

2150
01:49:14,300 --> 01:49:16,300
H-Cloud Network Subnet.

2151
01:49:16,300 --> 01:49:20,630
Das ist dann

2152
01:49:20,630 --> 01:49:22,630
0

2153
01:49:22,630 --> 01:49:24,630
slash

2154
01:49:24,630 --> 01:49:26,630
ja, meinetwegen slash 24

2155
01:49:26,630 --> 01:49:28,630
oder so. Ja, machen lassen

2156
01:49:28,630 --> 01:49:30,630
wir es so. Type, was?

2157
01:49:30,630 --> 01:49:32,630
Type Cloud? Moment, da gibt es verschiedene Types.

2158
01:49:32,630 --> 01:49:34,630
Server, Cloud, V-Switch.

2159
01:49:34,630 --> 01:49:36,630
What the fuck?

2160
01:49:36,630 --> 01:49:43,140
Äh.

2161
01:49:43,140 --> 01:49:45,140
Was ist denn da der Unterschied?

2162
01:49:45,140 --> 01:49:59,780
V-Switch?

2163
01:49:59,780 --> 01:50:11,740
Weil hier kann ich den Type ja auch nicht

2164
01:50:11,740 --> 01:50:15,880
auswählen. Hm.

2165
01:50:15,880 --> 01:50:24,120
Gucken wir mal, was da der Unterschied ist.

2166
01:50:24,120 --> 01:50:28,840
Ach, das ist für irgendwelche

2167
01:50:28,840 --> 01:50:30,840
Hardwares, Root-Server-Kisten.

2168
01:50:30,840 --> 01:50:32,840
Ok, nee.

2169
01:50:32,840 --> 01:50:34,840
Das brauchen wir nicht. Ok, EU-Central.

2170
01:50:34,840 --> 01:50:36,840
Neues Netz. Soll mir

2171
01:50:36,840 --> 01:50:38,840
alles recht sein.

2172
01:50:38,840 --> 01:50:44,260
Ja, das ist

2173
01:50:44,260 --> 01:50:49,050
Qt Chat

2174
01:50:49,050 --> 01:50:51,050
Net. So.

2175
01:50:51,050 --> 01:50:55,830
ID.

2176
01:50:55,830 --> 01:50:57,830
Und jetzt muss ich da wahrscheinlich sowas

2177
01:50:57,830 --> 01:51:01,210
hier angeben. Ok, schauen

2178
01:51:01,210 --> 01:51:03,210
wir mal, ob es jetzt funktioniert. Apply.

2179
01:51:03,210 --> 01:51:05,210
Bam.

2180
01:51:05,210 --> 01:51:19,850
Okay,

2181
01:51:19,850 --> 01:51:21,850
jetzt habe ich keine Ahnung mehr, wie das funktioniert.

2182
01:51:23,850 --> 01:51:25,850
Jetzt weiß ich nicht, was ich

2183
01:51:25,850 --> 01:51:45,350
verkehrt gemacht habe.

2184
01:51:45,350 --> 01:51:47,350
Also das mit dem Subnet anlegen war alles

2185
01:51:47,350 --> 01:51:50,790
korrekt. Das hat er

2186
01:51:50,790 --> 01:52:00,820
richtig gemacht. Ah,

2187
01:52:00,820 --> 01:52:05,030
ich glaube, ich weiß was falsch. Nee.

2188
01:52:05,030 --> 01:52:07,030
Network. Da müssen wir noch mal Server-Config

2189
01:52:07,030 --> 01:52:09,030
kurz gucken. Server.

2190
01:52:09,030 --> 01:52:17,240
Server Network.

2191
01:52:17,240 --> 01:52:22,220
Hä? Network?

2192
01:52:22,220 --> 01:52:28,890
Subnet? Ja.

2193
01:52:28,890 --> 01:52:30,890
Ach so.

2194
01:52:30,890 --> 01:52:32,890
Man gibt nicht die Subnet-ID an.

2195
01:52:32,890 --> 01:52:37,350
Man gibt

2196
01:52:37,350 --> 01:52:39,350
die normale Network-ID

2197
01:52:39,350 --> 01:52:43,940
an. Aber woher weiß

2198
01:52:43,940 --> 01:52:45,940
er dann, in welches Subnet er soll?

2199
01:52:45,940 --> 01:53:12,230
Ja, ich will ja, dass er

2200
01:53:12,230 --> 01:53:14,230
automatisch was zugeordnet bekommt.

2201
01:53:14,230 --> 01:53:23,110
Ja gut, ich habe ja nur, ich habe

2202
01:53:23,110 --> 01:53:25,110
ja in dem Fall jetzt nur ein Subnet.

2203
01:53:25,110 --> 01:53:27,110
Ok, wir gucken einfach mal, was passiert.

2204
01:53:27,110 --> 01:53:29,110
Was?

2205
01:53:29,110 --> 01:53:31,110
Reference

2206
01:53:31,110 --> 01:53:33,110
to undeclared resource.

2207
01:53:33,110 --> 01:53:46,890
Ach so.

2208
01:53:46,890 --> 01:53:48,890
Ja gut, aber wenn es optional ist.

2209
01:53:48,890 --> 01:53:50,890
Ich muss eben noch auswählen, in welche

2210
01:53:50,890 --> 01:53:52,890
Subnets ich will, ohne eine IP

2211
01:53:52,890 --> 01:53:54,890
eingeben zu müssen. So, schauen wir mal,

2212
01:53:54,890 --> 01:53:56,890
ob das jetzt funktioniert hat. Source-Server ist da.

2213
01:53:56,890 --> 01:53:58,890
Networking.

2214
01:53:58,890 --> 01:54:00,890
Ok, hat funktioniert.

2215
01:54:00,890 --> 01:54:02,890
Alles klar.

2216
01:54:02,890 --> 01:54:04,890
Network private.

2217
01:54:04,890 --> 01:54:06,890
Da sieht man auch, da sieht man auch die Ressourcen, die zugeordnet

2218
01:54:06,890 --> 01:54:08,890
sind. Subnets und was

2219
01:54:08,890 --> 01:54:33,130
da drin ist. Nee, also es

2220
01:54:33,130 --> 01:54:35,130
funktioniert ja anscheinend jetzt. Ist ja alles in Ordnung.

2221
01:54:35,130 --> 01:54:37,130
Wobei, Monsieur, kann ich

2222
01:54:37,130 --> 01:54:39,130
nicht einfach sagen, ich mache ein Subnet,

2223
01:54:39,130 --> 01:54:41,130
was komplett

2224
01:54:41,130 --> 01:54:43,130
komplette IP-Range ist

2225
01:54:43,130 --> 01:54:47,140
und gut ist?

2226
01:54:47,140 --> 01:54:49,140
Jaja, dass der die IP-Adressen random

2227
01:54:49,140 --> 01:54:51,140
DHCP-Technik oder so vergibt,

2228
01:54:51,140 --> 01:54:53,140
ist schon klar. Die Sache ist nur die,

2229
01:54:53,140 --> 01:54:55,140
mal angenommen, ich hätte jetzt hier zwei.

2230
01:54:55,140 --> 01:54:57,140
So. Mal angenommen, ich hätte

2231
01:54:57,140 --> 01:54:59,140
hier zwei.

2232
01:54:59,140 --> 01:55:01,140
Und ich möchte jetzt, dass mein Server

2233
01:55:01,140 --> 01:55:03,140
hier raus was bekommt und nicht

2234
01:55:03,140 --> 01:55:05,140
da raus. Wie würde

2235
01:55:05,140 --> 01:55:07,140
ich ihm das denn jetzt sagen? Weil so sage ich ihm ja

2236
01:55:07,140 --> 01:55:09,140
nur, joine da rein.

2237
01:55:09,140 --> 01:55:11,140
Was jetzt gar nicht der Fall ist.

2238
01:55:11,140 --> 01:55:13,140
Das,

2239
01:55:13,140 --> 01:55:16,520
das können wir jetzt mal ausprobieren.

2240
01:55:16,520 --> 01:55:18,520
Es gibt Hetzner-Codes, ja, aber die sind abgelaufen.

2241
01:55:18,520 --> 01:55:22,980
Meinst du, er kriegt dann zwei?

2242
01:55:22,980 --> 01:55:27,190
Das kann man hier noch angeben.

2243
01:55:27,190 --> 01:55:33,930
Nicht, was?

2244
01:55:33,930 --> 01:55:35,930
Äh, achso, Moment. QChat-Netz

2245
01:55:35,930 --> 01:55:41,740
eins und zwei.

2246
01:55:41,740 --> 01:55:48,950
Gucken wir mal, was er macht.

2247
01:55:48,950 --> 01:55:50,950
Ich meine, guck mal, wie schnell das jetzt geht. Ach, fuck.

2248
01:55:50,950 --> 01:55:52,950
IP-Ranges

2249
01:55:52,950 --> 01:55:58,820
overlap. Äh.

2250
01:55:58,820 --> 01:56:14,330
Nee.

2251
01:56:14,330 --> 01:56:19,430
Bin ich jetzt blöd?

2252
01:56:19,430 --> 01:56:30,300
Da überlappt doch nix.

2253
01:56:30,300 --> 01:56:32,300
Da war noch ein Server-Network. Ja, das stimmt.

2254
01:56:32,300 --> 01:56:51,160
Nee, ich leg zwei

2255
01:56:51,160 --> 01:56:53,160
Subnetze an da drin.

2256
01:56:53,160 --> 01:56:55,160
Das muss doch eigentlich funktionieren.

2257
01:56:55,160 --> 01:56:57,160
Da, da überlappt doch

2258
01:56:57,160 --> 01:56:59,160
nix.

2259
01:56:59,160 --> 01:57:01,160
Das ist von zwei,

2260
01:57:01,160 --> 01:57:03,160
äh, von null bis 250.

2261
01:57:03,160 --> 01:57:05,160
Das ist von eins, null 250.

2262
01:57:05,160 --> 01:57:07,160
Das eine Subnet gab's

2263
01:57:07,160 --> 01:57:09,160
aber doch schon hier. Das sollte der aber eigentlich,

2264
01:57:09,160 --> 01:57:11,160
äh, das sollte der eigentlich

2265
01:57:11,160 --> 01:57:19,080
checken. Das sollte der

2266
01:57:19,080 --> 01:57:21,080
eigentlich kapieren. Du musst das nicht

2267
01:57:21,080 --> 01:57:25,480
vorher löschen. Destroy.

2268
01:57:25,480 --> 01:57:27,480
Bam.

2269
01:57:27,480 --> 01:57:31,750
Alles weg. Was ist das hier?

2270
01:57:31,750 --> 01:57:33,750
Es gibt noch Server-Network.

2271
01:57:33,750 --> 01:57:35,750
So, subnet.

2272
01:57:35,750 --> 01:57:40,280
Hä? Also das...

2273
01:57:40,280 --> 01:57:42,280
Also die...

2274
01:57:42,280 --> 01:57:47,380
Meinst du, der kann das nicht umbenennen?

2275
01:57:47,380 --> 01:57:49,380
Äh, ich denke, das

2276
01:57:49,380 --> 01:57:56,280
passiert jetzt wieder das gleiche.

2277
01:57:56,280 --> 01:57:58,280
Ja, ist wirklich alles weg.

2278
01:57:58,280 --> 01:58:00,280
Schauen wir mal.

2279
01:58:00,280 --> 01:58:02,280
Ja, weil, guck mal.

2280
01:58:02,280 --> 01:58:04,280
Das Netzwerk anlegen mit den zwei

2281
01:58:04,280 --> 01:58:06,280
Subnets, das funktioniert. Kein Problem.

2282
01:58:06,280 --> 01:58:08,280
So, und jetzt bin ich halt mal

2283
01:58:08,280 --> 01:58:10,280
gespannt, in welchem Netz die Server drinstehen.

2284
01:58:10,280 --> 01:58:12,280
Ja, okay, das mit dem Umbenennen scheint nicht

2285
01:58:12,280 --> 01:58:14,280
funktioniert zu haben. Ja, wahrscheinlich. Wahrscheinlich

2286
01:58:14,280 --> 01:58:17,910
war's das. So.

2287
01:58:17,910 --> 01:58:19,910
Guck! Die sind jetzt

2288
01:58:19,910 --> 01:58:21,910
random! Mal in eins, mal in

2289
01:58:21,910 --> 01:58:23,910
zwei!

2290
01:58:23,910 --> 01:58:25,910
Ich muss doch irgendwie an... Ich muss doch irgendwie

2291
01:58:25,910 --> 01:58:27,910
angeben können,

2292
01:58:27,910 --> 01:58:29,910
in welches Subnet mein

2293
01:58:29,910 --> 01:58:31,910
Server joinen soll. So passt

2294
01:58:31,910 --> 01:58:33,910
es, so passt es aber nicht wirklich, oder?

2295
01:58:33,910 --> 01:58:35,910
Null.

2296
01:58:35,910 --> 01:58:39,740
Ne, das ist,

2297
01:58:39,740 --> 01:58:41,740
das ist nicht so sehr der Zweck der Sache.

2298
01:58:41,740 --> 01:58:45,620
Ne, hab ich doch!

2299
01:58:45,620 --> 01:58:47,620
Passt nicht. Ist verkehrt.

2300
01:58:47,620 --> 01:58:53,240
Ach so, meinst du, nur eins von...

2301
01:58:53,240 --> 01:58:55,240
Ich will ja nicht zwei Adressen. Ich will alle im gleichen

2302
01:58:55,240 --> 01:58:57,240
haben. Will nicht zwei Adressen

2303
01:58:57,240 --> 01:58:59,240
haben. Das ist doch unsinnig. Das muss doch

2304
01:58:59,240 --> 01:59:01,240
anders funktionieren.

2305
01:59:01,240 --> 01:59:03,240
Also, hier legt er was an. Hier legt er einen Server

2306
01:59:03,240 --> 01:59:05,240
an. So, und hier macht er

2307
01:59:05,240 --> 01:59:07,240
was? Server-ID des

2308
01:59:07,240 --> 01:59:09,240
IP... Aber das konnte man doch direkt

2309
01:59:09,240 --> 01:59:11,240
auch bei dem Server auch vergeben.

2310
01:59:11,240 --> 01:59:13,240
Okay, das ist ne Sache, die check ich nicht.

2311
01:59:13,240 --> 01:59:15,240
...

2312
01:59:15,240 --> 01:59:18,810
Ähm, nicht zwangsläufig.

2313
01:59:18,810 --> 01:59:20,810
Nicht zwangsläufig.

2314
01:59:20,810 --> 01:59:22,810
Es könnte doch sein, dass ich zwei

2315
01:59:22,810 --> 01:59:24,810
verschiedene Clustergruppen anlegen will.

2316
01:59:24,810 --> 01:59:26,810
Ja, ich... Die

2317
01:59:26,810 --> 01:59:28,810
QChat-Nodes und die Ayaya-Nodes. Und

2318
01:59:28,810 --> 01:59:30,810
beide sollen unterschiedliche Subnetzes rein.

2319
01:59:30,810 --> 01:59:34,440
Aber beide haben das gleiche übergeordnete

2320
01:59:34,440 --> 01:59:36,440
Netz.

2321
01:59:36,440 --> 01:59:38,440
Kann schon sein. Aber letztendlich ist es wurscht,

2322
01:59:38,440 --> 01:59:40,440
weil...

2323
01:59:40,440 --> 01:59:42,440
Ich mach das einfach weg.

2324
01:59:42,440 --> 01:59:44,440
Und sag, der soll das komplette

2325
01:59:44,440 --> 01:59:46,440
Slash8 verwenden und who cares.

2326
01:59:46,440 --> 01:59:48,440
...

2327
01:59:48,440 --> 01:59:50,440
0 Slash8. Gut ist. Fertig.

2328
01:59:50,440 --> 01:59:52,440
Zack.

2329
01:59:52,440 --> 01:59:54,440
Gut. Also, das würde ich

2330
01:59:54,440 --> 01:59:56,440
sagen, das funktioniert.

2331
01:59:56,440 --> 01:59:58,440
Du musst noch an das

2332
01:59:58,440 --> 02:00:00,440
depends-on-hcloud-network-subnet

2333
02:00:00,440 --> 02:00:02,440
denken. Das...

2334
02:00:02,440 --> 02:00:04,440
Sonst versucht er die Server

2335
02:00:04,440 --> 02:00:06,440
gleichzeitig mit den... Sonst versucht er

2336
02:00:06,440 --> 02:00:08,440
das Netzwerk mit dem...

2337
02:00:08,440 --> 02:00:10,440
Gleichzeitig... Also, du meinst, ich muss

2338
02:00:10,440 --> 02:00:12,440
da reinschreiben hier noch...

2339
02:00:12,440 --> 02:00:14,440
depends... Ne, wo steht

2340
02:00:14,440 --> 02:00:16,440
das? Server...

2341
02:00:16,440 --> 02:00:20,390
depends-on...

2342
02:00:20,390 --> 02:00:26,260
Aha!

2343
02:00:26,260 --> 02:00:28,260
Ah! Verstehe.

2344
02:00:28,260 --> 02:00:33,110
Okay, das ist natürlich...

2345
02:00:33,110 --> 02:00:35,110
Das ist natürlich sinnvoll,

2346
02:00:35,110 --> 02:00:37,110
dass ihr die Server

2347
02:00:37,110 --> 02:00:39,110
auf jeden Fall erst anlegt nach

2348
02:00:39,110 --> 02:00:59,450
dem. Ja, okay.

2349
02:00:59,450 --> 02:01:01,450
Das leuchtet ein. Das...

2350
02:01:01,450 --> 02:01:03,450
Das lass ich mir gefallen. Also, wenn man hier... Also, sprich,

2351
02:01:03,450 --> 02:01:05,450
sag ich dem da jetzt... äh...

2352
02:01:05,450 --> 02:01:07,450
depends-on...

2353
02:01:07,450 --> 02:01:09,450
Warum hab ich das eigentlich nicht hier zu...

2354
02:01:09,450 --> 02:01:11,450
Depends hab ich hier nicht auf...

2355
02:01:11,450 --> 02:01:13,450
depends-on-hcloud-network-subnet

2356
02:01:13,450 --> 02:01:19,640
depends-on-hcloud-network-subnet

2357
02:01:19,640 --> 02:01:21,640
und dann das da?

2358
02:01:21,640 --> 02:01:23,640
Okay.

2359
02:01:23,640 --> 02:01:29,060
Das ist ne gute Idee.

2360
02:01:29,060 --> 02:01:31,060
Naja, die...

2361
02:01:31,060 --> 02:01:33,060
Die Sachen in Terraform sind relativ einheitlich.

2362
02:01:33,060 --> 02:01:35,060
Relativ. Manche Sachen sind halt

2363
02:01:35,060 --> 02:01:37,060
cloud-spezif... provider-spezifisch.

2364
02:01:37,060 --> 02:01:39,060
Aber das

2365
02:01:39,060 --> 02:01:41,060
unten drunter, die API, ist natürlich jedes Mal anders.

2366
02:01:41,060 --> 02:01:43,060
Je nach Cloud-Anbieter. Also, es sieht

2367
02:01:43,060 --> 02:01:45,060
aber ungefähr ähnlich aus. Also, wenn du bei AWS

2368
02:01:45,060 --> 02:01:47,060
was anlegst, hast du halt AWS-spezifische

2369
02:01:47,060 --> 02:01:49,060
Sachen drin. Aber User-Data hast du beispielsweise

2370
02:01:49,060 --> 02:01:51,060
bei ganz vielen für Cloud-Init.

2371
02:01:51,060 --> 02:01:53,060
Ja.

2372
02:01:53,060 --> 02:01:55,060
Also, es ist schon server-spezifisch.

2373
02:01:55,060 --> 02:01:57,060
Äh, provider-spezifisch.

2374
02:01:57,060 --> 02:02:04,280
Okay.

2375
02:02:04,280 --> 02:02:06,280
Was auch immer. Wir applyen das jetzt

2376
02:02:06,280 --> 02:02:08,280
nochmal. Jetzt sollten wir

2377
02:02:08,280 --> 02:02:10,280
drei Server haben.

2378
02:02:10,280 --> 02:02:12,280
Ein Subnet.

2379
02:02:12,280 --> 02:02:14,280
Und alle Server sollten da

2380
02:02:14,280 --> 02:02:19,770
dranhängen. Ja.

2381
02:02:19,770 --> 02:02:21,770
Network. Subnet.

2382
02:02:21,770 --> 02:02:23,770
Aber noch hat er nicht erstellt.

2383
02:02:25,770 --> 02:02:27,770
Da sind sie.

2384
02:02:27,770 --> 02:02:29,770
Jawoll.

2385
02:02:29,770 --> 02:02:31,770
QChat-Node 012

2386
02:02:31,770 --> 02:02:33,770
ist am Start. Perfekt. Nice.

2387
02:02:33,770 --> 02:02:35,770
Okay. Also, das funktioniert schon mal.

2388
02:02:35,770 --> 02:02:37,770
Jetzt müssen wir gucken, wie wir

2389
02:02:37,770 --> 02:02:39,770
Load-Balancer anlegen.

2390
02:02:39,770 --> 02:02:41,770
Six-Set. Six-Set-Time.

2391
02:02:41,770 --> 02:02:43,770
Wie legen wir Load-Balancer

2392
02:02:43,770 --> 02:02:45,770
an über die API? Also, wir wollen

2393
02:02:45,770 --> 02:02:47,770
ja, wie gesagt, sowas hier bauen.

2394
02:02:47,770 --> 02:02:52,040
Ein Load-Balancer vorne

2395
02:02:52,040 --> 02:02:54,040
und dann hinten drauf Load-Balanzen auf die

2396
02:02:54,040 --> 02:02:56,040
internen Server.

2397
02:02:56,040 --> 02:03:00,040
So, wie legen wir einen

2398
02:03:00,040 --> 02:03:02,040
Load-Balancer an?

2399
02:03:02,040 --> 02:03:04,040
Load-Balancer-Network.

2400
02:03:04,040 --> 02:03:06,040
Provides erhänzender Cloud-Load-Balancer-Network.

2401
02:03:08,040 --> 02:03:10,040
Private-Network.

2402
02:03:10,040 --> 02:03:12,040
Okay.

2403
02:03:12,040 --> 02:03:21,300
Ne, das brauchen wir nicht.

2404
02:03:21,300 --> 02:03:23,300
Das ist für einen...

2405
02:03:23,300 --> 02:03:25,300
Ne, ne. Das kriegen wir bestimmt.

2406
02:03:25,300 --> 02:03:27,300
Load-Balancer.

2407
02:03:27,300 --> 02:03:30,680
Target.

2408
02:03:30,680 --> 02:03:32,680
Nach welchen Kriterien soll er welche Last balancen?

2409
02:03:32,680 --> 02:03:34,680
Einfach der Reihe nach.

2410
02:03:34,680 --> 02:03:36,680
Aktuell läuft auf den Servern im Backend

2411
02:03:36,680 --> 02:03:41,590
ja noch gar nix.

2412
02:03:41,590 --> 02:03:43,590
Vielleicht sollten wir auf den Servern

2413
02:03:43,590 --> 02:03:45,590
irgendein Hallo-Welt

2414
02:03:45,590 --> 02:03:47,590
oder so starten.

2415
02:03:47,590 --> 02:03:49,590
Guck mal, wir können jetzt unser

2416
02:03:49,590 --> 02:03:51,590
SSH... Achso, Moment.

2417
02:03:51,590 --> 02:03:53,590
Doch. Komm, wir können unseren SSH-Wrapper

2418
02:03:53,590 --> 02:03:55,590
verwenden und uns drauf

2419
02:03:55,590 --> 02:03:57,590
connecten und uns

2420
02:03:57,590 --> 02:03:59,590
freuen, wie gut das funktioniert.

2421
02:03:59,590 --> 02:04:01,590
Ähm, auf welcher

2422
02:04:01,590 --> 02:04:03,590
IP sind wir jetzt?

2423
02:04:03,590 --> 02:04:05,590
Hab ich gar nicht geguckt.

2424
02:04:05,590 --> 02:04:07,590
Äh.

2425
02:04:07,590 --> 02:04:09,590
Wait a minute.

2426
02:04:09,590 --> 02:04:13,290
Wo sind wir hin? Connected.

2427
02:04:13,290 --> 02:04:15,290
Da. Okay, damals.

2428
02:04:15,290 --> 02:04:17,290
Upinstall

2429
02:04:17,290 --> 02:04:19,290
Engine N... Alter.

2430
02:04:19,290 --> 02:04:23,940
Engine X.

2431
02:04:23,940 --> 02:04:25,940
Warum hat er die Pakete nicht aktualisiert?

2432
02:04:25,940 --> 02:04:29,640
Gute Frage. Hab ich das rausgeschmissen?

2433
02:04:29,640 --> 02:04:31,640
Doch, der hat die Pakete aktualisiert.

2434
02:04:31,640 --> 02:04:33,640
Der schreibt... Der schreibt

2435
02:04:33,640 --> 02:04:35,640
dummes Zeug.

2436
02:04:35,640 --> 02:04:37,640
Der schreibt Blödsinn.

2437
02:04:37,640 --> 02:04:42,620
Der schreibt

2438
02:04:42,620 --> 02:04:44,620
Mist in den Output.

2439
02:04:44,620 --> 02:04:46,620
Vielleicht hab ich mich auch schon eingeloggt noch während

2440
02:04:46,620 --> 02:04:48,620
das lief. Keine Ahnung. Aber hat

2441
02:04:48,620 --> 02:04:50,620
funktioniert.

2442
02:04:50,620 --> 02:04:52,620
So, ich installier mal kurz den Engine X.

2443
02:04:52,620 --> 02:04:54,620
Und dann gucken wir, ob

2444
02:04:54,620 --> 02:04:56,620
ich die Hallo-Welt-Seite krieg, wenn ich da drauf

2445
02:04:56,620 --> 02:05:00,950
komm. Was?

2446
02:05:00,950 --> 02:05:06,180
Jaja.

2447
02:05:06,180 --> 02:05:11,610
Was zum...

2448
02:05:11,610 --> 02:05:13,610
Welcome to Engine X!

2449
02:05:13,610 --> 02:05:15,610
Okay, da sind wir. Wunderbar.

2450
02:05:15,610 --> 02:05:24,680
So, ich mach das auch gleich

2451
02:05:24,680 --> 02:05:26,680
über mein Terraform-Skript. Ich will bloß gucken,

2452
02:05:26,680 --> 02:05:28,680
dass es automatisch

2453
02:05:28,680 --> 02:05:30,680
äh, ohne Rückfragen installiert.

2454
02:05:30,680 --> 02:05:32,680
Aber wenn ich minus Y hinmach...

2455
02:05:32,680 --> 02:05:34,680
Ja, Moment.

2456
02:05:34,680 --> 02:05:36,680
Diese Abfragen sind ja mal richtig hängengeblieben.

2457
02:05:36,680 --> 02:05:38,680
Die müssen weg. Muss ich das

2458
02:05:38,680 --> 02:05:42,700
mit apt-get machen?

2459
02:05:42,700 --> 02:05:44,700
apt-get minus Y oder so?

2460
02:05:44,700 --> 02:05:48,140
Wie krieg ich das hin, dass er keine

2461
02:05:48,140 --> 02:05:51,830
interaktiven Abfragen macht?

2462
02:05:51,830 --> 02:05:59,820
apt-get yes.

2463
02:05:59,820 --> 02:06:01,820
Also doch minus Y.

2464
02:06:03,820 --> 02:06:14,620
Der fragt nach. Was ist das?

2465
02:06:14,620 --> 02:06:16,620
Export Debian Frontend non inter...

2466
02:06:16,620 --> 02:06:18,620
Seriously?

2467
02:06:18,620 --> 02:06:22,570
Okay, das ist mir...

2468
02:06:22,570 --> 02:06:24,570
Das ist mir neu. Das wusste ich

2469
02:06:24,570 --> 02:06:28,900
noch nicht, dass man das machen muss.

2470
02:06:28,900 --> 02:06:30,900
Das kenn ich nicht.

2471
02:06:30,900 --> 02:06:32,900
Checkt der das denn, wenn ich...

2472
02:06:32,900 --> 02:06:34,900
Okay, okay. Mal was anderes.

2473
02:06:34,900 --> 02:06:36,900
Mal was anderes.

2474
02:06:36,900 --> 02:06:38,900
Wenn ich sage...

2475
02:06:38,900 --> 02:06:43,050
Und es darüber mache...

2476
02:06:43,050 --> 02:06:47,900
Dann müsste das doch eigentlich

2477
02:06:47,900 --> 02:06:49,900
checken, dass ich kein interaktives Terminal

2478
02:06:49,900 --> 02:06:57,110
hab, oder? No.

2479
02:06:57,110 --> 02:07:03,050
Ja, das checkt er.

2480
02:07:03,050 --> 02:07:05,050
Das checkt er.

2481
02:07:05,050 --> 02:07:09,960
Dann wird das wahrscheinlich in dem Cloud

2482
02:07:09,960 --> 02:07:11,960
Init auch checken, weil er kapiert, dass

2483
02:07:11,960 --> 02:07:13,960
es kein interaktives Terminal ist.

2484
02:07:13,960 --> 02:07:18,940
Das probieren wir jetzt aus.

2485
02:07:18,940 --> 02:07:20,940
Ich glaube, ich brauche gar nichts.

2486
02:07:20,940 --> 02:07:28,090
Ich glaube, ich muss gar nichts machen.

2487
02:07:28,090 --> 02:07:30,090
Er checkt das nicht. Mal gucken.

2488
02:07:30,090 --> 02:07:32,090
Mal schauen. Mal schauen, ob das

2489
02:07:32,090 --> 02:07:34,090
jetzt klappt. Also.

2490
02:07:34,090 --> 02:07:36,090
Wir machen den Krempel nochmal weg.

2491
02:07:36,090 --> 02:07:45,220
Wie ist denn das? Ist das

2492
02:07:45,220 --> 02:07:47,220
apt-get upgrade?

2493
02:07:47,220 --> 02:07:49,220
Dass das ein bisschen einheitlich ist.

2494
02:07:49,220 --> 02:07:52,600
Oder war es dist upgrade?

2495
02:07:52,600 --> 02:07:59,880
Ne, Y

2496
02:07:59,880 --> 02:08:01,880
davor.

2497
02:08:01,880 --> 02:08:03,880
Ich verwende eigentlich schon ewig

2498
02:08:03,880 --> 02:08:05,880
apt-get. Weiß ich gar nicht, ob es update und upgrade

2499
02:08:05,880 --> 02:08:07,880
gibt.

2500
02:08:07,880 --> 02:08:12,730
Pull upgrade? Es gab auch noch

2501
02:08:12,730 --> 02:08:18,730
dist upgrade.

2502
02:08:18,730 --> 02:08:26,710
Gab es auch noch.

2503
02:08:26,710 --> 02:08:28,710
Das ist obsolet. Okay.

2504
02:08:28,710 --> 02:08:30,710
Ich glaube euch das jetzt, Chat.

2505
02:08:30,710 --> 02:08:32,710
So.

2506
02:08:32,710 --> 02:08:34,710
Er hat destroyed.

2507
02:08:34,710 --> 02:08:36,710
Und jetzt wird applied.

2508
02:08:36,710 --> 02:08:38,710
Den ganzen Krempel wieder hingestellt.

2509
02:08:38,710 --> 02:08:40,710
Jetzt gucken wir mal, ob wir einen nginx gleich drauf haben.

2510
02:08:42,710 --> 02:08:44,710
Aber das ist cool zu sehen, wie schnell das geht.

2511
02:08:44,710 --> 02:08:46,710
Oder? Ich meine, guck mal.

2512
02:08:46,710 --> 02:08:48,710
Wir haben jetzt innerhalb von 20 Sekunden

2513
02:08:48,710 --> 02:08:50,710
unsere Cloud-Umgebung. Okay, Cloud-Umgebung

2514
02:08:50,710 --> 02:08:52,710
ist

2515
02:08:52,710 --> 02:08:54,710
ist vielleicht etwas

2516
02:08:54,710 --> 02:08:56,710
übertrieben

2517
02:08:56,710 --> 02:08:58,710
das jetzt zu nennen.

2518
02:08:58,710 --> 02:09:00,710
Aber ich meine immerhin, da würden wir locker

2519
02:09:00,710 --> 02:09:02,710
zwei, drei Minuten rumklicken.

2520
02:09:02,710 --> 02:09:06,980
Oh. Ja.

2521
02:09:06,980 --> 02:09:17,270
Ist gut.

2522
02:09:17,270 --> 02:09:19,270
Ja, man weiß halt nicht so genau, wann es fertig aufgebaut ist.

2523
02:09:21,270 --> 02:09:23,270
Gibt es irgendwie die Möglichkeit

2524
02:09:23,270 --> 02:09:25,270
Terraform noch so eine Art

2525
02:09:25,270 --> 02:09:27,270
Health-Check zu machen? So nach dem

2526
02:09:27,270 --> 02:09:29,270
Motto, ähm

2527
02:09:29,270 --> 02:09:31,270
dass ich dann

2528
02:09:31,270 --> 02:09:33,270
also wisst ihr, dass ich sowas hier machen kann?

2529
02:09:33,270 --> 02:09:35,270
Touch? Keine Ahnung.

2530
02:09:35,270 --> 02:09:37,270
Kackel? Irgendwie. Und dann check ich

2531
02:09:37,270 --> 02:09:39,270
ob es die Datei gibt, weil

2532
02:09:39,270 --> 02:09:41,270
sonst nimmt er ja Server ins

2533
02:09:41,270 --> 02:09:43,270
Loadbalancing theoretisch schon auf,

2534
02:09:43,270 --> 02:09:45,270
die er noch gar nicht aufnehmen sollte, weil er noch gar nicht

2535
02:09:45,270 --> 02:09:50,060
fertig ist. Ja.

2536
02:09:50,060 --> 02:09:52,060
Das machen wir jetzt aber nicht. Wir deployen uns jetzt kein

2537
02:09:52,060 --> 02:09:54,060
Kubernetes.

2538
02:09:54,060 --> 02:09:56,060
So. Login.

2539
02:09:56,060 --> 02:09:59,750
Guck mal, er hat immer noch nicht gecheckt, dass er

2540
02:09:59,750 --> 02:10:03,900
der läuft immer noch im Hintergrund

2541
02:10:03,900 --> 02:10:05,900
mit dem Update.

2542
02:10:05,900 --> 02:10:11,000
Ne, Upget Full Upgrade

2543
02:10:11,000 --> 02:10:14,380
gibt's

2544
02:10:14,380 --> 02:10:16,380
anscheinend auch.

2545
02:10:16,380 --> 02:10:18,380
Ja. Sonst würde er meckern.

2546
02:10:18,380 --> 02:10:20,380
Der macht immer, der macht grad Full Upgrade gibt's

2547
02:10:20,380 --> 02:10:22,380
für beides anscheinend. Also ich hab eh

2548
02:10:22,380 --> 02:10:24,380
keinen blassen Schimmer, warum es

2549
02:10:24,380 --> 02:10:26,380
Uptitude und Upget gibt.

2550
02:10:26,380 --> 02:10:28,380
Debian Leute sind einfach zu

2551
02:10:28,380 --> 02:10:33,990
High IQ dafür.

2552
02:10:33,990 --> 02:10:35,990
Ja, du kannst beim Loadbalancing Health-Check

2553
02:10:35,990 --> 02:10:37,990
ähm definieren,

2554
02:10:37,990 --> 02:10:39,990
aber

2555
02:10:39,990 --> 02:10:41,990
ich müsste irgendwie,

2556
02:10:41,990 --> 02:10:43,990
dass Terraform das checkt.

2557
02:10:43,990 --> 02:10:45,990
Wobei, müsste ich

2558
02:10:45,990 --> 02:10:47,990
das? Ne, ich würde einfach die Anwendung als letztes

2559
02:10:47,990 --> 02:10:49,990
starten und gut ist.

2560
02:10:49,990 --> 02:10:51,990
Na, der RPM ist ja

2561
02:10:51,990 --> 02:10:53,990
noch abartiger. Also

2562
02:10:53,990 --> 02:10:55,990
RPM kannst du mich echt jagen mit.

2563
02:10:55,990 --> 02:10:59,620
So. Jetzt ist er fertig.

2564
02:11:01,620 --> 02:11:03,620
Netstat. Ist der

2565
02:11:03,620 --> 02:11:05,620
Nginx auf?

2566
02:11:05,620 --> 02:11:07,620
Nginx ist da. Ok.

2567
02:11:07,620 --> 02:11:09,620
Zack.

2568
02:11:09,620 --> 02:11:11,620
Webserver ist am Start. Ok.

2569
02:11:11,620 --> 02:11:13,620
Das Funst, also unsere Server

2570
02:11:13,620 --> 02:11:15,620
sind da. Ja, kann ich jetzt den

2571
02:11:15,620 --> 02:11:19,000
Loadbalancer da vorhauen?

2572
02:11:19,000 --> 02:11:21,000
Ok. Loadbalancer.

2573
02:11:21,000 --> 02:11:23,000
Loadbalancer mit der Hetzner Cloud.

2574
02:11:23,000 --> 02:11:25,000
Da muss ich die Server taggen, dass das

2575
02:11:25,000 --> 02:11:27,000
funktioniert. Also.

2576
02:11:27,000 --> 02:11:29,000
Gucken wir mal. Wie macht man

2577
02:11:29,000 --> 02:11:31,000
Loadbalancer?

2578
02:11:31,000 --> 02:11:33,000
Server my Server.

2579
02:11:33,000 --> 02:11:35,000
Ja. Also.

2580
02:11:35,000 --> 02:11:37,000
Der Loadbalancer

2581
02:11:37,000 --> 02:11:39,000
sollte auf jeden Fall als erstes

2582
02:11:39,000 --> 02:11:42,440
gebaut werden.

2583
02:11:42,440 --> 02:11:44,440
Kann ich sowas sagen, wie depends

2584
02:11:44,440 --> 02:11:49,350
on

2585
02:11:49,350 --> 02:11:51,350
chat

2586
02:11:51,350 --> 02:11:53,350
lb?

2587
02:11:53,350 --> 02:11:58,580
Weil

2588
02:11:58,580 --> 02:12:00,580
es wäre sinnvoll, wenn die Server erst

2589
02:12:00,580 --> 02:12:02,580
gebaut wären, wenn der Loadbalancer da ist.

2590
02:12:02,580 --> 02:12:04,580
Auf der anderen Seite, warum?

2591
02:12:04,580 --> 02:12:06,580
Ne, das ist Schwachsinn.

2592
02:12:06,580 --> 02:12:08,580
Umgedreht. Umgedreht

2593
02:12:08,580 --> 02:12:12,540
muss das sein.

2594
02:12:12,540 --> 02:12:14,540
Ne, ne, Server. Ne, ne, ne. Server-ID will ich nicht.

2595
02:12:14,540 --> 02:12:16,540
Server-ID brauche ich nicht. Ne, das kann man schon

2596
02:12:16,540 --> 02:12:18,540
parallel machen, weil wir haben ja Health-Checks.

2597
02:12:18,540 --> 02:12:20,540
Das ist egal. Das passt schon. Muss ich nicht.

2598
02:12:20,540 --> 02:12:22,540
Muss ich nicht machen.

2599
02:12:22,540 --> 02:12:24,540
Ne, Server-IDs will ich nicht. Ich will das über Tags machen.

2600
02:12:24,540 --> 02:12:26,540
Weil Server-IPs und Server-IDs

2601
02:12:26,540 --> 02:12:28,540
sind bescheuert.

2602
02:12:28,540 --> 02:12:30,540
Also. Bei Hetzner

2603
02:12:30,540 --> 02:12:32,540
Loadbalancer mache ich das so. Man kann

2604
02:12:32,540 --> 02:12:34,540
Ich zeige euch das mal, wenn man Loadbalancer

2605
02:12:34,540 --> 02:12:36,540
anlegt. Also das ist so das, was ich

2606
02:12:36,540 --> 02:12:38,540
am praktischsten finde. Wenn du Loadbalancer

2607
02:12:38,540 --> 02:12:40,540
anlegst. Ja. Netzwerk auswählen. Targets.

2608
02:12:40,540 --> 02:12:42,540
So. Und da kann man Label auswählen.

2609
02:12:42,540 --> 02:12:44,540
Und bei

2610
02:12:44,540 --> 02:12:46,540
dem Label kann man, man kann jedem

2611
02:12:46,540 --> 02:12:48,540
Server einen Tag verpassen.

2612
02:12:48,540 --> 02:12:50,540
Und dementsprechend muss ich nicht

2613
02:12:50,540 --> 02:12:52,540
die Loadbalancer-Config anpassen,

2614
02:12:52,540 --> 02:12:54,540
wenn ich neue Server hinzufüge. Also

2615
02:12:54,540 --> 02:12:56,540
zum Beispiel. Ich zeige euch das mal.

2616
02:12:56,540 --> 02:12:58,540
Von Hand jetzt. So. Wir geben

2617
02:12:58,540 --> 02:13:00,540
diesem Server jetzt ein Label. Wenn ich wüsste

2618
02:13:00,540 --> 02:13:02,540
wo man das hier jetzt macht.

2619
02:13:02,540 --> 02:13:04,540
Irgendwie hier oben.

2620
02:13:04,540 --> 02:13:06,540
Ach. Wo sind die? Hier. War das. Genau.

2621
02:13:06,540 --> 02:13:08,540
Label. Also ich kann jetzt zum Beispiel

2622
02:13:08,540 --> 02:13:10,540
sagen Keckel.

2623
02:13:10,540 --> 02:13:12,540
Oh. Bestes

2624
02:13:12,540 --> 02:13:14,540
Label überhaupt.

2625
02:13:14,540 --> 02:13:16,540
Und jetzt lege ich den Loadbalancer

2626
02:13:16,540 --> 02:13:21,320
an. Ich will aber kein

2627
02:13:21,320 --> 02:13:23,320
Hands-On in dem Fall. So. Jetzt lege ich

2628
02:13:23,320 --> 02:13:25,320
den Loadbalancer an. Private Network.

2629
02:13:25,320 --> 02:13:28,950
Ähm.

2630
02:13:28,950 --> 02:13:30,950
Ja. Services. Source. Destination.

2631
02:13:30,950 --> 02:13:32,950
Port 80. Round Robin. Alles ok.

2632
02:13:32,950 --> 02:13:34,950
Create.

2633
02:13:34,950 --> 02:13:36,950
So. Und jetzt

2634
02:13:36,950 --> 02:13:38,950
sage ich dem hier Services.

2635
02:13:38,950 --> 02:13:40,950
Oder ne. Targets. Label.

2636
02:13:40,950 --> 02:13:42,950
Und als Label will ich

2637
02:13:42,950 --> 02:13:50,100
äh.

2638
02:13:50,100 --> 02:13:54,180
Keckel. Äh. Warum ist

2639
02:13:54,180 --> 02:13:59,350
der down? Der sollte auf

2640
02:13:59,350 --> 02:14:01,350
Port 80 eigentlich ready sein?

2641
02:14:01,350 --> 02:14:03,350
Ist doch healthy.

2642
02:14:03,350 --> 02:14:05,350
Passt doch. So. Und ihr seht

2643
02:14:05,350 --> 02:14:07,350
jetzt ist ein Server da drinnen.

2644
02:14:07,350 --> 02:14:09,350
Und schaut mal.

2645
02:14:09,350 --> 02:14:11,350
Wenn ich jetzt. Also das

2646
02:14:11,350 --> 02:14:13,350
ist meine Loadbalancer Config.

2647
02:14:13,350 --> 02:14:15,350
Und wenn ich jetzt. Also hier.

2648
02:14:15,350 --> 02:14:17,350
Guckt. Wenn ich auf die Loadbalancer IP gehe.

2649
02:14:17,350 --> 02:14:19,350
Kriege ich Welcome to Nginx.

2650
02:14:19,350 --> 02:14:21,350
Das ist. Obwohl. Hier. Der Server hat die IP.

2651
02:14:21,350 --> 02:14:23,350
Und der Eingang. Also das hier.

2652
02:14:23,350 --> 02:14:25,350
Ist der Eingang. Und das andere ist der Server dahinter.

2653
02:14:25,350 --> 02:14:27,350
So. Und jetzt.

2654
02:14:27,350 --> 02:14:29,350
Deswegen ist das mit den Labels ganz cool.

2655
02:14:29,350 --> 02:14:31,350
Deswegen kann ich jetzt sagen. Ok.

2656
02:14:31,350 --> 02:14:33,350
Ähm.

2657
02:14:33,350 --> 02:14:35,350
Wir gehen jetzt hier in die Server Config.

2658
02:14:35,350 --> 02:14:37,350
Und ich hab jetzt einen neuen Server gebaut.

2659
02:14:37,350 --> 02:14:39,350
Und. Ich sag mal. Den da.

2660
02:14:39,350 --> 02:14:41,350
Und der kriegt auch ein Label.

2661
02:14:41,350 --> 02:14:43,350
Keckel. Bestes Label.

2662
02:14:43,350 --> 02:14:45,350
Und.

2663
02:14:45,350 --> 02:14:47,350
Jetzt. Seht ihr.

2664
02:14:47,350 --> 02:14:49,350
Die Loadbalancer Config. Hat sich.

2665
02:14:49,350 --> 02:14:51,350
Automatisch.

2666
02:14:51,350 --> 02:14:53,350
Den. Der zweite Node

2667
02:14:53,350 --> 02:14:55,350
geadded. Also sprich.

2668
02:14:55,350 --> 02:14:57,350
Ich kann Server hinzufügen. Und die kommen ins

2669
02:14:57,350 --> 02:14:59,350
Loadbalancing rein.

2670
02:14:59,350 --> 02:15:01,350
Automatisch. Ohne das ich die Loadbalancer

2671
02:15:01,350 --> 02:15:03,350
Config anpassen muss. Deswegen ist das mit

2672
02:15:03,350 --> 02:15:05,350
Labels deutlich cooler.

2673
02:15:05,350 --> 02:15:09,880
Man wird ja verrückt. Wenn

2674
02:15:09,880 --> 02:15:11,880
ihr immer das 1 zu 1 mappen musst.

2675
02:15:11,880 --> 02:15:13,880
So. Loadbalancer kommt weg.

2676
02:15:13,880 --> 02:15:15,880
So. Wir destroyen

2677
02:15:15,880 --> 02:15:17,880
das ganze nochmal.

2678
02:15:17,880 --> 02:15:19,880
Das kann man jetzt. Siehst. Jetzt kann man das

2679
02:15:19,880 --> 02:15:21,880
mega easy machen. Infrastruktur hoch

2680
02:15:21,880 --> 02:15:23,880
hochziehen und wieder löschen. Ok.

2681
02:15:23,880 --> 02:15:25,880
Also. Loadbalancer.

2682
02:15:25,880 --> 02:15:27,880
LB11. NBG1. Ist gut. LB11

2683
02:15:27,880 --> 02:15:29,880
ist der kleinste.

2684
02:15:29,880 --> 02:15:31,880
Mein Loadbalancer. Das ist der

2685
02:15:31,880 --> 02:15:33,880
QChat LB.

2686
02:15:33,880 --> 02:15:35,880
Was sonst?

2687
02:15:35,880 --> 02:15:37,880
So. Type Server.

2688
02:15:37,880 --> 02:15:39,880
Nein. Type Server ist falsch.

2689
02:15:39,880 --> 02:15:50,390
Type. Ähm.

2690
02:15:50,390 --> 02:15:59,660
Type. Wo steht es denn? Hier.

2691
02:15:59,660 --> 02:16:01,660
Ne.

2692
02:16:01,660 --> 02:16:03,660
Target.

2693
02:16:03,660 --> 02:16:09,460
Ach hier. Loadbalancer. Target.

2694
02:16:09,460 --> 02:16:13,740
Type Label

2695
02:16:13,740 --> 02:16:23,700
Selector. Ja.

2696
02:16:23,700 --> 02:16:25,700
Ok. Ok. Ok.

2697
02:16:25,700 --> 02:16:27,700
Also. Das muss ich jetzt

2698
02:16:27,700 --> 02:16:29,700
erstmal checken. Wie das gedacht

2699
02:16:29,700 --> 02:16:34,170
ist. Kann ich das Target nicht

2700
02:16:34,170 --> 02:16:36,170
hier drinne? Doch. Kann ich doch hier drinne.

2701
02:16:36,170 --> 02:16:38,170
definieren.

2702
02:16:38,170 --> 02:16:40,170
Moment.

2703
02:16:40,170 --> 02:16:42,170
Beide Leute.

2704
02:16:42,170 --> 02:16:44,170
Kann ich das Subnet auch hier drinne

2705
02:16:44,170 --> 02:16:46,170
definieren? Ne. Das geht. Das geht nicht.

2706
02:16:46,170 --> 02:16:52,740
Also. Loadbalancer.

2707
02:16:52,740 --> 02:16:54,740
Target ist äh. Type ist

2708
02:16:54,740 --> 02:16:56,740
in dem Fall

2709
02:16:56,740 --> 02:16:58,740
Label Selector.

2710
02:16:58,740 --> 02:17:00,740
Server ID gibt es

2711
02:17:00,740 --> 02:17:07,060
nicht. Aber

2712
02:17:09,060 --> 02:17:11,060
Use Private IP.

2713
02:17:11,060 --> 02:17:15,850
Ne.

2714
02:17:15,850 --> 02:17:17,850
Wollen wir eine Type?

2715
02:17:17,850 --> 02:17:19,850
Ach so.

2716
02:17:19,850 --> 02:17:21,850
Ist das. So. Ok.

2717
02:17:21,850 --> 02:17:23,850
Label. Ähm.

2718
02:17:23,850 --> 02:17:25,850
QChat

2719
02:17:25,850 --> 02:17:29,160
Note.

2720
02:17:29,160 --> 02:17:31,160
Ok. Das heißt ich muss

2721
02:17:31,160 --> 02:17:33,160
meine Server jetzt taggen.

2722
02:17:33,160 --> 02:17:37,300
Also Label. Ok.

2723
02:17:37,300 --> 02:17:39,300
Das müssen wir mal der Reihe nach probieren ob das funktioniert.

2724
02:17:39,300 --> 02:17:41,300
Also. Label Selector.

2725
02:17:41,300 --> 02:17:43,300
Also alle Server in den Loadbalancer

2726
02:17:43,300 --> 02:17:45,300
aufnehmen die das Label QChat

2727
02:17:45,300 --> 02:17:47,300
Note haben. Ähm.

2728
02:17:47,300 --> 02:17:49,300
Und Use Private IPs.

2729
02:17:49,300 --> 02:17:51,300
Ist wahrscheinlich ganz sinnvoll weil

2730
02:17:51,300 --> 02:17:53,300
meine. Uch. Das kennt er ja gar nicht.

2731
02:17:53,300 --> 02:17:55,300
Ne. Das ist im Target

2732
02:17:55,300 --> 02:17:57,300
muss das rein. Use.

2733
02:17:57,300 --> 02:17:59,300
Warum ist

2734
02:17:59,300 --> 02:18:06,580
das durchgestrichen?

2735
02:18:06,580 --> 02:18:08,580
Warum? Warum ist das

2736
02:18:08,580 --> 02:18:15,480
durchgestrichen? True.

2737
02:18:15,480 --> 02:18:19,050
Optional?

2738
02:18:19,050 --> 02:18:25,050
Ne. Das ist nicht

2739
02:18:25,050 --> 02:18:27,050
Deplicated. Wär ja auch

2740
02:18:27,050 --> 02:18:32,860
bescheuert. So. Und

2741
02:18:32,860 --> 02:18:34,860
das Netzwerk muss noch attached werden.

2742
02:18:34,860 --> 02:18:36,860
Das Netzwerk muss noch

2743
02:18:36,860 --> 02:18:38,860
attached werden.

2744
02:18:38,860 --> 02:18:40,860
Oh. Netzwerkzone.

2745
02:18:40,860 --> 02:18:42,860
Jetzt wirds. Jetzt wirds aber Advanced Network.

2746
02:18:42,860 --> 02:18:49,620
Netzwerkzone gibt's hier überhaupt

2747
02:18:49,620 --> 02:18:56,900
nicht zum auswählen.

2748
02:18:56,900 --> 02:19:00,470
Moment. Balancer.

2749
02:19:00,470 --> 02:19:02,470
Network Zone.

2750
02:19:02,470 --> 02:19:04,470
Network Zone of the required location

2751
02:19:04,470 --> 02:19:06,470
is set. Ach ne. Das ist

2752
02:19:06,470 --> 02:19:08,470
wo er sie die Public

2753
02:19:08,470 --> 02:19:10,470
IP anlegen soll. Ne. Das

2754
02:19:10,470 --> 02:19:12,470
ist was anderes.

2755
02:19:12,470 --> 02:19:14,470
Loadbalancer Network.

2756
02:19:14,470 --> 02:19:23,670
Vielleicht checkt er das

2757
02:19:23,670 --> 02:19:25,670
wenn ich. Wenn ich sage Use Private

2758
02:19:25,670 --> 02:19:29,560
IP.

2759
02:19:29,560 --> 02:19:34,860
Vielleicht checkt er das.

2760
02:19:34,860 --> 02:19:36,860
Mal gucken. Mal gucken was passiert.

2761
02:19:36,860 --> 02:19:38,860
Mal gucken was passiert. Apply.

2762
02:19:38,860 --> 02:19:40,860
Oh. Was jetzt?

2763
02:19:40,860 --> 02:19:42,860
Unsupported

2764
02:19:42,860 --> 02:19:46,940
Argument.

2765
02:19:46,940 --> 02:19:53,380
Label Selector.

2766
02:19:53,380 --> 02:19:55,380
Warum nicht? Steht doch hier

2767
02:19:55,380 --> 02:19:57,380
drinne.

2768
02:19:57,380 --> 02:19:59,380
Loadbalancer

2769
02:19:59,380 --> 02:20:03,210
Service gibt's noch?

2770
02:20:03,210 --> 02:20:05,210
Ah ja. Service brauchen wir auch noch. Wir müssen ja einstellen

2771
02:20:05,210 --> 02:20:07,210
was der Loadbalancer loadbalancen soll.

2772
02:20:07,210 --> 02:20:09,210
Ist natürlich auch noch sinnvoll.

2773
02:20:09,210 --> 02:20:16,040
Was eine Vereinswebseite an einem

2774
02:20:16,040 --> 02:20:18,040
Wochenende immer sehr viele Zugriffe. Wie könnte

2775
02:20:18,040 --> 02:20:20,040
ich mir da Performance dazu holen? Die DB und

2776
02:20:20,040 --> 02:20:22,040
Webseiten liegen zum Beispiel bei Hetzner Server XY.

2777
02:20:22,040 --> 02:20:24,040
Es ist die Frage wo

2778
02:20:24,040 --> 02:20:26,040
es Performance Probleme gibt.

2779
02:20:26,040 --> 02:20:28,040
Ist es das Netzwerk? Ist es die

2780
02:20:28,040 --> 02:20:30,040
CPU vom Server? Ist es die Datenbank?

2781
02:20:30,040 --> 02:20:32,040
Die einfachste Variante ist einfach

2782
02:20:32,040 --> 02:20:34,040
fettere Hardware.

2783
02:20:34,040 --> 02:20:36,040
Also da kannst du

2784
02:20:36,040 --> 02:20:38,040
Da kannst du nicht

2785
02:20:38,040 --> 02:20:40,040
viel schief gehen.

2786
02:20:40,040 --> 02:20:42,040
Also eine

2787
02:20:42,040 --> 02:20:44,040
Vereinswebseite kommt ihr an die Grenze.

2788
02:20:44,040 --> 02:20:46,040
Was habt ihr denn da für ein Verein?

2789
02:20:46,040 --> 02:20:48,040
Also ganz im Ernst.

2790
02:20:48,040 --> 02:20:50,040
Selbst mit dem allerkleinsten Server kannst

2791
02:20:50,040 --> 02:20:52,040
du hunderte User gleichzeitig

2792
02:20:52,040 --> 02:20:54,040
wahrscheinlich wenn es eine statische Webseite

2793
02:20:54,040 --> 02:20:56,040
ist surfen. Das juckt den überhaupt nicht.

2794
02:20:56,040 --> 02:21:01,210
Was ist das für eine krasse

2795
02:21:01,210 --> 02:21:03,210
Bestimmt

2796
02:21:03,210 --> 02:21:17,780
auf Java Basis oder so.

2797
02:21:17,780 --> 02:21:19,780
Also ich mein ja das wäre natürlich auch eine Variante.

2798
02:21:19,780 --> 02:21:21,780
Aber das ist glaube ich viel zu kompliziert

2799
02:21:21,780 --> 02:21:28,300
für sowas kleines.

2800
02:21:30,300 --> 02:21:32,300
Also das müsste. Gut.

2801
02:21:32,300 --> 02:21:34,300
Ich mein nachdem es eine Datenbank ist

2802
02:21:34,300 --> 02:21:36,300
ist halt die Frage ob es

2803
02:21:36,300 --> 02:21:38,300
vielleicht an der Datenbank liegt.

2804
02:21:38,300 --> 02:21:40,300
Weil du kannst natürlich 3 weitere

2805
02:21:40,300 --> 02:21:42,300
Applikationsserver davor packen.

2806
02:21:42,300 --> 02:21:44,300
Aber wenn es an der Datenbank liegt

2807
02:21:44,300 --> 02:21:46,300
macht es es dann nicht unbedingt besser.

2808
02:21:46,300 --> 02:21:48,300
Also du musst erstmal rauskriegen

2809
02:21:48,300 --> 02:21:50,300
woran es liegt.

2810
02:21:50,300 --> 02:21:52,300
Also wo es, warum es langsam ist.

2811
02:21:52,300 --> 02:21:54,300
Und dann kannst du dir was überlegen.

2812
02:21:56,300 --> 02:21:58,300
Wenn es nämlich an der Datenbank liegt

2813
02:21:58,300 --> 02:22:00,300
dann ist es relativ einfach.

2814
02:22:00,300 --> 02:22:02,300
Oder mehr RAM.

2815
02:22:02,300 --> 02:22:06,440
Je nachdem woran es hängt.

2816
02:22:06,440 --> 02:22:08,440
Und du kannst Server auch automatisch hoch

2817
02:22:08,440 --> 02:22:10,440
und runter skalieren mit Hetzner.

2818
02:22:10,440 --> 02:22:12,440
Aber da musst du sie für ausschalten.

2819
02:22:12,440 --> 02:22:19,850
Also du kannst

2820
02:22:19,850 --> 02:22:21,850
den Server so lassen wie er ist

2821
02:22:21,850 --> 02:22:23,850
und mehr CPU reinmachen und so das geht.

2822
02:22:23,850 --> 02:22:25,850
Aber dafür musst du ihn ausschalten.

2823
02:22:25,850 --> 02:22:27,850
Das ist dann nicht so sinnvoll an der Stelle.

2824
02:22:27,850 --> 02:22:32,950
Ansonsten müsstest du dir

2825
02:22:32,950 --> 02:22:34,950
Gedanken machen um Datenbankcluster

2826
02:22:34,950 --> 02:22:36,950
und da wird es dann wieder eklig.

2827
02:22:36,950 --> 02:22:38,950
Ich würde aber erstmal gucken

2828
02:22:38,950 --> 02:22:40,950
woran es denn liegt dass es langsam ist.

2829
02:22:40,950 --> 02:22:42,950
So.

2830
02:22:42,950 --> 02:22:44,950
Was hat er jetzt für Schmerzen?

2831
02:22:44,950 --> 02:22:46,950
Label Selector.

2832
02:22:46,950 --> 02:22:50,780
Warum ging das jetzt nicht?

2833
02:22:50,780 --> 02:22:52,780
Label Selector.

2834
02:22:52,780 --> 02:22:59,740
Loadbalancer ID. Achso.

2835
02:22:59,740 --> 02:23:01,740
Das Target habe ich doch reingeschrieben.

2836
02:23:01,740 --> 02:23:09,910
Wo ist denn das Problem?

2837
02:23:09,910 --> 02:23:11,910
Sag doch genau

2838
02:23:11,910 --> 02:23:13,910
ich darf das hier reinschreiben.

2839
02:23:13,910 --> 02:23:15,910
Loadbalancer Target.

2840
02:23:15,910 --> 02:23:17,910
Sag doch.

2841
02:23:17,910 --> 02:23:22,890
Label Selector.

2842
02:23:22,890 --> 02:23:24,890
Warum ist Label Selector hier nicht erwartet?

2843
02:23:24,890 --> 02:23:26,890
Der schlägt.

2844
02:23:26,890 --> 02:23:28,890
Der schlägt mir doch Label Selector.

2845
02:23:28,890 --> 02:23:32,580
Ne.

2846
02:23:32,580 --> 02:23:34,580
Hä?

2847
02:23:34,580 --> 02:23:36,580
Wait a minute.

2848
02:23:36,580 --> 02:23:38,580
Server ID?

2849
02:23:38,580 --> 02:23:51,560
Warte mal jetzt blicke ich nicht mehr durch.

2850
02:23:51,560 --> 02:23:58,970
Äh.

2851
02:23:58,970 --> 02:24:00,970
Ich muss eine eigene Ressource machen wahrscheinlich.

2852
02:24:00,970 --> 02:24:02,970
Ja tatsächlich.

2853
02:24:02,970 --> 02:24:04,970
Das habe ich aber noch nicht so genau gecheckt

2854
02:24:04,970 --> 02:24:06,970
wenn ich ehrlich bin.

2855
02:24:06,970 --> 02:24:08,970
Warum muss ich manchmal

2856
02:24:08,970 --> 02:24:10,970
eine eigene Ressource machen und manchmal

2857
02:24:10,970 --> 02:24:14,340
und manchmal darf ich das

2858
02:24:14,340 --> 02:24:16,340
Warum darf ich das hier inline schreiben?

2859
02:24:16,340 --> 02:24:18,340
Und manchmal nicht?

2860
02:24:18,340 --> 02:24:25,690
Und manchmal nicht?

2861
02:24:25,690 --> 02:24:27,690
Das leuchtet mir noch nicht so ganz ein.

2862
02:24:27,690 --> 02:24:29,690
Also brauche ich

2863
02:24:29,690 --> 02:24:31,690
Loadbalancer

2864
02:24:31,690 --> 02:24:33,690
Target.

2865
02:24:33,690 --> 02:24:35,690
Okay.

2866
02:24:35,690 --> 02:24:37,690
Ja das ist aber

2867
02:24:37,690 --> 02:24:39,690
eklig. Ich meine es wäre schöner wenn ich das

2868
02:24:39,690 --> 02:24:41,690
inline schreiben könnte.

2869
02:24:41,690 --> 02:24:43,690
Loadbalancer Target.

2870
02:24:43,690 --> 02:24:48,220
Cute Chat LB Target.

2871
02:24:48,220 --> 02:24:53,510
Type.

2872
02:24:53,510 --> 02:24:55,510
Label Selector.

2873
02:24:55,510 --> 02:24:57,510
Loadbalancer ID.

2874
02:24:57,510 --> 02:24:59,510
Loadbalancer ID.

2875
02:24:59,510 --> 02:25:01,510
Das da.

2876
02:25:01,510 --> 02:25:03,510
Server ID. Nope. Keine Server ID.

2877
02:25:03,510 --> 02:25:07,140
Use Private.

2878
02:25:07,140 --> 02:25:11,540
Ach hier darf ich das jetzt machen.

2879
02:25:11,540 --> 02:25:13,540
Das inline ist nur die Referenz

2880
02:25:13,540 --> 02:25:15,540
auf eine Ressource die du separat

2881
02:25:15,540 --> 02:25:20,970
erstellen musst.

2882
02:25:20,970 --> 02:25:33,370
Ach so.

2883
02:25:33,370 --> 02:25:35,370
Aber warum. Hm?

2884
02:25:35,370 --> 02:25:37,370
Aber

2885
02:25:37,370 --> 02:25:39,370
warum sollte ich das dann hier angeben

2886
02:25:39,370 --> 02:25:41,370
an der Stelle überhaupt?

2887
02:25:41,370 --> 02:25:43,370
Also das heißt das hier

2888
02:25:43,370 --> 02:25:47,260
bräuchte ich nicht.

2889
02:25:47,260 --> 02:25:49,260
Ich kann es im Prinzip so machen.

2890
02:25:49,260 --> 02:25:51,260
Ne. So.

2891
02:25:51,260 --> 02:25:56,620
So.

2892
02:25:56,620 --> 02:25:58,620
So. Und jetzt

2893
02:25:58,620 --> 02:26:00,620
kann ich das Target hier raus

2894
02:26:00,620 --> 02:26:02,620
lassen wahrscheinlich.

2895
02:26:02,620 --> 02:26:06,250
So. Und so

2896
02:26:06,250 --> 02:26:08,250
musst du. Okay. Bin ich mal gespannt

2897
02:26:08,250 --> 02:26:10,250
ob das so tut. Apply.

2898
02:26:10,250 --> 02:26:18,740
Oh. Oh.

2899
02:26:18,740 --> 02:26:20,740
Add Label Selector. Target Loadbalancer is not

2900
02:26:20,740 --> 02:26:22,740
attached to a network.

2901
02:26:22,740 --> 02:26:24,740
Oh.

2902
02:26:24,740 --> 02:26:26,740
Dann habe ich es verkackt. Okay.

2903
02:26:26,740 --> 02:26:28,740
Weiter. Dann muss

2904
02:26:28,740 --> 02:26:30,740
ich noch ein Loadbalancer Network.

2905
02:26:30,740 --> 02:26:32,740
Das ist aber schon. Also das.

2906
02:26:32,740 --> 02:26:34,740
Weiß ich. Die Syntax könnte schon

2907
02:26:34,740 --> 02:26:40,170
schöner sein. Was ist das?

2908
02:26:40,170 --> 02:26:42,170
Ich zeig es dir.

2909
02:26:42,170 --> 02:26:44,170
Ich zeig es dir gleich. Sobald es funktioniert.

2910
02:26:44,170 --> 02:26:46,170
Also ganz kurz. Du kannst mit Terraform

2911
02:26:46,170 --> 02:26:48,170
Cloud Ressourcen anlegen. Ohne das du den

2912
02:26:48,170 --> 02:26:50,170
Kram von Hand im Web Interface

2913
02:26:50,170 --> 02:26:52,170
klicken musst. Das ganze relativ schnell

2914
02:26:52,170 --> 02:26:54,170
und relativ automatisiert.

2915
02:26:54,170 --> 02:26:56,170
Aber irgendwie bin ich gerade

2916
02:26:56,170 --> 02:26:58,170
zu blöd das richtig zu machen.

2917
02:26:58,170 --> 02:27:00,170
Also was muss ich machen?

2918
02:27:00,170 --> 02:27:02,170
Cloud Balancer. Loadbalancer

2919
02:27:02,170 --> 02:27:04,170
Network.

2920
02:27:04,170 --> 02:27:06,170
Aber ich will doch gar keine IP angeben.

2921
02:27:06,170 --> 02:27:12,300
Ach ne. Network ID

2922
02:27:12,300 --> 02:27:14,300
gibt man einfach nur an.

2923
02:27:14,300 --> 02:27:16,300
Cloud und nicht Cloud

2924
02:27:16,300 --> 02:27:18,300
Ressourcen. Genau. Stimmt. Hast recht.

2925
02:27:18,300 --> 02:27:22,890
Jaja. So. Und hier muss ich jetzt auch noch

2926
02:27:22,890 --> 02:27:24,890
Moment. Moment. Hier muss ich jetzt auch noch

2927
02:27:24,890 --> 02:27:26,890
sagen. Bei dem Loadbalancer muss

2928
02:27:26,890 --> 02:27:28,890
ich auf jeden Fall sagen.

2929
02:27:28,890 --> 02:27:30,890
Depends on

2930
02:27:30,890 --> 02:27:32,890
Depends on

2931
02:27:32,890 --> 02:27:34,890
das Subnet hier.

2932
02:27:34,890 --> 02:27:36,890
Also sprich.

2933
02:27:36,890 --> 02:27:38,890
Der darf den Loadbalancer erst anlegen wenn das

2934
02:27:38,890 --> 02:27:40,890
Netzwerk für den Loadbalancer und die Server da ist.

2935
02:27:40,890 --> 02:27:42,890
Ok.

2936
02:27:42,890 --> 02:27:44,890
Hcloud Loadbalancer Target. Haben wir.

2937
02:27:44,890 --> 02:27:46,890
IP kriegt der Loadbalancer.

2938
02:27:46,890 --> 02:27:48,890
Das soll sich einer ausdenken.

2939
02:27:48,890 --> 02:27:50,890
Ist mir doch egal.

2940
02:27:50,890 --> 02:27:52,890
Network. My Network ID. So.

2941
02:27:52,890 --> 02:27:56,330
Private. Private Network

2942
02:27:56,330 --> 02:27:58,330
ist das.

2943
02:27:58,330 --> 02:28:00,330
Das ist aber schon. Also.

2944
02:28:00,330 --> 02:28:02,330
Da muss ich sagen. Das könnte

2945
02:28:02,330 --> 02:28:04,330
schon ein bisschen schöner

2946
02:28:04,330 --> 02:28:06,330
gemacht sein. Das finde ich sehr umständlich

2947
02:28:06,330 --> 02:28:10,790
gerade.

2948
02:28:10,790 --> 02:28:12,790
Also. Jetzt müsste es doch passen.

2949
02:28:12,790 --> 02:28:18,020
Der Loadbalancer hat

2950
02:28:18,020 --> 02:28:20,020
LB

2951
02:28:20,020 --> 02:28:27,050
Network.

2952
02:28:27,050 --> 02:28:29,050
Ne. Pulumi kenne ich

2953
02:28:29,050 --> 02:28:31,050
gar nicht.

2954
02:28:31,050 --> 02:28:33,050
Ist das. Ist das die.

2955
02:28:33,050 --> 02:28:35,050
Ist das

2956
02:28:35,050 --> 02:28:37,050
die. Der neueste. Der neueste

2957
02:28:37,050 --> 02:28:39,050
Shit. Pulumi vs

2958
02:28:39,050 --> 02:28:47,100
Terraform. Aber wahrscheinlich

2959
02:28:47,100 --> 02:28:49,100
hat Pulumi gar nicht die ganzen Provider

2960
02:28:49,100 --> 02:28:53,880
oder? Ach tatsächlich.

2961
02:28:53,880 --> 02:28:58,020
Ähm.

2962
02:28:58,020 --> 02:29:00,020
Ist das. Der Terraform

2963
02:29:00,020 --> 02:29:02,020
Provider. Quasi.

2964
02:29:02,020 --> 02:29:04,020
Haben die ein Modul das sie

2965
02:29:04,020 --> 02:29:06,020
Terraform Provider verwenden können?

2966
02:29:06,020 --> 02:29:10,230
Das wäre natürlich nice.

2967
02:29:10,230 --> 02:29:14,630
Was TypeScript

2968
02:29:14,630 --> 02:29:16,630
Python Ghost. Moment.

2969
02:29:16,630 --> 02:29:18,630
Man kann das in .NET programmieren?

2970
02:29:18,630 --> 02:29:20,630
Das wird mir ja gleich deutlich

2971
02:29:20,630 --> 02:29:25,860
sympathischer nochmal.

2972
02:29:25,860 --> 02:29:27,860
Ok Leute. Das probieren wir als nächstes aus.

2973
02:29:27,860 --> 02:29:29,860
Nicht heute. Aber das probieren wir.

2974
02:29:29,860 --> 02:29:31,860
Das probieren wir als nächstes aus.

2975
02:29:31,860 --> 02:29:33,860
Ich meine das ist doch cool. Wenn die Anwendungen

2976
02:29:33,860 --> 02:29:35,860
und das Zeug in der gleichen

2977
02:29:35,860 --> 02:29:39,880
Sprache programmiert ist.

2978
02:29:39,880 --> 02:29:41,880
Mal gucken ob es jetzt funktioniert meine

2979
02:29:41,880 --> 02:29:55,300
Config die ich gebaut habe.

2980
02:29:55,300 --> 02:29:57,300
Ja. Neue Streamidee.

2981
02:29:57,300 --> 02:29:59,300
Alter.

2982
02:29:59,300 --> 02:30:06,070
Loadbalancer is not attached to a

2983
02:30:06,070 --> 02:30:08,070
Network. Aber ich sage ihm doch attache

2984
02:30:08,070 --> 02:30:10,070
mal das Network.

2985
02:30:10,070 --> 02:30:12,070
Oder muss ich ihm sagen depends

2986
02:30:12,070 --> 02:30:14,070
on. Wait a minute.

2987
02:30:16,070 --> 02:30:18,070
Ok. Das ist schon echt kompliziert.

2988
02:30:18,070 --> 02:30:20,070
Also wie funktioniert

2989
02:30:20,070 --> 02:30:22,070
das jetzt. Also das Target

2990
02:30:22,070 --> 02:30:24,070
Dependet.

2991
02:30:24,070 --> 02:30:28,020
Dependet on.

2992
02:30:28,020 --> 02:30:30,020
So.

2993
02:30:30,020 --> 02:30:32,020
Weil. Das hier muss er doch

2994
02:30:32,020 --> 02:30:43,140
attachen jetzt.

2995
02:30:43,140 --> 02:30:45,140
Ich will nicht das der LB von den Servern abhängig ist.

2996
02:30:45,140 --> 02:30:47,140
Ja. Doch. Theoretisch.

2997
02:30:47,140 --> 02:30:49,140
Schon. Aber der soll

2998
02:30:49,140 --> 02:30:51,140
das ruhig parallel aufbauen dürfen.

2999
02:30:51,140 --> 02:30:54,780
Ach jetzt geht das. Oder wie?

3000
02:30:54,780 --> 02:30:58,540
Aha. Das war es. Ok.

3001
02:30:58,540 --> 02:31:00,540
Ich hätte es auch wirklich.

3002
02:31:00,540 --> 02:31:02,540
Ja. Ich könnte es wirklich nach den Servern machen.

3003
02:31:02,540 --> 02:31:04,540
Ok. Jetzt hat das funktioniert.

3004
02:31:04,540 --> 02:31:06,540
Loadbalancer.

3005
02:31:06,540 --> 02:31:08,540
QChat LB.

3006
02:31:08,540 --> 02:31:10,540
No Targets. Ok. No Targets

3007
02:31:10,540 --> 02:31:12,540
ist klar. Weil meine Server haben ja

3008
02:31:12,540 --> 02:31:14,540
noch keine.

3009
02:31:14,540 --> 02:31:16,540
Services hat es auch noch nicht.

3010
02:31:16,540 --> 02:31:18,540
Ok. Service müssen wir auch anlegen noch.

3011
02:31:18,540 --> 02:31:20,540
Boah. Das wird jetzt ein bisschen.

3012
02:31:20,540 --> 02:31:22,540
Das wird aber ein bisschen unübersichtlich.

3013
02:31:22,540 --> 02:31:24,540
Der Fedminister. Ach ne.

3014
02:31:24,540 --> 02:31:26,540
Der Medminister hat eine Frage.

3015
02:31:26,540 --> 02:31:28,540
Was hat er denn gefragt?

3016
02:31:28,540 --> 02:31:46,060
Ah. Wenn

3017
02:31:46,060 --> 02:31:48,060
die Server. Ja. Ja. Habe ich doch schon gesagt.

3018
02:31:48,060 --> 02:31:50,060
Könnte man machen. Ja.

3019
02:31:50,060 --> 02:31:52,060
Das Label. Ja. Das Label

3020
02:31:52,060 --> 02:31:54,060
muss noch sein. Aber das ist mir gerade ein bisschen

3021
02:31:54,060 --> 02:31:56,060
sehr umständlich. Weil

3022
02:31:56,060 --> 02:31:58,060
da musst du echt genau gucken was was ist.

3023
02:31:58,060 --> 02:32:00,060
Das hätte man schon

3024
02:32:00,060 --> 02:32:02,060
schöner machen können.

3025
02:32:02,060 --> 02:32:12,660
Ne. Mehr konnte man ja gar nicht

3026
02:32:12,660 --> 02:32:14,660
machen. Ja. Das müsste man

3027
02:32:14,660 --> 02:32:16,660
wirklich in mehrere Dateien aufteilen.

3028
02:32:16,660 --> 02:32:18,660
Loadbalancer. Sonst wie. Ok. Aber

3029
02:32:18,660 --> 02:32:20,660
Aber so. Das.

3030
02:32:20,660 --> 02:32:33,260
Moment. Wenn ich das in die rein.

3031
02:32:33,260 --> 02:32:35,260
Macht das Terraform von oben nach unten

3032
02:32:35,260 --> 02:32:43,880
wenn nichts definiert ist?

3033
02:32:43,880 --> 02:32:45,880
Target.

3034
02:32:45,880 --> 02:32:47,880
So. Und wie kriege ich da jetzt den Loadbalancer

3035
02:32:47,880 --> 02:32:49,880
Service hin? Dass das auch dann auf

3036
02:32:49,880 --> 02:32:55,180
irgendwas Loadbalanced?

3037
02:32:55,180 --> 02:32:57,180
Loadbalancer Service.

3038
02:32:57,180 --> 02:33:04,650
Ok.

3039
02:33:04,650 --> 02:33:06,650
Protokoll. HTTP.

3040
02:33:06,650 --> 02:33:08,650
HTTP.

3041
02:33:08,650 --> 02:33:10,650
Loadbalancer ID.

3042
02:33:10,650 --> 02:33:12,650
Ist der hier.

3043
02:33:12,650 --> 02:33:14,650
Ha. Cloud. Loadbalancer.

3044
02:33:14,650 --> 02:33:16,650
Der Cute Chat LB.

3045
02:33:16,650 --> 02:33:18,650
Muss man da ID hinten

3046
02:33:18,650 --> 02:33:20,650
dran machen? Manchmal ist es ID hinten

3047
02:33:20,650 --> 02:33:22,650
dran. Manchmal nicht.

3048
02:33:22,650 --> 02:33:24,650
Was macht man

3049
02:33:24,650 --> 02:33:26,650
mit Terraform? Cloud Ressourcen oder generell

3050
02:33:26,650 --> 02:33:28,650
VMs und

3051
02:33:28,650 --> 02:33:30,650
Container und Sachen automatisch erstellen

3052
02:33:30,650 --> 02:33:32,650
und anlegen lassen.

3053
02:33:32,650 --> 02:33:34,650
So. Protokoll. HTTP ist gut.

3054
02:33:34,650 --> 02:33:36,650
Port. Listenport 80.

3055
02:33:36,650 --> 02:33:38,650
Destination

3056
02:33:38,650 --> 02:33:40,650
Port. Ah. Ok. Wenigstens ist

3057
02:33:40,650 --> 02:33:42,650
es irgendwie halbwegs innovativ.

3058
02:33:42,650 --> 02:33:44,650
Intuitiv gemacht. Health Check.

3059
02:33:44,650 --> 02:33:46,650
Lassen wir erstmal. Haben wir gerade noch keinen?

3060
02:33:46,650 --> 02:33:48,650
Muss ich da auch sagen?

3061
02:33:48,650 --> 02:33:50,650
Depends on irgendwas?

3062
02:33:50,650 --> 02:33:56,070
Ne. Das wird es wahrscheinlich checken.

3063
02:33:56,070 --> 02:33:58,070
Das ist

3064
02:33:58,070 --> 02:34:00,070
also die Loadbalancer-Config finde ich

3065
02:34:00,070 --> 02:34:02,070
ein bisschen sehr

3066
02:34:02,070 --> 02:34:04,070
umständlich. Warum kann man das nicht einfach

3067
02:34:04,070 --> 02:34:06,070
alles in diesen Loadbalancer reinschreiben?

3068
02:34:06,070 --> 02:34:11,820
Was man da braucht. So. Service.

3069
02:34:11,820 --> 02:34:13,820
Ok. Da sollte jetzt ein

3070
02:34:13,820 --> 02:34:15,820
HTTP-Service hinzufügen, dass der

3071
02:34:15,820 --> 02:34:17,820
Loadbalancer HTTP loadbalancet.

3072
02:34:17,820 --> 02:34:19,820
Übrigens hier auch das coole.

3073
02:34:19,820 --> 02:34:21,820
Du musst es ja nicht jedes Mal destroyen und neu aufbauen.

3074
02:34:21,820 --> 02:34:23,820
Du kannst es auch applyen und schon ist es alles

3075
02:34:25,820 --> 02:34:27,820
Loadbalancers. Services.

3076
02:34:27,820 --> 02:34:29,820
Port 8080.

3077
02:34:29,820 --> 02:34:31,820
So. Und jetzt kriegen unsere Server

3078
02:34:31,820 --> 02:34:33,820
Label. Und zwar

3079
02:34:33,820 --> 02:34:35,820
Qt Chat Node kriegen unsere Server.

3080
02:34:35,820 --> 02:34:39,380
Label.

3081
02:34:39,380 --> 02:34:41,380
Das ist eine Liste.

3082
02:34:41,380 --> 02:34:43,380
Halla. Stand da. Ne.

3083
02:34:43,380 --> 02:34:45,380
Eine Liste.

3084
02:34:45,380 --> 02:34:47,380
Qt Chat Node. Ok.

3085
02:34:47,380 --> 02:34:49,380
Und jetzt. Also wenn

3086
02:34:49,380 --> 02:34:51,380
jetzt alles funktioniert.

3087
02:34:51,380 --> 02:34:55,340
Du brauchst das Depends on beim

3088
02:34:55,340 --> 02:35:01,340
Target nicht.

3089
02:35:01,340 --> 02:35:03,340
Doch. Ne. Ach ja. Das habe ich

3090
02:35:03,340 --> 02:35:05,340
das habe ich eben um

3091
02:35:05,340 --> 02:35:07,340
die Reihenfolge geändert.

3092
02:35:07,340 --> 02:35:20,570
Ok.

3093
02:35:20,570 --> 02:35:22,570
Wenn ich das jetzt applye. Oder auch

3094
02:35:22,570 --> 02:35:24,570
nicht. Was?

3095
02:35:24,570 --> 02:35:26,570
Labels. Map of Strings required.

3096
02:35:26,570 --> 02:35:28,570
Wait a minute. Was?

3097
02:35:28,570 --> 02:35:33,350
Äh.

3098
02:35:33,350 --> 02:35:35,350
Was? Label?

3099
02:35:35,350 --> 02:35:37,350
Map of Strings.

3100
02:35:37,350 --> 02:35:42,580
Äh. Wie macht man

3101
02:35:42,580 --> 02:35:48,520
ne Map? Ok.

3102
02:35:48,520 --> 02:35:50,520
Terraform Map of Strings.

3103
02:35:50,520 --> 02:35:55,300
Map.

3104
02:35:55,300 --> 02:36:09,020
Was? Aha.

3105
02:36:09,020 --> 02:36:11,020
Also.

3106
02:36:11,020 --> 02:36:13,020
So.

3107
02:36:13,020 --> 02:36:20,740
Oder Doppelpunkt.

3108
02:36:20,740 --> 02:36:22,740
Ah ne. Doppelpunkt.

3109
02:36:22,740 --> 02:36:24,740
So. Weil ich hab kein Value.

3110
02:36:24,740 --> 02:36:31,000
So. Oder. Oder.

3111
02:36:31,000 --> 02:36:33,000
Ach ne. So. Ok.

3112
02:36:33,000 --> 02:36:35,000
Apply. Nein. Falsch.

3113
02:36:35,000 --> 02:36:37,000
Label Value is not correctly

3114
02:36:37,000 --> 02:36:39,000
formatted.

3115
02:36:39,000 --> 02:36:43,720
Warum? Ok.

3116
02:36:43,720 --> 02:36:48,250
Das ist high IQ.

3117
02:36:48,250 --> 02:36:50,250
Es ist ein Doppelpunkt. Anstatt

3118
02:36:50,250 --> 02:36:52,250
ein Gleich. Oder ist es ein Gleich. Anstatt ein Doppelpunkt.

3119
02:36:52,250 --> 02:37:01,860
Äh.

3120
02:37:01,860 --> 02:37:03,860
Terraform Labels Map.

3121
02:37:03,860 --> 02:37:11,270
Mein Value darf nicht leer sein.

3122
02:37:11,270 --> 02:37:13,270
Dann haben die das aber doof

3123
02:37:13,270 --> 02:37:15,270
programmiert. Weil im

3124
02:37:15,270 --> 02:37:17,270
Webinterface darf er leer sein.

3125
02:37:17,270 --> 02:37:30,820
Muss da wirklich was drinstehen?

3126
02:37:30,820 --> 02:37:32,820
Da schreib ich halt

3127
02:37:32,820 --> 02:37:34,820
mal 1 rein. Oder so.

3128
02:37:34,820 --> 02:37:39,930
1. Ach das ist ok. Oder was?

3129
02:37:39,930 --> 02:37:45,420
Ok. Das ist

3130
02:37:45,420 --> 02:37:51,860
anscheinend erlaubt.

3131
02:37:51,860 --> 02:37:53,860
Ok. So. Und

3132
02:37:53,860 --> 02:37:55,860
jetzt haben wir im Loadbalancer

3133
02:37:55,860 --> 02:37:59,690
Moment. Loadbalancer

3134
02:37:59,690 --> 02:38:01,690
Mixed.

3135
02:38:01,690 --> 02:38:03,690
Wo ist der Health Check

3136
02:38:03,690 --> 02:38:05,690
kaputt Leute?

3137
02:38:05,690 --> 02:38:07,690
Ah ne. Ist alles da.

3138
02:38:07,690 --> 02:38:11,190
Ok. Es hat funktioniert.

3139
02:38:11,190 --> 02:38:13,190
Ach man kann das ganz weglassen. Wirklich?

3140
02:38:13,190 --> 02:38:15,190
Geht das? Ne. Dann

3141
02:38:15,190 --> 02:38:21,830
mag er nicht. Ne.

3142
02:38:21,830 --> 02:38:23,830
Das geht nicht.

3143
02:38:23,830 --> 02:38:25,830
Guck dann. Dann meckert

3144
02:38:25,830 --> 02:38:30,550
er hier schon rum. Und einfach

3145
02:38:30,550 --> 02:38:32,550
nur Gleich geht auch nicht. Dann fehlt

3146
02:38:32,550 --> 02:38:36,890
ihm was. Also anscheinend muss

3147
02:38:36,890 --> 02:38:38,890
man das wirklich so machen.

3148
02:38:38,890 --> 02:38:40,890
Aber es soll mir

3149
02:38:40,890 --> 02:38:45,990
recht sein. Ich mein.

3150
02:38:45,990 --> 02:38:47,990
Da könnte ich einfach jetzt hier nochmal den Index

3151
02:38:47,990 --> 02:38:49,990
einsetzen. Weil.

3152
02:38:49,990 --> 02:38:51,990
Weil. Ja.

3153
02:38:51,990 --> 02:39:00,490
Was? Null?

3154
02:39:00,490 --> 02:39:02,490
Null. Das ist ne gute Idee.

3155
02:39:02,490 --> 02:39:07,340
Vielleicht funktioniert das.

3156
02:39:07,340 --> 02:39:09,340
Null?

3157
02:39:09,340 --> 02:39:11,340
Wir sind ja hier nicht in JavaScript. Aber.

3158
02:39:11,340 --> 02:39:16,060
Ah. Das Null.

3159
02:39:16,060 --> 02:39:19,370
Ok. Auf die Idee wäre

3160
02:39:19,370 --> 02:39:21,370
ich nicht gekommen. Ganz ehrlich.

3161
02:39:21,370 --> 02:39:28,780
Es funktioniert aber auch nicht.

3162
02:39:28,780 --> 02:39:32,600
Es funktioniert

3163
02:39:32,600 --> 02:39:34,600
aber auch nicht.

3164
02:39:34,600 --> 02:39:36,600
Ne. Das checkt er nicht.

3165
02:39:36,600 --> 02:39:38,600
Ok.

3166
02:39:38,600 --> 02:39:40,600
Das ist. Das kapiert er nicht. Ok.

3167
02:39:40,600 --> 02:39:42,600
Ne. Dann. Dann mach ich jetzt doch das was ich vorher

3168
02:39:42,600 --> 02:39:50,580
vorhatte. So.

3169
02:39:50,580 --> 02:39:52,580
Soll das nicht ein Doppelpunkt oder ein Gleich? Das ist ne gute Frage.

3170
02:39:52,580 --> 02:39:54,580
Ob ein Doppelpunkt oder ein Gleich.

3171
02:39:54,580 --> 02:40:04,740
Ja. Das. Das funktioniert.

3172
02:40:04,740 --> 02:40:08,310
Ist egal.

3173
02:40:08,310 --> 02:40:10,310
Doppelpunkt oder Gleich.

3174
02:40:10,310 --> 02:40:12,310
Ja. Dann mach ich

3175
02:40:12,310 --> 02:40:14,310
Doppelpunkt. Alles gut. Nice.

3176
02:40:14,310 --> 02:40:16,310
So. Also das funktioniert. Und jetzt haben wir

3177
02:40:16,310 --> 02:40:18,310
in unserem Loadbalancer auch 3 Targets.

3178
02:40:18,310 --> 02:40:20,310
Das heißt wir sollten jetzt überall.

3179
02:40:20,310 --> 02:40:24,200
Oder auch nicht.

3180
02:40:24,200 --> 02:40:29,050
Ähm. Warum geht das nicht?

3181
02:40:29,050 --> 02:40:31,050
Ach doch geht.

3182
02:40:31,050 --> 02:40:33,050
Hat eine Weile gebraucht. Da sind wir.

3183
02:40:33,050 --> 02:40:35,050
Leute. Also.

3184
02:40:35,050 --> 02:40:37,050
Das Loadbalancen auf die Nginx

3185
02:40:37,050 --> 02:40:39,050
Standardseite funktioniert schon mal.

3186
02:40:39,050 --> 02:40:42,550
Gut. Also das ist.

3187
02:40:42,550 --> 02:40:44,550
Wobei ich ehrlich sagen muss. Also die Server

3188
02:40:44,550 --> 02:40:46,550
Config und so ist super. Nice.

3189
02:40:46,550 --> 02:40:48,550
Habe ich überhaupt keine Schmerzen mit.

3190
02:40:48,550 --> 02:40:50,550
Aber die LB Config ist schon.

3191
02:40:52,550 --> 02:40:54,550
Leicht. Leicht.

3192
02:40:54,550 --> 02:40:56,550
Paints champig.

3193
02:40:56,550 --> 02:41:01,270
Loadbalancer.

3194
02:41:01,270 --> 02:41:03,270
Service. Loadbalancer.

3195
02:41:03,270 --> 02:41:17,660
Target.

3196
02:41:17,660 --> 02:41:19,660
Das ist schon ein bisschen. Weiß nicht.

3197
02:41:19,660 --> 02:41:26,420
Naja. Ich meine.

3198
02:41:26,420 --> 02:41:28,420
Es gibt schlimmeres.

3199
02:41:28,420 --> 02:41:30,420
Ja. Also das ist ja immer noch

3200
02:41:30,420 --> 02:41:32,420
halbwegs übersichtlich.

3201
02:41:32,420 --> 02:41:34,420
Im Prinzip noch nicht mal 100 Zeilen. Und da macht unser ganze.

3202
02:41:34,420 --> 02:41:36,420
Oh. Jetzt ist.

3203
02:41:36,420 --> 02:41:41,530
Leute. Was ist hier los?

3204
02:41:41,530 --> 02:41:43,530
Fake News.

3205
02:41:43,530 --> 02:41:45,530
Es geht alles.

3206
02:41:45,530 --> 02:41:49,930
Stimmt überhaupt nicht.

3207
02:41:49,930 --> 02:41:51,930
Stimmt überhaupt nicht. Der Server ist noch da.

3208
02:41:51,930 --> 02:41:53,930
Der. Der.

3209
02:41:53,930 --> 02:41:55,930
Der Loadbalancer lügt. Alter.

3210
02:41:55,930 --> 02:42:02,310
Fake News. Komplett.

3211
02:42:02,310 --> 02:42:06,460
Stimmt nicht.

3212
02:42:06,460 --> 02:42:08,460
Servers. Da ist alles ab.

3213
02:42:08,460 --> 02:42:10,460
Alles ab. Und gut.

3214
02:42:10,460 --> 02:42:12,460
Der hat irgendeinen Health Check.

3215
02:42:12,460 --> 02:42:14,460
Verschluckt.

3216
02:42:14,460 --> 02:42:16,460
Der sollte hoffentlich aber

3217
02:42:16,460 --> 02:42:18,460
gleich wieder grün werden.

3218
02:42:18,460 --> 02:42:28,740
Was ist das?

3219
02:42:28,740 --> 02:42:30,740
Ja. Irgendwann machen wir nochmal Kubernetes.

3220
02:42:30,740 --> 02:42:32,740
Leute. Ich sehe schon. Komm.

3221
02:42:32,740 --> 02:42:34,740
Auch. Aber dann brauche ich erst wieder

3222
02:42:34,740 --> 02:42:36,740
das Hetzer Sponsorship.

3223
02:42:36,740 --> 02:42:40,820
Warum wird denn der. Warum wird denn der.

3224
02:42:40,820 --> 02:42:44,970
Nicht grün?

3225
02:42:44,970 --> 02:42:46,970
Auf welchem sind wir auf Node 0?

3226
02:42:46,970 --> 02:42:51,180
Wo ist das Problem hier?

3227
02:42:51,180 --> 02:42:53,180
Hat er den jetzt. Sag mal. Hat er den

3228
02:42:53,180 --> 02:42:55,180
Loadbalancer vielleicht geblockt?

3229
02:42:55,180 --> 02:42:57,180
Weil er zu oft drauf zugegriffen hat?

3230
02:42:57,180 --> 02:43:01,830
Oder sowas.

3231
02:43:01,830 --> 02:43:03,830
Ne. Nginx Log kann ich nicht aufmachen.

3232
02:43:03,830 --> 02:43:05,830
Wenn ich das Nginx Log aufmache.

3233
02:43:05,830 --> 02:43:14,100
Ne.

3234
02:43:14,100 --> 02:43:16,100
Also. Der Loadbalancer hat keinen

3235
02:43:16,100 --> 02:43:22,360
Bock auf Node 0.

3236
02:43:22,360 --> 02:43:24,360
Das interessiert den nicht.

3237
02:43:24,360 --> 02:43:26,360
Port 80 ist

3238
02:43:26,360 --> 02:43:28,360
unhealthy.

3239
02:43:28,360 --> 02:43:30,360
So. Mal gucken was passiert.

3240
02:43:30,360 --> 02:43:32,360
Wenn ich jetzt.

3241
02:43:34,360 --> 02:43:36,360
Also. Node 0 meint er ist kaputt.

3242
02:43:36,360 --> 02:43:39,800
Node 0 ist

3243
02:43:39,800 --> 02:43:41,800
debated out there. Wir machen den aus.

3244
02:43:41,800 --> 02:43:43,800
Moment. Ich bin auf Node 0.

3245
02:43:43,800 --> 02:43:45,800
Systemctl

3246
02:43:45,800 --> 02:43:47,800
Systemctl

3247
02:43:47,800 --> 02:43:49,800
Status

3248
02:43:49,800 --> 02:43:54,330
Nginx

3249
02:43:54,330 --> 02:43:56,330
Ist auch active.

3250
02:43:56,330 --> 02:43:58,330
Das heißt er sollte auch enabled sein.

3251
02:43:58,330 --> 02:44:00,330
Ok. Power off.

3252
02:44:00,330 --> 02:44:02,330
Und Power on.

3253
02:44:02,330 --> 02:44:04,330
Der Server ist online.

3254
02:44:04,330 --> 02:44:06,330
Ich weiß. Ich bin auch grad per SSH drauf eingeloggt.

3255
02:44:06,330 --> 02:44:08,330
Das funktioniert.

3256
02:44:08,330 --> 02:44:10,330
Aber der Loadbalancer ist

3257
02:44:10,330 --> 02:44:12,330
der Meinung. No Pass gibt es

3258
02:44:12,330 --> 02:44:19,990
nicht. Aber zum Glück sind die anderen

3259
02:44:19,990 --> 02:44:27,780
beiden da.

3260
02:44:27,780 --> 02:44:29,780
Node 0 ist wieder da.

3261
02:44:29,780 --> 02:44:34,760
Und jetzt ist der

3262
02:44:34,760 --> 02:44:36,760
Server oben.

3263
02:44:36,760 --> 02:44:41,100
Jo. Was hast du

3264
02:44:41,100 --> 02:44:43,100
für eine Tastatur? Irgendein Logitech

3265
02:44:43,100 --> 02:44:45,100
Dings.

3266
02:44:45,100 --> 02:44:47,100
Also.

3267
02:44:47,100 --> 02:44:49,100
Der Loadbalancer hat definitiv

3268
02:44:49,100 --> 02:44:51,100
irgendwelche Schmerzen mit meinem

3269
02:44:51,100 --> 02:44:53,100
ersten Node.

3270
02:44:53,100 --> 02:45:01,910
Und ich weiß nicht warum.

3271
02:45:01,910 --> 02:45:03,910
Kommt der denn über die private IP drauf?

3272
02:45:03,910 --> 02:45:05,910
Es wäre schon komisch.

3273
02:45:05,910 --> 02:45:07,910
Weil.

3274
02:45:07,910 --> 02:45:09,910
Ach jetzt ist er wieder cool.

3275
02:45:09,910 --> 02:45:11,910
Leute. Es ist alles gut. Es war anscheinend

3276
02:45:11,910 --> 02:45:13,910
gar nichts.

3277
02:45:13,910 --> 02:45:15,910
Es ist alles ok wieder.

3278
02:45:15,910 --> 02:45:17,910
Wunderbar.

3279
02:45:17,910 --> 02:45:19,910
So. Also. Können wir die Load aus

3280
02:45:19,910 --> 02:45:21,910
ihr.

3281
02:45:21,910 --> 02:45:23,910
Komm. Wir machen mal kurz ein bisschen.

3282
02:45:23,910 --> 02:45:25,910
Wir machen mal ein bisschen

3283
02:45:25,910 --> 02:45:29,420
Load. Schauen wir mal.

3284
02:45:29,420 --> 02:45:33,110
Gucken wir mal ob da irgendwas

3285
02:45:33,110 --> 02:45:35,110
nennenswertes. Ne da gehen wir.

3286
02:45:35,110 --> 02:45:37,110
Da gehen wir im.

3287
02:45:37,110 --> 02:45:39,110
Äh. In die Auslastungs

3288
02:45:39,110 --> 02:45:41,110
Crafts.

3289
02:45:41,110 --> 02:45:43,110
Oh. Eine Connection

3290
02:45:43,110 --> 02:45:45,110
pro Sekunde. Huiuiui.

3291
02:45:45,110 --> 02:45:47,110
Ok. Machen wir mal kurz ein bisschen

3292
02:45:47,110 --> 02:45:49,110
Test.

3293
02:45:49,110 --> 02:45:51,110
Äh.

3294
02:45:51,110 --> 02:45:53,110
HTTP.

3295
02:45:53,110 --> 02:45:55,110
Hey ist quasi

3296
02:45:55,110 --> 02:45:57,110
der geistige Nachfolger.

3297
02:45:57,110 --> 02:45:59,110
Von dem Apache

3298
02:45:59,110 --> 02:46:01,110
Load. Äh. Von dem Apache Load

3299
02:46:01,110 --> 02:46:03,110
Server Benchmark Tool.

3300
02:46:03,110 --> 02:46:05,110
Nur das das jetzt Multithreaded ist.

3301
02:46:05,110 --> 02:46:07,110
Und besser. Und. Und. Ich glaub sogar in Rust

3302
02:46:07,110 --> 02:46:09,110
programmiert. Die coolen Leute machen

3303
02:46:09,110 --> 02:46:11,110
alles in Rust. Ok. Hier haben wir 40 Connection

3304
02:46:11,110 --> 02:46:13,110
gehabt. Wollen wir das

3305
02:46:13,110 --> 02:46:15,110
Ding mal ein bisschen stressen?

3306
02:46:15,110 --> 02:46:17,110
Da muss ich mal kurz gucken wie viel

3307
02:46:17,110 --> 02:46:19,110
man hier machen kann. Number of requests

3308
02:46:19,110 --> 02:46:21,110
to run. Default ist 200.

3309
02:46:21,110 --> 02:46:23,110
Number of workers 50. Rate

3310
02:46:23,110 --> 02:46:28,980
Limit. Also ich mein wir können

3311
02:46:28,980 --> 02:46:30,980
wir können mal ein paar. Wir können mal ein bisschen mehr

3312
02:46:30,980 --> 02:46:32,980
Requests machen. Ich hoffe der Stream

3313
02:46:32,980 --> 02:46:34,980
kackt nicht ab bei 2000 Requests.

3314
02:46:34,980 --> 02:46:40,660
Läuft. Läuft der Stream noch?

3315
02:46:40,660 --> 02:46:48,140
Alles gut? Ja sind immer noch.

3316
02:46:48,140 --> 02:46:50,140
Moment. Der kriegt nicht genug parallel durch.

3317
02:46:50,140 --> 02:46:57,220
Kann das sein?

3318
02:46:57,220 --> 02:46:59,220
Der Stream ist überhaupt nicht weg. Ich hab doch Vorschau an.

3319
02:47:01,220 --> 02:47:03,220
Der Stream hat noch nicht mal geruckelt.

3320
02:47:03,220 --> 02:47:12,970
Ähm.

3321
02:47:12,970 --> 02:47:14,970
Number of requests to run. Number of workers to run.

3322
02:47:14,970 --> 02:47:18,340
50. Ist doch ok.

3323
02:47:18,340 --> 02:47:23,320
Ok. Weißt du was?

3324
02:47:23,320 --> 02:47:25,320
Bam. Gib ihm.

3325
02:47:25,320 --> 02:47:34,970
Oh ja. 3000.

3326
02:47:34,970 --> 02:47:40,900
Request pro Sekunde.

3327
02:47:40,900 --> 02:47:52,280
Ok da geht ein bisschen was.

3328
02:47:52,280 --> 02:47:54,280
Ich mein irgendwie nennenswert. Auslastung werden wir

3329
02:47:54,280 --> 02:47:56,280
hier nicht bekommen.

3330
02:47:56,280 --> 02:47:58,280
Na doch. Guck mal. Der Nginx Worker.

3331
02:47:58,280 --> 02:48:00,280
Wir haben 20%

3332
02:48:00,280 --> 02:48:02,280
CPU Auslastung pro Server.

3333
02:48:02,280 --> 02:48:04,280
Ich hab 50

3334
02:48:04,280 --> 02:48:06,280
Worker. Das sollte doch reichen oder?

3335
02:48:08,280 --> 02:48:16,780
Meinst du das ist zu wenig?

3336
02:48:16,780 --> 02:48:24,820
Meinst du das ist zu wenig?

3337
02:48:24,820 --> 02:48:31,400
50. Also

3338
02:48:31,400 --> 02:48:33,400
Keine Ahnung. 500. 500

3339
02:48:33,400 --> 02:48:39,400
Worker. Bam. Oh. Oh.

3340
02:48:39,400 --> 02:48:45,530
Oh. Oh.

3341
02:48:45,530 --> 02:48:47,530
Leute. Leute. Mein Stream kackt ab.

3342
02:48:47,530 --> 02:48:49,530
Can't wait.

3343
02:48:49,530 --> 02:48:54,820
Oh. Oh.

3344
02:48:54,820 --> 02:48:56,820
Das ist zu viel.

3345
02:48:56,820 --> 02:48:58,820
Haha.

3346
02:48:58,820 --> 02:49:00,820
Oh.

3347
02:49:00,820 --> 02:49:12,010
100.

3348
02:49:12,010 --> 02:49:18,140
Ok passt.

3349
02:49:18,140 --> 02:49:22,860
Aber alles gut.

3350
02:49:22,860 --> 02:49:24,860
Also gibt ordentliche Connections.

3351
02:49:24,860 --> 02:49:26,860
Funzt alles.

3352
02:49:26,860 --> 02:49:28,860
Der Server ist auch der Meinung.

3353
02:49:28,860 --> 02:49:30,860
Er ist jetzt bei 50% CPU Last.

3354
02:49:30,860 --> 02:49:32,860
Also der kriegt schon ordentliche

3355
02:49:32,860 --> 02:49:34,860
Der kriegt schon ordentlich was ab.

3356
02:49:34,860 --> 02:49:39,700
6000

3357
02:49:39,700 --> 02:49:45,190
Request pro Sekunde.

3358
02:49:45,190 --> 02:49:48,700
Ja. Please abbrechen.

3359
02:49:48,700 --> 02:49:54,310
Bam.

3360
02:49:54,310 --> 02:49:57,820
Der muss jetzt erst mal wieder

3361
02:49:57,820 --> 02:50:03,300
einkriegen. Guck mal.

3362
02:50:03,300 --> 02:50:05,300
Der Nginx Worker ist immer noch

3363
02:50:05,300 --> 02:50:07,300
Am schwitzen.

3364
02:50:07,300 --> 02:50:11,510
Moment.

3365
02:50:11,510 --> 02:50:13,510
Solltet ihr nicht eigentlich aufhören

3366
02:50:13,510 --> 02:50:15,510
jetzt Request zu machen?

3367
02:50:15,510 --> 02:50:17,510
Oder seid. Ihr seid auch am Start

3368
02:50:17,510 --> 02:50:19,510
jetzt oder? Chat. Seid ihr auch

3369
02:50:19,510 --> 02:50:21,510
am Start?

3370
02:50:21,510 --> 02:50:23,510
Ihr müsst am Start sein.

3371
02:50:23,510 --> 02:50:25,510
Von mir kann es

3372
02:50:25,510 --> 02:50:32,150
nicht mehr liegen.

3373
02:50:32,150 --> 02:50:34,150
Der Chat ist auch am Start.

3374
02:50:34,150 --> 02:50:36,150
Und spammt das Ding voll.

3375
02:50:36,150 --> 02:50:38,150
So Chat. Ihr könnt wieder

3376
02:50:38,150 --> 02:50:40,150
ausmachen. Ja. Ja.

3377
02:50:40,150 --> 02:50:42,150
Hört mal auf. Wir testen

3378
02:50:42,150 --> 02:50:44,150
es dann ob das mit dem Deployment

3379
02:50:44,150 --> 02:50:49,130
funktioniert.

3380
02:50:49,130 --> 02:50:51,130
Ich logge keine IPs. Ne.

3381
02:50:51,130 --> 02:50:53,130
Soll ich IPs loggen?

3382
02:50:53,130 --> 02:50:55,130
Ich darf gar keine IPs loggen.

3383
02:50:55,130 --> 02:50:57,130
Ich würde nie IPs loggen.

3384
02:50:57,130 --> 02:51:07,160
So.

3385
02:51:07,160 --> 02:51:09,160
Ja jetzt passt es wieder.

3386
02:51:09,160 --> 02:51:11,160
Chat hat aufgehört. Alles klar.

3387
02:51:11,160 --> 02:51:13,160
Ja also wir haben doch ganz gut.

3388
02:51:13,160 --> 02:51:15,160
Ihr meint aber guck mal insgesamt hatten wir

3389
02:51:15,160 --> 02:51:17,160
bloß 5 Mbit. Also es hält sich sehr

3390
02:51:17,160 --> 02:51:19,160
in Grenzen.

3391
02:51:19,160 --> 02:51:21,160
Übrigens Loadbalancer kann man live

3392
02:51:21,160 --> 02:51:23,160
scalen. Server kann man soweit

3393
02:51:23,160 --> 02:51:25,160
ich weiß nicht live

3394
02:51:25,160 --> 02:51:32,500
scalen. Genau.

3395
02:51:32,500 --> 02:51:34,500
Da musst du den Server nämlich ausschalten.

3396
02:51:34,500 --> 02:51:36,500
Ok. Wunderbar.

3397
02:51:36,500 --> 02:51:38,500
Also das funktioniert.

3398
02:51:38,500 --> 02:51:40,500
Nein ich logge

3399
02:51:40,500 --> 02:51:42,500
keine IPs. Wie kommst du da drauf?

3400
02:51:42,500 --> 02:51:46,330
Ich hab das natürlich alles entfernt.

3401
02:51:46,330 --> 02:51:48,330
Ähm.

3402
02:51:48,330 --> 02:51:55,160
So.

3403
02:51:55,160 --> 02:51:57,160
Was kann man als nächstes machen?

3404
02:51:57,160 --> 02:51:59,160
Muss gerade mal überlegen

3405
02:51:59,160 --> 02:52:01,160
wo wir stehen geblieben sind. Also wir haben jetzt

3406
02:52:01,160 --> 02:52:03,160
ich mein wir haben ja den Kram hier.

3407
02:52:03,160 --> 02:52:05,160
Ist eigentlich mittlerweile Hans Feld

3408
02:52:05,160 --> 02:52:07,160
am Start.

3409
02:52:07,160 --> 02:52:09,160
Der mir diese Gbait E-Mail geschrieben

3410
02:52:09,160 --> 02:52:11,160
hat.

3411
02:52:11,160 --> 02:52:13,160
Also das haben wir jetzt soweit gebaut.

3412
02:52:13,160 --> 02:52:15,160
Ich weiß nicht ob ich das mit dem Deployment

3413
02:52:15,160 --> 02:52:19,620
jetzt noch machen soll.

3414
02:52:19,620 --> 02:52:21,620
Lass mal kurz in mich gehen.

3415
02:52:21,620 --> 02:52:23,620
Wo sind wir denn stehen geblieben?

3416
02:52:23,620 --> 02:52:28,410
Wir haben das automatisch aufgebaut.

3417
02:52:28,410 --> 02:52:30,410
Wir gucken jetzt noch mal ob das automatische

3418
02:52:30,410 --> 02:52:36,660
aufbauen funktioniert.

3419
02:52:36,660 --> 02:52:38,660
Ein Zertifikat.

3420
02:52:38,660 --> 02:52:40,660
Ja du hast recht.

3421
02:52:40,660 --> 02:52:42,660
Natürlich wir wollen ein Zertifikat

3422
02:52:42,660 --> 02:52:47,190
haben. So machen wir

3423
02:52:47,190 --> 02:52:49,190
das. Das habe ich ja ganz

3424
02:52:49,190 --> 02:52:51,190
vergessen. Managed

3425
02:52:51,190 --> 02:52:57,450
Certificate. Ok.

3426
02:52:57,450 --> 02:52:59,450
Wie funktioniert das jetzt?

3427
02:52:59,450 --> 02:53:01,450
Ich mein Hetzner selbst kann dir

3428
02:53:01,450 --> 02:53:03,450
Let's Encrypt Zertifikate übers Web Interface

3429
02:53:03,450 --> 02:53:05,450
machen. Man könnte das auch selbst

3430
02:53:05,450 --> 02:53:07,450
machen und das Zertifikat dann hochladen

3431
02:53:07,450 --> 02:53:09,450
aber du kannst auch

3432
02:53:09,450 --> 02:53:11,450
sagen Services

3433
02:53:11,450 --> 02:53:13,450
Add Service

3434
02:53:13,450 --> 02:53:15,450
TLS Termination HTTPS

3435
02:53:15,450 --> 02:53:17,450
280 und dann kannst du ein Zertifikat

3436
02:53:17,450 --> 02:53:21,210
hinzufügen. Also

3437
02:53:21,210 --> 02:53:23,210
die meisten Zertifikate sind schon

3438
02:53:23,210 --> 02:53:31,900
expired. Aber man könnte

3439
02:53:31,900 --> 02:53:33,900
sich ja auch neue ausstellen

3440
02:53:33,900 --> 02:53:35,900
lassen jetzt. Ok. Managed

3441
02:53:35,900 --> 02:53:37,900
Certificate.

3442
02:53:37,900 --> 02:53:39,900
Übrigens to do.kekw.services

3443
02:53:39,900 --> 02:53:41,900
Es ist anscheinend

3444
02:53:41,900 --> 02:53:43,900
noch

3445
02:53:43,900 --> 02:53:45,900
keine. Es ist noch nicht so lang

3446
02:53:45,900 --> 02:53:47,900
her gewesen wo wir das verwendet haben.

3447
02:53:47,900 --> 02:53:49,900
Wait a minute. Expires?

3448
02:53:49,900 --> 02:53:54,490
Hä?

3449
02:53:54,490 --> 02:53:59,210
Wir haben das erst im April

3450
02:53:59,210 --> 02:54:01,210
gemacht? Ist es

3451
02:54:01,210 --> 02:54:03,210
so kurz her

3452
02:54:03,210 --> 02:54:05,210
dass wir Svelte geübt haben?

3453
02:54:05,210 --> 02:54:07,210
Kann gar nicht sein. Das haben wir doch letztes Jahr schon

3454
02:54:07,210 --> 02:54:11,350
gemacht. Ist auch egal.

3455
02:54:11,350 --> 02:54:13,350
Wie kriegen wir Zertifikate?

3456
02:54:13,350 --> 02:54:15,350
Hier. Hcloud

3457
02:54:15,350 --> 02:54:17,350
Managed Certificate

3458
02:54:17,350 --> 02:54:20,660
Managed Certificate

3459
02:54:20,660 --> 02:54:22,660
Und

3460
02:54:22,660 --> 02:54:24,660
das wird glaube ich jetzt ziemlich

3461
02:54:24,660 --> 02:54:26,660
big brain. Obtain a cloud

3462
02:54:26,660 --> 02:54:28,660
Hetzner Cloud Managed TLS Certificate

3463
02:54:28,660 --> 02:54:34,410
Ich will keine

3464
02:54:34,410 --> 02:54:36,410
Zertifikat uploaden. Ich will, dass die mir eins

3465
02:54:36,410 --> 02:54:38,410
ausstellen. Also die sollen mir

3466
02:54:38,410 --> 02:54:40,410
über Let's Encrypt eins ausstellen. Ich will das

3467
02:54:40,410 --> 02:54:42,410
Ich meine ich könnte das selbst machen.

3468
02:54:42,410 --> 02:54:44,410
Lokal mit irgendwie einem Certboard

3469
02:54:44,410 --> 02:54:46,410
und es dann hochladen.

3470
02:54:46,410 --> 02:54:48,410
Aber...

3471
02:54:48,410 --> 02:54:50,410
Wenn die das machen können, warum nicht?

3472
02:54:50,410 --> 02:54:52,410
Weil wenn ich Certboard machen will

3473
02:54:52,410 --> 02:54:54,410
jetzt beispielsweise für

3474
02:54:54,410 --> 02:54:56,410
kekw.services

3475
02:54:56,410 --> 02:54:58,410
Dann müsste

3476
02:54:58,410 --> 02:55:00,410
ich irgendwie über die

3477
02:55:00,410 --> 02:55:02,410
Da müsste ich mir erstmal einen

3478
02:55:02,410 --> 02:55:04,410
APKey für ein DNS besorgen und sowas.

3479
02:55:04,410 --> 02:55:08,810
Haben die was für DNS?

3480
02:55:08,810 --> 02:55:10,810
DNS?

3481
02:55:10,810 --> 02:55:12,810
Was ist denn R-DNS?

3482
02:55:12,810 --> 02:55:14,810
Reverse DNS

3483
02:55:14,810 --> 02:55:16,810
DNS?

3484
02:55:16,810 --> 02:55:21,910
Cert

3485
02:55:21,910 --> 02:55:27,020
Uploaded Certificate

3486
02:55:27,020 --> 02:55:30,330
Certificates

3487
02:55:30,330 --> 02:55:32,330
Ah ja gut.

3488
02:55:32,330 --> 02:55:34,330
Da könnte ich das Zertifikat, das könnte ich mir

3489
02:55:34,330 --> 02:55:36,330
lokal mit einem Certboard irgendwie ausstellen und dann

3490
02:55:36,330 --> 02:55:40,730
hochschieben.

3491
02:55:40,730 --> 02:55:42,730
Ja das könnte ich machen. Aber die sollen mir lieber

3492
02:55:42,730 --> 02:55:44,730
selbst mal eins ausstellen.

3493
02:55:44,730 --> 02:55:46,730
Resource Cloud Managed

3494
02:55:46,730 --> 02:55:48,730
Okay probieren wir es mal aus.

3495
02:55:48,730 --> 02:55:50,730
Also nachdem der

3496
02:55:50,730 --> 02:55:52,730
Loadbalancer da ist vielleicht

3497
02:55:52,730 --> 02:55:56,490
Gucken ob das funktioniert.

3498
02:55:56,490 --> 02:55:58,490
Domain Names

3499
02:55:58,490 --> 02:56:00,490
Wir wollen

3500
02:56:00,490 --> 02:56:02,490
Sternische Punkt kekw.services

3501
02:56:02,490 --> 02:56:04,490
Das ist ja

3502
02:56:04,490 --> 02:56:06,490
noch auf Hetzner umgebogen. Das müsste noch

3503
02:56:06,490 --> 02:56:08,490
funktionieren. War es

3504
02:56:08,490 --> 02:56:10,490
.service oder .services?

3505
02:56:10,490 --> 02:56:12,490
Hat jemand aufgepasst?

3506
02:56:12,490 --> 02:56:14,490
Na super.

3507
02:56:14,490 --> 02:56:18,060
Geil.

3508
02:56:18,060 --> 02:56:20,060
kekw.services

3509
02:56:20,060 --> 02:56:22,060
war es.

3510
02:56:22,060 --> 02:56:25,620
kekw.services

3511
02:56:25,620 --> 02:56:27,620
Discard

3512
02:56:27,620 --> 02:56:29,620
Also kekw.services Wildcard

3513
02:56:29,620 --> 02:56:31,620
Zertifikat

3514
02:56:31,620 --> 02:56:33,620
Ähm

3515
02:56:33,620 --> 02:56:35,620
Okay brauchen wir ein Wildcard Zertifikat?

3516
02:56:35,620 --> 02:56:37,620
Ist egal.

3517
02:56:37,620 --> 02:56:40,940
Für was sind

3518
02:56:40,940 --> 02:56:42,940
die Labels? Jetzt blick ich nicht

3519
02:56:42,940 --> 02:56:44,940
ganz durch wie das gedacht ist.

3520
02:56:44,940 --> 02:56:46,940
Domain Names

3521
02:56:46,940 --> 02:56:48,940
Zertifikat will be obtained.

3522
02:56:48,940 --> 02:56:50,940
User defined Labels

3523
02:56:50,940 --> 02:56:52,940
should be created with. Ach so.

3524
02:56:52,940 --> 02:56:54,940
Das ist das ich es dann einfacher wieder finde oder

3525
02:56:54,940 --> 02:56:56,940
wie? Nö ich brauch kein Label.

3526
02:56:56,940 --> 02:57:03,000
Ne Moment. Oder

3527
02:57:03,000 --> 02:57:05,000
ist. Da bin ich mir jetzt gar nicht

3528
02:57:05,000 --> 02:57:07,000
so sicher ehrlich gesagt wofür das da ist.

3529
02:57:07,000 --> 02:57:09,000
Egal. Apply.

3530
02:57:09,000 --> 02:57:11,000
Wir probieren das jetzt einfach mal aus.

3531
02:57:11,000 --> 02:57:13,000
Was er macht.

3532
02:57:13,000 --> 02:57:15,000
Apply. Gucken was passiert.

3533
02:57:15,000 --> 02:57:17,000
Mehr als

3534
02:57:17,000 --> 02:57:19,000
Let's Encrypt für die Woche gesperrt werden kann ich nicht.

3535
02:57:19,000 --> 02:57:29,800
Zertifikat

3536
02:57:29,800 --> 02:57:31,800
managed. Creating. Okay.

3537
02:57:31,800 --> 02:57:47,460
Das dauert jetzt ein bisschen.

3538
02:57:47,460 --> 02:57:49,460
Der muss ja diesen ganzen Let's Encrypt

3539
02:57:49,460 --> 02:57:51,460
Zertifizierungskram da

3540
02:57:51,460 --> 02:57:59,060
durchmachen. Okay

3541
02:57:59,060 --> 02:58:01,060
Creation complete. A service

3542
02:58:01,060 --> 02:58:03,060
for the given source port is already defined.

3543
02:58:03,060 --> 02:58:05,060
Ich weiß du sollst es ja auch

3544
02:58:05,060 --> 02:58:07,060
nicht neu anlegen. Kekl alter.

3545
02:58:07,060 --> 02:58:09,060
Okay.

3546
02:58:09,060 --> 02:58:11,060
Ist jetzt ein wenigstens ein Zertifikat da.

3547
02:58:11,060 --> 02:58:19,300
Oh. Habe ich die Services

3548
02:58:19,300 --> 02:58:21,300
Oh ich glaube ich habe die Services

3549
02:58:21,300 --> 02:58:26,150
gerade gekillt.

3550
02:58:26,150 --> 02:58:28,150
Aber hätten wir dann theoretisch ein

3551
02:58:28,150 --> 02:58:30,150
TLS Termination

3552
02:58:30,150 --> 02:58:32,150
Zertifikat. Ach hier guck dir mal.

3553
02:58:32,150 --> 02:58:34,150
Managed Cert. Da ist es doch.

3554
02:58:34,150 --> 02:58:38,620
Aber das sollte nicht

3555
02:58:38,620 --> 02:58:40,620
Managed Cert heißen. Managed Cert ist ein

3556
02:58:40,620 --> 02:58:42,620
ziemlicher Kackname. Ich muss bloß aufpassen

3557
02:58:42,620 --> 02:58:44,620
Leute. Ich darf nicht so viele Zertifikat

3558
02:58:44,620 --> 02:58:46,620
also Let's Encrypt hat jetzt

3559
02:58:46,620 --> 02:58:48,620
relativ großzügige Limits aber

3560
02:58:48,620 --> 02:58:50,620
halt doch

3561
02:58:50,620 --> 02:58:52,620
hat schon halt

3562
02:58:52,620 --> 02:58:56,950
Limits.

3563
02:58:56,950 --> 02:58:58,950
So. Das Zertifikat heißt

3564
02:58:58,950 --> 02:59:00,950
Qt Chat

3565
02:59:00,950 --> 02:59:04,390
Cert

3566
02:59:04,390 --> 02:59:12,180
So.

3567
02:59:12,180 --> 02:59:14,180
Und jetzt müssen wir

3568
02:59:14,180 --> 02:59:16,180
auf den Loadbalancer Service

3569
02:59:16,180 --> 02:59:19,620
auf den Loadbalancer Service

3570
02:59:19,620 --> 02:59:21,620
und dem sagen, dass der

3571
02:59:21,620 --> 02:59:23,620
dieses Zertifikat verwenden soll. Also wahrscheinlich

3572
02:59:23,620 --> 02:59:27,320
hier

3573
02:59:27,320 --> 02:59:29,320
Hier. Dem muss ich nämlich sagen, dass er Zertifikate

3574
02:59:29,320 --> 02:59:31,320
verwenden soll. Und

3575
02:59:31,320 --> 02:59:33,320
dementsprechend muss ich das Zertifikat

3576
02:59:33,320 --> 02:59:35,320
vor dem Service erstellen

3577
02:59:35,320 --> 02:59:37,320
weil ansonsten wird das nix.

3578
02:59:37,320 --> 02:59:39,320
Was genau ist ein Wildcard Zertifikat eigentlich?

3579
02:59:39,320 --> 02:59:41,320
Das ist ein Zertifikat was für alles

3580
02:59:41,320 --> 02:59:43,320
gültig ist unterhalb von kekw.services

3581
02:59:43,320 --> 02:59:45,320
für Sternchenpunkt

3582
02:59:45,320 --> 02:59:47,320
kekw.services. Normalerweise würdest du

3583
02:59:47,320 --> 02:59:49,320
oder normalerweise würdest

3584
02:59:49,320 --> 02:59:51,320
du das Zertifikat ausstellen für diese

3585
02:59:51,320 --> 02:59:53,320
Domain. lul.kekw.services

3586
02:59:53,320 --> 02:59:55,320
Dann bräuchtest du für jede

3587
02:59:55,320 --> 02:59:57,320
Domain ein extra. Ich meine können wir an der

3588
02:59:57,320 --> 02:59:59,320
Stelle eigentlich jetzt auch mal machen ehrlich

3589
02:59:59,320 --> 03:00:01,320
gesagt.

3590
03:00:01,320 --> 03:00:03,320
Wir können dann auch noch ein DNS

3591
03:00:03,320 --> 03:00:05,320
Eintrag machen falls das über Terraform

3592
03:00:05,320 --> 03:00:07,320
geht. Ja DNS Eintrag. Das muss ich

3593
03:00:07,320 --> 03:00:09,320
mal noch. DNS.

3594
03:00:09,320 --> 03:00:11,320
Muss ich mal gucken wie wir das machen.

3595
03:00:11,320 --> 03:00:13,320
Ja wir stellen uns ein Zertifikat hierfür

3596
03:00:13,320 --> 03:00:15,320
aus. Ja also wir haben jetzt hier irgendwie

3597
03:00:15,320 --> 03:00:17,320
Hello.

3598
03:00:17,320 --> 03:00:19,320
Hello.kekw.services

3599
03:00:19,320 --> 03:00:21,320
Haben wir jetzt.

3600
03:00:21,320 --> 03:00:23,320
Und die Label

3601
03:00:23,320 --> 03:00:25,320
brauche ich nicht. Die sind unsinnig.

3602
03:00:25,320 --> 03:00:27,320
Und wie kriege ich denn jetzt hier den

3603
03:00:27,320 --> 03:00:29,320
das Zertifikat

3604
03:00:29,320 --> 03:00:31,320
da rein.

3605
03:00:31,320 --> 03:00:33,320
Also Protokoll kann http

3606
03:00:33,320 --> 03:00:35,320
https sein. Listenport

3607
03:00:35,320 --> 03:00:37,320
muss logischerweise 443 sein.

3608
03:00:37,320 --> 03:00:39,320
Destinationport port 80.

3609
03:00:39,320 --> 03:00:47,370
Wo sich nur

3610
03:00:47,370 --> 03:00:49,370
Cuties rumtreiben dürfen. Ist doch so.

3611
03:00:49,370 --> 03:00:51,370
Chat oder ist das hier nicht so.

3612
03:00:51,370 --> 03:00:53,370
Ich dachte hier sind einzig

3613
03:00:53,370 --> 03:00:55,370
und alleine Cuties

3614
03:00:55,370 --> 03:01:00,280
unterwegs. Oder oder

3615
03:01:00,280 --> 03:01:02,280
nicht. Jetzt

3616
03:01:02,280 --> 03:01:11,610
enttäuscht mich nicht Chat.

3617
03:01:11,610 --> 03:01:13,610
Chat hat kein Bock was zu zu sagen.

3618
03:01:13,610 --> 03:01:15,610
Also.

3619
03:01:15,610 --> 03:01:17,610
Deswegen lurke ich nur.

3620
03:01:17,610 --> 03:01:19,610
Vielleicht liegt es daran ja.

3621
03:01:19,610 --> 03:01:21,610
Vielleicht hast du Angst ausgeschlossen

3622
03:01:21,610 --> 03:01:23,610
zu werden aus dem Cutie Chat.

3623
03:01:23,610 --> 03:01:25,610
Hälfte

3624
03:01:25,610 --> 03:01:27,610
Weep Hälfte

3625
03:01:27,610 --> 03:01:29,610
Giga Chat.

3626
03:01:29,610 --> 03:01:31,610
Ganz bestimmt ja.

3627
03:01:31,610 --> 03:01:33,610
Manche Leute sind Giga Chat und Weep in einem.

3628
03:01:33,610 --> 03:01:35,610
Geht das

3629
03:01:35,610 --> 03:01:37,610
überhaupt.

3630
03:01:37,610 --> 03:01:39,610
Da haben die Nemers was dagegen.

3631
03:01:39,610 --> 03:01:41,610
So wo gebe ich denn jetzt hier das Zertifikat an.

3632
03:01:41,610 --> 03:01:45,050
Enable

3633
03:01:45,050 --> 03:01:47,050
Protokoll Support.

3634
03:01:47,050 --> 03:01:50,870
Was auch immer.

3635
03:01:50,870 --> 03:01:52,870
Certificates hier.

3636
03:01:52,870 --> 03:01:54,870
List of IDs from Certificates with

3637
03:01:54,870 --> 03:01:56,870
Loadbalancer. Ok.

3638
03:01:56,870 --> 03:01:58,870
Also gebe ich jetzt hier

3639
03:01:58,870 --> 03:02:00,870
Redirect http. Ja das wollen wir auch.

3640
03:02:00,870 --> 03:02:05,660
http support

3641
03:02:05,660 --> 03:02:07,660
Sie wollten hinschreiben https supports

3642
03:02:07,660 --> 03:02:21,530
wahrscheinlich.

3643
03:02:21,530 --> 03:02:23,530
Die wollten https support schreiben.

3644
03:02:23,530 --> 03:02:31,640
Also Certificates kann ich

3645
03:02:31,640 --> 03:02:33,640
da jetzt hinschreiben.

3646
03:02:33,640 --> 03:02:35,640
Cert. Ne.

3647
03:02:35,640 --> 03:02:39,850
Hm.

3648
03:02:39,850 --> 03:02:41,850
Gibt es hier angeblich gar nicht.

3649
03:02:41,850 --> 03:02:46,060
http supports

3650
03:02:46,060 --> 03:02:48,060
the following fields.

3651
03:02:48,060 --> 03:02:50,060
Wie http. Kann ich

3652
03:02:50,060 --> 03:02:54,010
einfach http jetzt.

3653
03:02:54,010 --> 03:02:56,010
Ok das finde ich irgendwie.

3654
03:02:56,010 --> 03:02:58,010
Das habe ich noch nicht so genau kapiert.

3655
03:02:58,010 --> 03:03:00,010
Wann man Sachen hier inline schreiben darf.

3656
03:03:00,010 --> 03:03:02,010
Und wann man extra Ressourcen

3657
03:03:02,010 --> 03:03:06,150
anlegen muss. Ok.

3658
03:03:06,150 --> 03:03:08,150
http supports

3659
03:03:08,150 --> 03:03:10,150
fields. Ok.

3660
03:03:10,150 --> 03:03:12,150
Also.

3661
03:03:12,150 --> 03:03:14,150
Certificate.

3662
03:03:14,150 --> 03:03:16,150
Oder das muss sogar https sein.

3663
03:03:16,150 --> 03:03:20,360
Redirect http.

3664
03:03:20,360 --> 03:03:22,360
Certificates.

3665
03:03:22,360 --> 03:03:24,360
Und da jetzt

3666
03:03:24,360 --> 03:03:26,360
eine Liste mit den IDs.

3667
03:03:26,360 --> 03:03:28,360
So. Die Liste

3668
03:03:28,360 --> 03:03:30,360
von den IDs ist ja

3669
03:03:30,360 --> 03:03:32,360
hcloud.managezertifikat

3670
03:03:32,360 --> 03:03:35,670
cutechatcert.

3671
03:03:35,670 --> 03:03:37,670
Für was ist reverse DNS gut?

3672
03:03:37,670 --> 03:03:39,670
Naja. Für was ist DNS gut?

3673
03:03:39,670 --> 03:03:41,670
DNS ist gut um Namen zu

3674
03:03:41,670 --> 03:03:43,670
IPs aufzulösen.

3675
03:03:43,670 --> 03:03:45,670
Und jetzt bist du dran Logical.

3676
03:03:45,670 --> 03:03:49,300
Für was ist reverse DNS gut?

3677
03:03:49,300 --> 03:03:51,300
Bei DNS löst du Namen zu IPs auf.

3678
03:03:51,300 --> 03:04:09,210
Was machst du mit reverse DNS?

3679
03:04:09,210 --> 03:04:11,210
Du hast es falsch gelesen. Du hast reverse Proxy gelesen.

3680
03:04:11,210 --> 03:04:13,210
Also was Lithium schreibt ist

3681
03:04:13,210 --> 03:04:15,210
Schwachsinn. Musst du dir nicht merken.

3682
03:04:15,210 --> 03:04:17,210
Also. DNS löst

3683
03:04:17,210 --> 03:04:19,210
Namen zu IPs auf.

3684
03:04:19,210 --> 03:04:21,210
Und reverse DNS löst IPs zu Namen auf.

3685
03:04:21,210 --> 03:04:37,130
Man muss aber sagen.

3686
03:04:37,130 --> 03:04:39,130
In DNS kann

3687
03:04:39,130 --> 03:04:41,130
ähm

3688
03:04:41,130 --> 03:04:43,130
Ein Name

3689
03:04:43,130 --> 03:04:45,130
Kann im Zweifelsfall

3690
03:04:45,130 --> 03:04:47,130
mehrere

3691
03:04:47,130 --> 03:04:49,130
IPs auflösen. Ja.

3692
03:04:49,130 --> 03:04:51,130
Zu mehreren IPs.

3693
03:04:51,130 --> 03:04:53,130
Aber was nicht geht ist.

3694
03:04:53,130 --> 03:04:55,130
Du kannst nicht eine

3695
03:04:55,130 --> 03:04:57,130
IP zu mehreren Namen

3696
03:04:57,130 --> 03:04:59,130
reverse auflösen lassen.

3697
03:04:59,130 --> 03:05:06,090
So. cutechatcert

3698
03:05:06,090 --> 03:05:08,090
destination port

3699
03:05:08,090 --> 03:05:12,300
So. redirect

3700
03:05:12,300 --> 03:05:14,300
redirect http

3701
03:05:14,300 --> 03:05:16,300
true 0w

3702
03:05:16,300 --> 03:05:18,300
Ok. Wenn jetzt alles

3703
03:05:18,300 --> 03:05:20,300
funktioniert Leute.

3704
03:05:20,300 --> 03:05:22,300
Sollten wir

3705
03:05:22,300 --> 03:05:24,300
gleich ein Loadbalancer haben mit

3706
03:05:24,300 --> 03:05:26,300
gültigem Zertifikat.

3707
03:05:26,300 --> 03:05:28,300
Und dann fehlt uns noch der DNS.

3708
03:05:28,300 --> 03:05:30,300
Apply

3709
03:05:30,300 --> 03:05:32,300
Ach fuck. Na super.

3710
03:05:32,300 --> 03:05:34,300
Das wäre ja zu einfach.

3711
03:05:34,300 --> 03:05:36,300
Incorrect attribute.

3712
03:05:36,300 --> 03:05:38,300
Zertifikat. Achso. Punkt ID fehlt.

3713
03:05:38,300 --> 03:05:42,440
Punkt ID.

3714
03:05:42,440 --> 03:05:46,390
Aha.

3715
03:05:46,390 --> 03:05:48,390
Modifications complete.

3716
03:05:48,390 --> 03:05:50,390
Was macht der Loadbalancer?

3717
03:05:52,390 --> 03:05:54,390
Discard changes.

3718
03:05:54,390 --> 03:05:58,790
Der Loadbalancer macht noch gar nichts.

3719
03:05:58,790 --> 03:06:08,120
Warum legt der

3720
03:06:08,120 --> 03:06:10,120
neue IPs an? Hä?

3721
03:06:10,120 --> 03:06:12,120
Ok. Ich sag nix.

3722
03:06:12,120 --> 03:06:14,120
Still creating.

3723
03:06:14,120 --> 03:06:16,120
Ja. Das Zertifikat erstellen dauert 30-40 Sekunden.

3724
03:06:16,120 --> 03:06:20,330
So.

3725
03:06:20,330 --> 03:06:22,330
Creating. LB service. Alles klar.

3726
03:06:22,330 --> 03:06:24,330
Hat funktioniert.

3727
03:06:24,330 --> 03:06:26,330
So. Da sind wir.

3728
03:06:26,330 --> 03:06:28,330
Services.

3729
03:06:28,330 --> 03:06:30,330
Ja. Und.

3730
03:06:30,330 --> 03:06:34,220
Wo?

3731
03:06:34,220 --> 03:06:36,220
Ja. Der braucht kurz.

3732
03:06:36,220 --> 03:06:38,220
Der Heißkater ist reingedrückt.

3733
03:06:38,220 --> 03:06:40,220
Wo sehe ich denn jetzt die Zertifikate?

3734
03:06:40,220 --> 03:06:42,220
cutechatcert. Da sind wir.

3735
03:06:42,220 --> 03:06:44,220
Zack. Funst.

3736
03:06:44,220 --> 03:06:46,220
Das wird sich

3737
03:06:46,220 --> 03:06:48,220
gleich wieder erholen hier.

3738
03:06:48,220 --> 03:06:54,020
Geh ich mal von aus.

3739
03:06:54,020 --> 03:06:57,910
So. Wunderbar.

3740
03:06:57,910 --> 03:06:59,910
Jetzt fehlt bloß noch DNS.

3741
03:06:59,910 --> 03:07:01,910
DNS.

3742
03:07:01,910 --> 03:07:03,910
Aber das funktioniert wahrscheinlich

3743
03:07:03,910 --> 03:07:11,580
nicht. Wo war jetzt

3744
03:07:11,580 --> 03:07:13,580
Hetzner Cloud Reverse Entry?

3745
03:07:13,580 --> 03:07:24,540
Ähm.

3746
03:07:24,540 --> 03:07:26,540
Ne. Ich brauch DNS Einträge.

3747
03:07:26,540 --> 03:07:30,680
Terraform

3748
03:07:30,680 --> 03:07:32,680
Hetzner DNS.

3749
03:07:32,680 --> 03:07:34,680
Hetzner

3750
03:07:34,680 --> 03:07:40,490
DNS Record.

3751
03:07:40,490 --> 03:07:42,490
Vielleicht gibt es die hier. Guck mal.

3752
03:07:42,490 --> 03:07:44,490
Hetzner DNS Record Resource.

3753
03:07:44,490 --> 03:07:46,490
So. So. Was gibt es noch bei Hetzner?

3754
03:07:46,490 --> 03:07:49,860
Ach. Das sind jetzt.

3755
03:07:49,860 --> 03:07:51,860
Das sind jetzt

3756
03:07:51,860 --> 03:07:53,860
User Dinger.

3757
03:07:53,860 --> 03:08:00,950
Hetzner DNS.

3758
03:08:00,950 --> 03:08:05,930
API Token. Hetzner DNS API Token.

3759
03:08:05,930 --> 03:08:07,930
Okay. Das hat mit der Cloud nichts zu tun.

3760
03:08:07,930 --> 03:08:09,930
Ne. Dann kann ich das so nicht machen.

3761
03:08:09,930 --> 03:08:11,930
Aber was ich machen kann ist

3762
03:08:11,930 --> 03:08:13,930
jetzt von Hand den DNS

3763
03:08:13,930 --> 03:08:18,200
Eintrag zu machen.

3764
03:08:18,200 --> 03:08:20,200
Chat. Ihr müsst mal kurz weggucken.

3765
03:08:20,200 --> 03:08:22,200
Ich bin mir nicht ganz sicher was man sieht.

3766
03:08:22,200 --> 03:08:24,200
Wenn ich den.

3767
03:08:24,200 --> 03:08:28,340
Ich bin mir nicht ganz sicher was man sieht.

3768
03:08:28,340 --> 03:08:30,340
Wenn ich die DNS Settings aufmache.

3769
03:08:30,340 --> 03:08:38,390
DNS Settings.

3770
03:08:38,390 --> 03:08:40,390
Ne. Man sieht gar nichts.

3771
03:08:40,390 --> 03:08:43,960
Man sieht. Man sieht überhaupt nichts.

3772
03:08:43,960 --> 03:08:45,960
Nichts. Nichts Schlimmes.

3773
03:08:45,960 --> 03:08:47,960
So.

3774
03:08:47,960 --> 03:08:51,980
Display.

3775
03:08:51,980 --> 03:08:55,350
Ne. Man sieht überhaupt nichts Schlimmes.

3776
03:08:55,350 --> 03:08:57,350
Also. Queque Service. Können wir hinzufügen.

3777
03:08:57,350 --> 03:08:59,350
Gut. Das müsste man

3778
03:08:59,350 --> 03:09:01,350
halt gucken wie man da

3779
03:09:01,350 --> 03:09:03,350
Hetzner DNS

3780
03:09:03,350 --> 03:09:12,420
API.

3781
03:09:12,420 --> 03:09:17,270
API Zugriffstoken erstellen.

3782
03:09:17,270 --> 03:09:19,270
Okay. Das gucken wir uns

3783
03:09:19,270 --> 03:09:21,270
Das gucken wir uns das nächste Mal.

3784
03:09:21,270 --> 03:09:23,270
Also das nächste Mal muss ich mal aufschreiben.

3785
03:09:23,270 --> 03:09:25,270
Stream Ideen.

3786
03:09:25,270 --> 03:09:27,270
Ähm. Hier. Pulumi

3787
03:09:27,270 --> 03:09:29,270
hieß das was?

3788
03:09:29,270 --> 03:09:31,270
Terraform Alternative

3789
03:09:31,270 --> 03:09:33,270
Hetzner DNS

3790
03:09:33,270 --> 03:09:35,270
API Terraform

3791
03:09:35,270 --> 03:09:37,270
Ja. Weil wir sollten die Loadbalancer

3792
03:09:37,270 --> 03:09:39,270
schon automatisch in DNS aufnehmen.

3793
03:09:39,270 --> 03:09:41,270
Zumindest was wir jetzt machen müssen

3794
03:09:41,270 --> 03:09:43,270
ist folgendes.

3795
03:09:43,270 --> 03:09:45,270
Ich muss die IP vom Loadbalancer

3796
03:09:45,270 --> 03:09:47,270
nehmen. Die da.

3797
03:09:47,270 --> 03:09:49,270
Public IP vom Loadbalancer.

3798
03:09:49,270 --> 03:09:51,270
Und ein A-Record anlegen. Und zwar

3799
03:09:51,270 --> 03:09:53,270
für. Was? Für Hello

3800
03:09:53,270 --> 03:09:55,270
Queque.Services

3801
03:09:55,270 --> 03:09:57,270
Also A-Record

3802
03:09:57,270 --> 03:09:59,270
und die IP. Ach guckt mal da.

3803
03:09:59,270 --> 03:10:01,270
Ah. Den Loadbalancer

3804
03:10:01,270 --> 03:10:07,530
kann ich aber nicht.

3805
03:10:07,530 --> 03:10:09,530
Den Loadbalancer kann ich aber nicht auswählen.

3806
03:10:09,530 --> 03:10:11,530
Die Nodes kann ich auswählen.

3807
03:10:11,530 --> 03:10:13,530
Den Loadbalancer kann ich nicht auswählen.

3808
03:10:13,530 --> 03:10:20,490
Ne. Okay. Das ist. Das ist.

3809
03:10:20,490 --> 03:10:22,490
Das müssen sie noch anpassen.

3810
03:10:22,490 --> 03:10:24,490
Weil ich will ja nicht auf den Server Loadbalancen.

3811
03:10:24,490 --> 03:10:26,490
Ich will ja auf den.

3812
03:10:26,490 --> 03:10:28,490
Auf den Loadbalancer auflösen.

3813
03:10:28,490 --> 03:10:30,490
So. Und jetzt müsstet ihr gleich.

3814
03:10:30,490 --> 03:10:32,490
A-Record

3815
03:10:32,490 --> 03:10:34,490
Jetzt müsstet ihr gleich

3816
03:10:34,490 --> 03:10:36,490
von euch aus.

3817
03:10:36,490 --> 03:10:38,490
Wenn das auflösen geht.

3818
03:10:38,490 --> 03:10:45,000
Noch. Noch löst er nicht auf.

3819
03:10:45,000 --> 03:10:47,000
Oh.

3820
03:10:47,000 --> 03:10:49,000
Ich habs auch falsch gemacht.

3821
03:10:49,000 --> 03:10:51,000
Es ist Hello.Queque.Services

3822
03:10:51,000 --> 03:10:54,440
Alles klar.

3823
03:10:54,440 --> 03:10:56,440
Aber kaum macht man das richtig. Funktioniert's auch.

3824
03:10:56,440 --> 03:11:07,300
Haha. Auflösung geht.

3825
03:11:07,300 --> 03:11:10,870
Ich selbst kann es

3826
03:11:10,870 --> 03:11:14,950
noch nicht auflösen.

3827
03:11:14,950 --> 03:11:16,950
Warum nicht?

3828
03:11:16,950 --> 03:11:18,950
Aber Google. Moment.

3829
03:11:18,950 --> 03:11:20,950
Eben konnte es Google noch auflösen.

3830
03:11:20,950 --> 03:11:30,220
Okay. Das ist noch nicht so ganz

3831
03:11:30,220 --> 03:11:36,020
propagated würde ich sagen.

3832
03:11:36,020 --> 03:11:38,020
Geht's bei euch schon?

3833
03:11:38,020 --> 03:11:40,020
Was sagt Cloudflare dazu?

3834
03:11:40,020 --> 03:11:42,020
Cloudflare hat's schon

3835
03:11:42,020 --> 03:11:50,460
gecheckt.

3836
03:11:50,460 --> 03:11:52,460
Wie kann ich den lokalen

3837
03:11:52,460 --> 03:11:54,460
Linux Clear DNS Cache

3838
03:11:54,460 --> 03:12:01,540
Was?

3839
03:12:01,540 --> 03:12:08,440
System D Resolve?

3840
03:12:08,440 --> 03:12:10,440
Ne. Ich hab kein System D Resolve.

3841
03:12:10,440 --> 03:12:15,860
Äh.

3842
03:12:15,860 --> 03:12:17,860
Weiß ich auch aus dem Kopf nicht.

3843
03:12:19,860 --> 03:12:21,860
War das Arp? Arp minus Dings?

3844
03:12:21,860 --> 03:12:27,990
Oder Ubuntu?

3845
03:12:27,990 --> 03:12:29,990
Ah. Wunderbar.

3846
03:12:29,990 --> 03:12:34,840
Ja. Sag mir wie's geht.

3847
03:12:34,840 --> 03:12:38,150
System D Resolve?

3848
03:12:38,150 --> 03:12:40,150
Weiß ich nicht. Anscheinend macht's das.

3849
03:12:42,150 --> 03:12:44,150
Ich hab doch kein System D Resolve.

3850
03:12:44,150 --> 03:12:47,530
Ne.

3851
03:12:47,530 --> 03:12:49,530
Ich hab keine Ahnung.

3852
03:12:49,530 --> 03:12:51,530
Du kommst auf die Default-Site.

3853
03:12:51,530 --> 03:12:53,530
Ja. Das ist richtig.

3854
03:12:53,530 --> 03:12:57,800
Ping.

3855
03:12:57,800 --> 03:12:59,800
pinghello.kegw.services

3856
03:12:59,800 --> 03:13:03,180
Hmm.

3857
03:13:03,180 --> 03:13:07,190
Also Leute. Aus irgendwelchen

3858
03:13:07,190 --> 03:13:13,960
Gründen.

3859
03:13:13,960 --> 03:13:15,960
Hab ich bei mir irgendwelche dummen

3860
03:13:15,960 --> 03:13:17,960
Weiterleitungen für kegw.services?

3861
03:13:17,960 --> 03:13:22,300
Hab ich in meinem

3862
03:13:24,300 --> 03:13:26,300
Hab ich vielleicht in meinem DNS

3863
03:13:26,300 --> 03:13:30,630
lokal Schwachsinn gemacht?

3864
03:13:30,630 --> 03:13:32,630
Sekunde.

3865
03:13:32,630 --> 03:13:34,630
Ich glaub nicht, dass es

3866
03:13:34,630 --> 03:13:36,630
Ich glaub das ist mein Router.

3867
03:13:36,630 --> 03:13:38,630
Der den Kram gecached hat.

3868
03:13:38,630 --> 03:13:42,200
Der DNS in meinem Router

3869
03:13:42,200 --> 03:13:44,200
hat das Ding gecached. Wart mal. IP

3870
03:13:44,200 --> 03:13:46,200
DNS Cache

3871
03:13:46,200 --> 03:13:48,200
Flush Cache

3872
03:13:48,200 --> 03:13:50,200
Ping

3873
03:13:50,200 --> 03:14:13,480
Fuck. Warum kennt

3874
03:14:13,480 --> 03:14:23,450
der das nicht? Der sagt

3875
03:14:23,450 --> 03:14:25,450
das ist Unknown. Und ich verwende

3876
03:14:25,450 --> 03:14:27,450
als Upstream den Google DNS.

3877
03:14:27,450 --> 03:14:40,100
Hä?

3878
03:14:40,100 --> 03:14:48,730
Das muss ich nicht verstehen, oder?

3879
03:14:48,730 --> 03:14:57,160
Ich hab keine Ahnung.

3880
03:14:57,160 --> 03:14:59,160
Ne, mein Windows löst das auch nicht auf. Warum nicht?

3881
03:14:59,160 --> 03:15:01,160
Aber bei euch geht's, oder was?

3882
03:15:01,160 --> 03:15:14,010
Irgendein

3883
03:15:14,010 --> 03:15:16,010
DNS bei mir auf dem Weg hat das gecached,

3884
03:15:16,010 --> 03:15:18,010
dass es das nicht gibt.

3885
03:15:18,010 --> 03:15:20,010
Das ist natürlich auch

3886
03:15:20,010 --> 03:15:29,210
toll. Gucken wir mal im Browser.

3887
03:15:29,210 --> 03:15:31,210
Hello.kegw.services

3888
03:15:31,210 --> 03:15:33,210
Nö.

3889
03:15:33,210 --> 03:15:38,820
Also ich darf meinen eigenen Kram nicht

3890
03:15:38,820 --> 03:15:40,820
aufrufen. Das ist natürlich auch geil.

3891
03:15:40,820 --> 03:15:42,820
Ne.

3892
03:15:42,820 --> 03:15:44,820
Ich seh schon in meinem Router, dass es Unknown ist.

3893
03:15:44,820 --> 03:15:46,820
Also sprich.

3894
03:15:46,820 --> 03:15:48,820
Google DNS oder so.

3895
03:15:48,820 --> 03:15:50,820
Hat das...

3896
03:15:50,820 --> 03:15:52,820
Ja guck mal, der Google DNS, der antwortet auch mit.

3897
03:15:52,820 --> 03:15:56,140
Der Google DNS ist sich

3898
03:15:56,140 --> 03:15:58,140
noch nicht einig, was Sache ist.

3899
03:15:58,140 --> 03:16:00,140
Der weiß es noch nicht.

3900
03:16:00,140 --> 03:16:02,140
Gucken wir mal.

3901
03:16:02,140 --> 03:16:04,140
Manchmal hat er, manchmal hat er nicht.

3902
03:16:04,140 --> 03:16:23,800
Naja, dass er...

3903
03:16:23,800 --> 03:16:34,410
Keine Ahnung. Gut.

3904
03:16:34,410 --> 03:16:47,450
Ach jetzt. Gucken wir mal.

3905
03:16:47,450 --> 03:16:49,450
Jetzt hat er es glaube ich kapiert.

3906
03:16:49,450 --> 03:16:55,960
Jetzt hat es auch der Google

3907
03:16:55,960 --> 03:16:57,960
DNS gecheckt. Okay.

3908
03:16:57,960 --> 03:16:59,960
Wo ist mein Router?

3909
03:16:59,960 --> 03:17:01,960
Da werfe ich es jetzt auch nochmal raus.

3910
03:17:01,960 --> 03:17:07,130
Okay.

3911
03:17:07,130 --> 03:17:14,310
Ping.

3912
03:17:14,310 --> 03:17:16,310
Ach jetzt funzt es. Okay.

3913
03:17:16,310 --> 03:17:18,310
Das war jetzt ja der größere Akt.

3914
03:17:18,310 --> 03:17:26,490
Kegwait.

3915
03:17:26,490 --> 03:17:42,410
Jetzt funktioniert es.

3916
03:17:42,410 --> 03:17:44,410
Okay Chat, ich muss mal

3917
03:17:44,410 --> 03:17:46,410
ein paar Fenster zumachen bei mir in der Vorschau.

3918
03:17:46,410 --> 03:17:48,410
Das ist definitiv

3919
03:17:48,410 --> 03:17:53,900
zu viel. So.

3920
03:17:53,900 --> 03:17:55,900
Okay das funktioniert.

3921
03:17:55,900 --> 03:17:57,900
Jetzt geht es bei mir auch. Und wir müssten

3922
03:17:57,900 --> 03:17:59,900
ein gültiges Zertifikat haben. Ja.

3923
03:17:59,900 --> 03:18:01,900
Guckt. Gültiges Zertifikat.

3924
03:18:01,900 --> 03:18:03,900
Connection is secure. Let's encrypt.

3925
03:18:03,900 --> 03:18:05,900
Ich meine es ist die Standardseite. Okay.

3926
03:18:05,900 --> 03:18:07,900
Meinetwegen. Lass es mir jetzt gefallen.

3927
03:18:07,900 --> 03:18:09,900
Also mit dem Deployment gucken wir uns dann

3928
03:18:09,900 --> 03:18:11,900
tatsächlich das nächste Mal an.

3929
03:18:11,900 --> 03:18:13,900
Ich bin ja schon mit 3 Stunden 18 wieder on.

3930
03:18:13,900 --> 03:18:15,900
Das ist schon schön lang.

3931
03:18:15,900 --> 03:18:17,900
Aber ich finde es nicht schlecht.

3932
03:18:17,900 --> 03:18:19,900
Also das ist nice. Das gefällt mir.

3933
03:18:19,900 --> 03:18:21,900
Jetzt bin ich mal gespannt, was der macht.

3934
03:18:23,900 --> 03:18:25,900
Was hat der denn für Schmerzen mit dem ersten

3935
03:18:25,900 --> 03:18:31,580
Service?

3936
03:18:31,580 --> 03:18:33,580
Was hat der mit diesem einen Node für Probleme?

3937
03:18:33,580 --> 03:18:35,580
Ich meine ich wette mit euch der Node funktioniert.

3938
03:18:35,580 --> 03:18:37,580
Vollkommen normal. Gar kein Problem.

3939
03:18:37,580 --> 03:18:42,870
Ich kann das ins Repo pushen.

3940
03:18:42,870 --> 03:18:44,870
Ja. Das hier kann ich pushen.

3941
03:18:44,870 --> 03:18:46,870
Git. Git Status.

3942
03:18:46,870 --> 03:18:55,140
Jaja.

3943
03:18:55,140 --> 03:18:57,140
Ähm.

3944
03:18:57,140 --> 03:19:01,160
Die. Was ist denn?

3945
03:19:01,160 --> 03:19:03,160
Hm. Wie macht man das jetzt richtig?

3946
03:19:03,160 --> 03:19:05,160
Terraform. Git.

3947
03:19:05,160 --> 03:19:11,860
Ignore.

3948
03:19:11,860 --> 03:19:19,660
TFState. Terraform.

3949
03:19:19,660 --> 03:19:21,660
Genau. Das brauche ich.

3950
03:19:21,660 --> 03:19:23,660
Ähm. Gibt es die Möglichkeit,

3951
03:19:23,660 --> 03:19:25,660
das Terraform Zeug vielleicht

3952
03:19:25,660 --> 03:19:27,660
in einem anderen Verzeichnis auszuführen?

3953
03:19:27,660 --> 03:19:42,040
Na gut.

3954
03:19:42,040 --> 03:19:44,040
Git Add. Machen wir mal Punkt.

3955
03:19:44,040 --> 03:19:46,040
Jetzt sollte der nur das

3956
03:19:46,040 --> 03:19:48,040
Verzeichnis. Ah ne. Der hat den anderen

3957
03:19:48,040 --> 03:19:52,630
Krempel auch mit geaddert. Das ist natürlich bescheuert.

3958
03:19:52,630 --> 03:19:54,630
Das ist natürlich doof.

3959
03:19:54,630 --> 03:19:56,630
Äh. Äh. Äh. Staged.

3960
03:19:56,630 --> 03:19:58,630
Ne. Äh. Git. Oh. Wie war das?

3961
03:19:58,630 --> 03:20:00,630
Äh.

3962
03:20:00,630 --> 03:20:02,630
Minus. Äh. Staged.

3963
03:20:02,630 --> 03:20:04,630
Git Reset.

3964
03:20:04,630 --> 03:20:06,630
Minus. Minus.

3965
03:20:06,630 --> 03:20:10,330
Staged.

3966
03:20:10,330 --> 03:20:12,330
Irgendwie so. Ne.

3967
03:20:12,330 --> 03:20:14,330
Oh Gott. Äh.

3968
03:20:14,330 --> 03:20:16,330
Git Add.

3969
03:20:16,330 --> 03:20:18,330
Wie macht man Git Add rückgängig

3970
03:20:18,330 --> 03:20:23,050
und nur Git Add.

3971
03:20:23,050 --> 03:20:25,050
Ne. Ne. Das ist mir. Das geht alles.

3972
03:20:25,050 --> 03:20:27,050
Git Rm. Minus. Minus.

3973
03:20:27,050 --> 03:20:41,430
Cached. Es ist Minus.

3974
03:20:41,430 --> 03:20:43,430
Minus. Staged.

3975
03:20:43,430 --> 03:20:45,430
Ich dachte auch, dass es Git Reset. Minus. Minus.

3976
03:20:45,430 --> 03:20:47,430
Staged ist. Ist es aber nicht.

3977
03:20:47,430 --> 03:20:49,430
Oh. Nicht Restore.

3978
03:20:49,430 --> 03:20:55,180
Nein. Nein. Nein.

3979
03:20:55,180 --> 03:20:57,180
Ich meine. Natürlich.

3980
03:20:57,180 --> 03:20:59,180
Das funktioniert. Es geht auch.

3981
03:20:59,180 --> 03:21:01,180
Ja. Also ich kann. Aber das kann ja nicht Sinn und Zweck.

3982
03:21:01,180 --> 03:21:03,180
Das kann ja nicht Sinn und Zweck der Sache sein.

3983
03:21:03,180 --> 03:21:10,780
Ja. Weil das.

3984
03:21:10,780 --> 03:21:12,780
Weil das alles.

3985
03:21:12,780 --> 03:21:14,780
In ein Repo soll. Das hat auch keinen Sinn.

3986
03:21:14,780 --> 03:21:16,780
Wenn ich den Krempel jetzt über.

3987
03:21:16,780 --> 03:21:18,780
50. 50. 50 Dinger verteile.

3988
03:21:18,780 --> 03:21:29,000
Ach so.

3989
03:21:29,000 --> 03:21:35,640
Ich bin jetzt echt verwirrt.

3990
03:21:35,640 --> 03:21:37,640
Wie das richtig gewesen ist.

3991
03:21:37,640 --> 03:21:39,640
Ich meine. Wir können einfach.

3992
03:21:39,640 --> 03:21:48,070
Wir können einfach den Krempel raushauen hier.

3993
03:21:48,070 --> 03:21:55,160
So. Wunderbar.

3994
03:21:55,160 --> 03:21:57,160
Ich will ja alles raushauen.

3995
03:21:57,160 --> 03:21:59,160
Okay. Wir brauchen ein ordentliches

3996
03:21:59,160 --> 03:22:01,160
Git Ignore.

3997
03:22:01,160 --> 03:22:03,160
Git Ignore.

3998
03:22:03,160 --> 03:22:11,780
Ne. Git Reset Punkt.

3999
03:22:11,780 --> 03:22:13,780
Reicht nicht.

4000
03:22:13,780 --> 03:22:15,780
Also. Infra. Slash.

4001
03:22:15,780 --> 03:22:17,780
Also hier. Wir brauchen das Git Ignore

4002
03:22:17,780 --> 03:22:19,780
File einfach davon. Easy.

4003
03:22:19,780 --> 03:22:25,850
Und wir schmeißen das

4004
03:22:25,850 --> 03:22:29,290
Git Ignore weg.

4005
03:22:29,290 --> 03:22:31,290
Git Ignore.

4006
03:22:31,290 --> 03:22:33,290
Machen neues.

4007
03:22:33,290 --> 03:22:36,790
Git Ignore.

4008
03:22:36,790 --> 03:22:38,790
Da pasten wir den Shit rein.

4009
03:22:38,790 --> 03:22:40,790
Gutes.

4010
03:22:40,790 --> 03:22:44,100
Add.

4011
03:22:44,100 --> 03:22:46,100
Ignore.

4012
03:22:46,100 --> 03:22:48,100
Jawoll. Das sieht gut aus.

4013
03:22:48,100 --> 03:22:50,100
Jetzt will er diesen ganzen Müll gar nicht

4014
03:22:50,100 --> 03:22:52,100
adden.

4015
03:22:52,100 --> 03:22:54,100
Terraform Lock?

4016
03:22:54,100 --> 03:22:56,100
Was ist das?

4017
03:22:56,100 --> 03:22:58,100
Das soll da definitiv auch nicht rein.

4018
03:22:58,100 --> 03:23:00,100
Siehste. Das Git.

4019
03:23:00,100 --> 03:23:02,100
Oder soll das da rein?

4020
03:23:02,100 --> 03:23:04,100
Soll das da rein?

4021
03:23:04,100 --> 03:23:06,100
Was steht denn da drinnen?

4022
03:23:06,100 --> 03:23:08,100
Ach ist das. Ist das quasi die.

4023
03:23:08,100 --> 03:23:10,100
Meine Dependencies oder. Oder. Hä?

4024
03:23:10,100 --> 03:23:12,100
Okay. Ne. Das wollen wir dann doch.

4025
03:23:12,100 --> 03:23:14,100
Mitnehmen.

4026
03:23:14,100 --> 03:23:16,100
Dann. Dann wollen wir das doch.

4027
03:23:16,100 --> 03:23:18,100
Okay. Also er addet das.

4028
03:23:18,100 --> 03:23:20,100
Den Controller.

4029
03:23:20,100 --> 03:23:22,100
Git Ignore.

4030
03:23:22,100 --> 03:23:24,100
Main TF.

4031
03:23:24,100 --> 03:23:26,100
Die API Keys lässt er aber glücklicherweise

4032
03:23:26,100 --> 03:23:36,070
raus. Das.

4033
03:23:36,070 --> 03:23:42,390
Das muss ich aber noch da rein schreiben.

4034
03:23:42,390 --> 03:23:44,390
So.

4035
03:23:44,390 --> 03:23:50,070
Nicht das er da auf blöde Ideen kommt.

4036
03:23:50,070 --> 03:23:52,070
Git Add. Minus A.

4037
03:23:52,070 --> 03:23:54,070
Bam.

4038
03:23:54,070 --> 03:23:56,070
Okay.

4039
03:23:56,070 --> 03:23:58,070
Gut.

4040
03:23:58,070 --> 03:24:00,070
Commit. A. Minus M.

4041
03:24:00,070 --> 03:24:02,070
Hackle.

4042
03:24:02,070 --> 03:24:04,070
Beste.

4043
03:24:04,070 --> 03:24:06,070
Git Lock. Minus 1. Minus.

4044
03:24:06,070 --> 03:24:08,070
Name. Only.

4045
03:24:08,070 --> 03:24:10,070
Zeigen was er Committed hat.

4046
03:24:10,070 --> 03:24:12,070
Ja. Die Main Terraform rein. Das Lock File.

4047
03:24:12,070 --> 03:24:14,070
Git Ignore. Irgendwie diesen neuen Service.

4048
03:24:14,070 --> 03:24:16,070
Was auch immer ich da dran gemacht hab.

4049
03:24:16,070 --> 03:24:18,070
Wann wird die Prediction aufgelöst?

4050
03:24:18,070 --> 03:24:20,070
Kurz bevor ich den Stream ausmache.

4051
03:24:20,070 --> 03:24:22,070
So. Okay.

4052
03:24:22,070 --> 03:24:24,070
Was wir jetzt nochmal probieren ist.

4053
03:24:24,070 --> 03:24:26,070
Wenn ich das jetzt.

4054
03:24:26,070 --> 03:24:28,070
Was hat der für Schmerzen.

4055
03:24:28,070 --> 03:24:30,070
Mit dem ersten Note man.

4056
03:24:30,070 --> 03:24:32,070
Vielleicht muss ich doch.

4057
03:24:32,070 --> 03:24:34,070
Irgendwelche Health Checks angeben.

4058
03:24:34,070 --> 03:24:36,070
Services.

4059
03:24:36,070 --> 03:24:40,790
Wo gibt man die Health Checks an?

4060
03:24:40,790 --> 03:24:42,790
Health Check.

4061
03:24:42,790 --> 03:24:53,590
Ja.

4062
03:24:53,590 --> 03:24:55,590
Ist eigentlich richtig.

4063
03:24:55,590 --> 03:24:57,590
Ist vollkommen okay.

4064
03:24:57,590 --> 03:24:59,590
Proxy Protokoll.

4065
03:24:59,590 --> 03:25:04,250
Äh.

4066
03:25:04,250 --> 03:25:06,250
Vollkommen in Ordnung.

4067
03:25:06,250 --> 03:25:08,250
Das ist ein anderer.

4068
03:25:08,250 --> 03:25:12,200
Was ist das so?

4069
03:25:12,200 --> 03:25:14,200
Das versteh ich nicht.

4070
03:25:14,200 --> 03:25:16,200
Zumindest wir sollten jetzt noch.

4071
03:25:16,200 --> 03:25:18,200
Discard Changes.

4072
03:25:18,200 --> 03:25:20,200
Also wir stoppen jetzt mal einfach alles.

4073
03:25:20,200 --> 03:25:22,200
Destroy. Bam.

4074
03:25:22,200 --> 03:25:24,200
Jetzt ist alles weg.

4075
03:25:24,200 --> 03:25:26,200
Ich hoffe mein Zertifikat ist noch da.

4076
03:25:26,200 --> 03:25:28,200
Oh nein.

4077
03:25:28,200 --> 03:25:33,240
Der macht das Zertifikat auch weg.

4078
03:25:33,240 --> 03:25:35,240
Das ist doof.

4079
03:25:35,240 --> 03:25:39,900
Dann läuft man relativ schnell in Let's Encrypt Limits.

4080
03:25:39,900 --> 03:25:41,900
Wollen wir mal kurz gucken.

4081
03:25:41,900 --> 03:25:43,900
Ob wirklich das Zertifikat weg ist.

4082
03:25:43,900 --> 03:25:45,900
TLS bye bye.

4083
03:25:45,900 --> 03:25:53,880
Das ist wirklich weg.

4084
03:25:53,880 --> 03:26:10,760
Gibt das irgendwie die Möglichkeit.

4085
03:26:10,760 --> 03:26:12,760
Was zu protecten.

4086
03:26:12,760 --> 03:26:14,760
From Deletion.

4087
03:26:14,760 --> 03:26:16,760
Ne das ist.

4088
03:26:16,760 --> 03:26:18,760
Das ist pro Domain.

4089
03:26:18,760 --> 03:26:22,390
Terraform.

4090
03:26:22,390 --> 03:26:24,390
Ich hab vorhin irgendwas mit Life Cycle Hooks gelesen.

4091
03:26:24,390 --> 03:26:26,390
Dass man ihm sagen kann.

4092
03:26:26,390 --> 03:26:28,390
Ne Create Before Destroy.

4093
03:26:28,390 --> 03:26:30,390
War das nicht.

4094
03:26:30,390 --> 03:26:32,390
Prevent Destroy.

4095
03:26:32,390 --> 03:26:37,240
Achso ne.

4096
03:26:37,240 --> 03:26:52,710
Dann gibt es ein Error.

4097
03:26:52,710 --> 03:26:56,980
Aber das ist nicht das was ich haben will.

4098
03:26:56,980 --> 03:26:58,980
Prevent.

4099
03:26:58,980 --> 03:27:00,980
Destroy.

4100
03:27:00,980 --> 03:27:09,220
Certificate.

4101
03:27:09,220 --> 03:27:11,220
Ich glaube das muss man dann anderweitig machen.

4102
03:27:13,220 --> 03:27:15,220
Und kann das nicht in dieses Playbook.

4103
03:27:15,220 --> 03:27:18,980
Reinschreiben.

4104
03:27:18,980 --> 03:27:20,980
Da müsste ich mir was überlegen.

4105
03:27:20,980 --> 03:27:22,980
Aber wir schauen jetzt mal.

4106
03:27:22,980 --> 03:27:24,980
Ob das komplette Neuaufbauen.

4107
03:27:24,980 --> 03:27:31,180
Ordentlich funktioniert.

4108
03:27:31,180 --> 03:27:33,180
Eigentlich wisst ihr was ich will.

4109
03:27:33,180 --> 03:27:35,180
Ich will das der nur guckt das das Zertifikat da ist.

4110
03:27:35,180 --> 03:27:39,060
Aber es nie löscht.

4111
03:27:39,060 --> 03:27:41,060
Sowas gibt es aber wahrscheinlich nicht oder.

4112
03:27:41,060 --> 03:27:43,060
So Add Only.

4113
03:27:43,060 --> 03:27:45,060
Mit State AM aus dem State löschen.

4114
03:27:45,060 --> 03:27:55,420
Five Head Time.

4115
03:27:55,420 --> 03:28:10,060
Da gibt es bestimmt was.

4116
03:28:10,060 --> 03:28:12,060
Wie das besser funktioniert.

4117
03:28:12,060 --> 03:28:21,380
Ich will ja kein existierendes benutzen.

4118
03:28:21,380 --> 03:28:23,380
Ich will ein neues hinzufügen.

4119
03:28:23,380 --> 03:28:25,380
Wenn das noch nicht da ist.

4120
03:28:25,380 --> 03:28:27,380
Aber er soll beim Down das nicht löschen.

4121
03:28:27,380 --> 03:28:29,380
Also ich glaube.

4122
03:28:29,380 --> 03:28:31,380
Ich muss das anderweitig machen.

4123
03:28:31,380 --> 03:28:33,380
Ich muss das selbst generieren.

4124
03:28:33,380 --> 03:28:35,380
Und dann kann ich genau.

4125
03:28:35,380 --> 03:28:37,380
Dann kann ich eins hinzufügen.

4126
03:28:37,380 --> 03:28:39,380
Anderweitig.

4127
03:28:39,380 --> 03:28:41,380
Jaja.

4128
03:28:41,380 --> 03:28:43,380
So löscht der das halt automatisch.

4129
03:28:43,380 --> 03:28:52,200
Prevent Destroy.

4130
03:28:52,200 --> 03:29:05,690
Certificates.

4131
03:29:05,690 --> 03:29:07,690
Da steht doch gar nichts über Zertifikate drinnen.

4132
03:29:07,690 --> 03:29:09,690
Cake Wait.

4133
03:29:09,690 --> 03:29:17,420
Ja das ergibt keinen Sinn.

4134
03:29:17,420 --> 03:29:19,420
Das stimmt schon.

4135
03:29:19,420 --> 03:29:21,420
Das muss ich anders.

4136
03:29:21,420 --> 03:29:23,420
Ich muss das selbst.

4137
03:29:23,420 --> 03:29:25,420
Ich muss das selbst mir generieren.

4138
03:29:25,420 --> 03:29:27,420
Mit einem Zert Button.

4139
03:29:27,420 --> 03:29:29,420
Und dann uploaden.

4140
03:29:29,420 --> 03:29:31,420
Irgendwie so.

4141
03:29:31,420 --> 03:29:33,420
Da muss ich mir was überlegen zu.

4142
03:29:33,420 --> 03:29:35,420
Aber ich werde den Kram jetzt nochmal hochladen.

4143
03:29:35,420 --> 03:29:37,420
Und gucken ob jetzt alles funktioniert.

4144
03:29:37,420 --> 03:29:42,460
Mit dem Anlegen.

4145
03:29:42,460 --> 03:29:44,460
Aber den Loadbalancer.

4146
03:29:44,460 --> 03:29:46,460
Ganz im Ernst.

4147
03:29:46,460 --> 03:29:48,460
Den Loadbalancer machen wir nach den Servern.

4148
03:29:48,460 --> 03:29:55,990
Also quasi.

4149
03:29:55,990 --> 03:29:57,990
Diesen ganzen Krempel.

4150
03:29:57,990 --> 03:29:59,990
Loadbalancer.

4151
03:29:59,990 --> 03:30:01,990
Wenn der Server.

4152
03:30:01,990 --> 03:30:03,990
Fertig ist.

4153
03:30:03,990 --> 03:30:05,990
Depends on das Netzwerk.

4154
03:30:05,990 --> 03:30:07,990
Ist tatsächlich sinnvoll.

4155
03:30:07,990 --> 03:30:13,800
Und jetzt.

4156
03:30:13,800 --> 03:30:15,800
Das können wir jetzt hier.

4157
03:30:15,800 --> 03:30:26,090
Depends on.

4158
03:30:26,090 --> 03:30:30,040
Wie habe ich das?

4159
03:30:30,040 --> 03:30:32,040
Einfach nur Node.

4160
03:30:32,040 --> 03:30:34,040
Benennen wir um.

4161
03:30:34,040 --> 03:30:38,380
Depends on.

4162
03:30:38,380 --> 03:30:40,380
H-Server.

4163
03:30:40,380 --> 03:30:42,380
Gut.

4164
03:30:42,380 --> 03:30:44,380
So und.

4165
03:30:44,380 --> 03:30:46,380
Da können wir das nämlich weg machen.

4166
03:30:46,380 --> 03:30:48,380
Weil die Server ja schon dependen an das Netz.

4167
03:30:48,380 --> 03:30:50,380
Oder kann ich das weglassen.

4168
03:30:50,380 --> 03:30:53,880
Wenn das danach kommt.

4169
03:30:53,880 --> 03:31:05,260
Werden wir gleich sehen.

4170
03:31:05,260 --> 03:31:07,260
Ich habe ja auch gesagt.

4171
03:31:07,260 --> 03:31:09,260
Ich soll das besser angeben.

4172
03:31:09,260 --> 03:31:11,260
Na schauen wir mal.

4173
03:31:11,260 --> 03:31:13,260
Also Apply.

4174
03:31:13,260 --> 03:31:15,260
Mal gucken ob das jetzt alles funktioniert.

4175
03:31:15,260 --> 03:31:17,260
So.

4176
03:31:17,260 --> 03:31:19,260
Create, create, create.

4177
03:31:19,260 --> 03:31:21,260
Server create.

4178
03:31:21,260 --> 03:31:28,730
Ja Server.

4179
03:31:28,730 --> 03:31:30,730
Createn.

4180
03:31:30,730 --> 03:31:32,730
Creation complete.

4181
03:31:32,730 --> 03:31:34,730
Netzwerk ist angelegt.

4182
03:31:34,730 --> 03:31:40,280
Loadbal-

4183
03:31:40,280 --> 03:31:42,280
Was?

4184
03:31:42,280 --> 03:31:47,130
Da drauf.

4185
03:31:47,130 --> 03:31:49,130
Was hat er jetzt denn für Schmerzen?

4186
03:31:49,130 --> 03:31:53,140
Add label selector.

4187
03:31:53,140 --> 03:31:55,140
Target loadbar is not attached to a network.

4188
03:31:55,140 --> 03:32:01,850
Warum nicht?

4189
03:32:01,850 --> 03:32:03,850
Muss ich wirklich sagen?

4190
03:32:03,850 --> 03:32:16,540
Depends on?

4191
03:32:16,540 --> 03:32:18,540
Ja.

4192
03:32:18,540 --> 03:32:20,540
Anscheinend.

4193
03:32:20,540 --> 03:32:28,650
Und wo hat er jetzt das Zertifikat her?

4194
03:32:28,650 --> 03:32:30,650
Wait a minute.

4195
03:32:30,650 --> 03:32:32,650
Das Zertifikat ist doch noch da.

4196
03:32:32,650 --> 03:32:34,650
Hat Hetzner das Zertifikat gecached?

4197
03:32:34,650 --> 03:32:47,940
Weil das ging definitiv zu schnell.

4198
03:32:47,940 --> 03:32:49,940
Das ging definitiv zu schnell.

4199
03:32:49,940 --> 03:32:53,770
Die haben das Zertifikat irgendwo gecached.

4200
03:32:53,770 --> 03:32:55,770
100 pro.

4201
03:32:55,770 --> 03:33:00,230
100 pro.

4202
03:33:00,230 --> 03:33:02,230
Unhealthy.

4203
03:33:02,230 --> 03:33:06,890
Oh jetzt ist gar nichts drinne.

4204
03:33:06,890 --> 03:33:08,890
Ja weil noch kein Nginx installiert ist.

4205
03:33:08,890 --> 03:33:18,020
Das wird jetzt gleich grün erst.

4206
03:33:18,020 --> 03:33:20,020
Ja.

4207
03:33:20,020 --> 03:33:22,020
Das muss jetzt erstmal.

4208
03:33:22,020 --> 03:33:24,020
Jetzt sollte das gleich checken, dass es wieder grün ist.

4209
03:33:24,020 --> 03:33:26,020
Wobei ist mir egal.

4210
03:33:26,020 --> 03:33:28,020
Ich destroy das jetzt nochmal.

4211
03:33:28,020 --> 03:33:36,070
Und guck ob es jetzt wenigstens durchläuft und funktioniert.

4212
03:33:36,070 --> 03:33:38,070
Kannst du nicht das Initscript?

4213
03:33:38,070 --> 03:33:40,070
Doch das würde ich gerne. Aber ich weiß nicht wie.

4214
03:33:40,070 --> 03:33:42,070
Ich würde gerne sagen hier.

4215
03:33:42,070 --> 03:33:44,070
Warten.

4216
03:33:44,070 --> 03:33:46,070
Bis das durch ist.

4217
03:33:46,070 --> 03:33:48,070
Ich weiß bloß nicht.

4218
03:33:48,070 --> 03:33:50,070
Okay warte mal.

4219
03:33:50,070 --> 03:33:52,070
Terraform wait for cloud init.

4220
03:33:52,070 --> 03:33:54,070
Normalerweise würde das anders funktionieren.

4221
03:33:54,070 --> 03:33:56,070
Das macht ja eigentlich auch keinen Sinn.

4222
03:33:56,070 --> 03:33:58,070
Normalerweise hätte ich einen ordentlichen Health Check.

4223
03:34:00,070 --> 03:34:02,070
Der einfach checkt.

4224
03:34:02,070 --> 03:34:04,070
Slash Health und dann halt wenn der Server da ist.

4225
03:34:04,070 --> 03:34:06,070
Das ist schon okay.

4226
03:34:06,070 --> 03:34:09,640
Dafür sind Health Checks ja da.

4227
03:34:09,640 --> 03:34:11,640
Das ist eigentlich in Ordnung so.

4228
03:34:11,640 --> 03:34:15,400
So mal gucken ob es jetzt funktioniert.

4229
03:34:15,400 --> 03:34:17,400
Weil jetzt habe ich ihm ja gesagt.

4230
03:34:17,400 --> 03:34:19,400
Du bist abhängig vom Netzwerk.

4231
03:34:19,400 --> 03:34:21,400
Du musst warten bis Netzwerk da ist.

4232
03:34:21,400 --> 03:34:28,230
Dass das geht.

4233
03:34:28,230 --> 03:34:30,230
Creation complete.

4234
03:34:30,230 --> 03:34:32,230
Loadbalancer Zertifikat.

4235
03:34:32,230 --> 03:34:34,230
Alter.

4236
03:34:34,230 --> 03:34:36,230
Was ist das Problem?

4237
03:34:36,230 --> 03:34:38,230
Label selector target.

4238
03:34:38,230 --> 03:34:40,230
Loadbalancer not attached to network.

4239
03:34:40,230 --> 03:34:42,230
Also ich muss. Moment.

4240
03:34:42,230 --> 03:34:44,230
Wo kackt der mir denn ab?

4241
03:34:44,230 --> 03:34:46,230
Der kackt mir ab bei Qt Destroy.

4242
03:34:46,230 --> 03:34:49,540
Bei Qt Chat.

4243
03:34:49,540 --> 03:34:51,540
Target.

4244
03:34:53,540 --> 03:34:55,540
Hier kackt der ab.

4245
03:34:55,540 --> 03:35:01,800
Muss ich ihm vielleicht sagen.

4246
03:35:01,800 --> 03:35:03,800
Depend on.

4247
03:35:03,800 --> 03:35:05,800
Chat LB oder.

4248
03:35:05,800 --> 03:35:26,460
Also das ich ihm sagen muss hier.

4249
03:35:26,460 --> 03:35:28,460
Depend on.

4250
03:35:28,460 --> 03:35:30,460
Network.

4251
03:35:30,460 --> 03:35:40,420
So.

4252
03:35:40,420 --> 03:35:42,420
Ja das soll auch aufs Network dependen.

4253
03:35:42,420 --> 03:35:56,810
Alles gut.

4254
03:35:56,810 --> 03:35:58,810
Ne der LB wird nicht erstellt.

4255
03:35:58,810 --> 03:36:04,040
Wir.

4256
03:36:04,040 --> 03:36:11,060
Wir probieren das jetzt einfach nochmal aus.

4257
03:36:11,060 --> 03:36:13,060
So der dependet.

4258
03:36:13,060 --> 03:36:15,060
On das Network.

4259
03:36:15,060 --> 03:36:17,060
Also der dependet.

4260
03:36:17,060 --> 03:36:19,060
Darauf.

4261
03:36:19,060 --> 03:36:21,060
Und der auf die eigentlich Netzwerksachen.

4262
03:36:21,060 --> 03:36:28,020
Aha.

4263
03:36:28,020 --> 03:36:30,020
Jetzt hat es funktioniert.

4264
03:36:30,020 --> 03:36:32,020
Ok.

4265
03:36:32,020 --> 03:36:34,020
Ich habe nichts gesagt.

4266
03:36:34,020 --> 03:36:36,020
Das lag an einem dieser Dinger.

4267
03:36:36,020 --> 03:36:38,020
Muss mir jetzt mal genauer nachschauen.

4268
03:36:38,020 --> 03:36:40,020
So Loadbalancer.

4269
03:36:40,020 --> 03:36:48,140
Status unknown.

4270
03:36:48,140 --> 03:36:50,140
Die Server sind ja auch noch gar nicht da.

4271
03:36:50,140 --> 03:36:52,140
Die müssen jetzt.

4272
03:36:52,140 --> 03:36:54,140
Die müssen jetzt nach und nach.

4273
03:36:54,140 --> 03:36:56,140
Ready.

4274
03:36:56,140 --> 03:37:02,900
Ready werden.

4275
03:37:02,900 --> 03:37:04,900
Das sollte.

4276
03:37:04,900 --> 03:37:06,900
Das sollte in spätestens einer Minute oder so eigentlich alles grün werden.

4277
03:37:06,900 --> 03:37:08,900
Guck mal.

4278
03:37:08,900 --> 03:37:10,900
HSSH.

4279
03:37:10,900 --> 03:37:12,900
Zack da sind meine Nodes schon.

4280
03:37:12,900 --> 03:37:14,900
Netstat.

4281
03:37:14,900 --> 03:37:16,900
Guck mal.

4282
03:37:16,900 --> 03:37:18,900
Der ist mit dem Update noch gar nicht durch.

4283
03:37:18,900 --> 03:37:20,900
Ja dann ist kein Wunder.

4284
03:37:20,900 --> 03:37:22,900
Der macht noch Update.

4285
03:37:22,900 --> 03:37:27,370
Full Upgrade dauert anscheinend ein bisschen.

4286
03:37:27,370 --> 03:37:33,050
Wie würde man das schneller hinkriegen?

4287
03:37:33,050 --> 03:37:35,050
Eigentlich nur mit einem eigenen Ubuntu Image oder sowas.

4288
03:37:35,050 --> 03:37:37,050
Aber das muss nicht sein.

4289
03:37:37,050 --> 03:37:39,050
Also das Full Upgrade braucht aber ewig.

4290
03:37:39,050 --> 03:37:45,050
Jetzt.

4291
03:37:45,050 --> 03:37:47,050
Jetzt hat er Nginx installiert.

4292
03:37:47,050 --> 03:37:54,010
Gleich da.

4293
03:37:54,010 --> 03:37:56,010
Jetzt läuft er auf Port 80.

4294
03:37:56,010 --> 03:37:58,010
Vielleicht erst Nginx installieren.

4295
03:37:58,010 --> 03:38:01,320
Ne.

4296
03:38:01,320 --> 03:38:03,320
Der soll vorher schon erst upgraden.

4297
03:38:03,320 --> 03:38:05,320
Server soll nie ins Internet ohne Sicherheitspatches.

4298
03:38:05,320 --> 03:38:07,320
So.

4299
03:38:07,320 --> 03:38:09,320
Status ist 0 von 1.

4300
03:38:09,320 --> 03:38:11,320
Er sollte es jetzt aber gleich checken.

4301
03:38:11,320 --> 03:38:13,320
Dass die Server da sind.

4302
03:38:13,320 --> 03:38:15,320
Und dann sollte der Kram.

4303
03:38:15,320 --> 03:38:17,320
Langsam aber sicher auf Healthy gehen.

4304
03:38:17,320 --> 03:38:24,020
Und fürs nächste mal mache ich mir Gedanken.

4305
03:38:24,020 --> 03:38:26,020
Wie wir das gescheit machen können mit.

4306
03:38:26,020 --> 03:38:28,020
Mit Deployment.

4307
03:38:28,020 --> 03:38:30,020
Weil ich möchte ja das das der Reihe nach geht.

4308
03:38:30,020 --> 03:38:32,020
Also ich müsste quasi so was hier machen wie.

4309
03:38:32,020 --> 03:38:37,380
Also quasi.

4310
03:38:37,380 --> 03:38:39,380
Dass er den neuen Server hinstellt.

4311
03:38:39,380 --> 03:38:41,380
Bevor der alte Destroyed wird.

4312
03:38:41,380 --> 03:38:43,380
Und der alte muss sich dann am Anfang schlagen lassen.

4313
03:38:43,380 --> 03:38:45,380
Und der alte muss sich dann am Anfang schlagen lassen.

4314
03:38:45,380 --> 03:38:54,280
auf 503 stellen dass der load balancer quasi alle alle verbindungen kappt nee das ist total easy so

4315
03:38:54,280 --> 03:39:01,660
rolling deployment zu machen ich nehme einfach den den tag vom server weg und dann checkt es

4316
03:39:01,660 --> 03:39:05,420
der load balancer und der load balancer load balancer und erst wenn der tag vom server weg

4317
03:39:05,420 --> 03:39:10,340
ist dann fahre ich die anwendung runter da weiß ich bloß nicht wie ich das terraform beibringe

4318
03:39:10,340 --> 03:39:21,940
also ich müsste das irgendwie müsste irgendwie terraform sagen können es soll den tag entfernen

4319
03:39:21,940 --> 03:39:37,260
bei einem destroy weiß ich nicht ob das funktioniert da sind wir leute funzt wieder

4320
03:39:37,260 --> 03:39:55,180
keckhello.keckw.services da sind wir zack das hat mit kubernetes jetzt nichts zu tun wir haben ja

4321
03:39:55,180 --> 03:40:06,770
keinerlei container workloads oder sonstwas gerade okay das funktioniert noch oder auch nicht

4322
03:40:07,670 --> 03:40:12,590
das funktioniert nicht warum ach weil sich die ip des load balancers geändert hat

4323
03:40:12,590 --> 03:40:34,320
deswegen brauchen wir unbedingt entweder feste alps das können wir hier mitmachen was das sind

4324
03:40:34,320 --> 03:40:43,020
die ipv6 dinger oder wir brauchen automatisches anpassen vom dns weil normalerweise löscht man

4325
03:40:43,020 --> 03:40:43,960
den load balancer ja

4326
03:40:43,980 --> 03:40:53,300
nicht normalerweise würdest du mir die notes löschen weiß aber das funktioniert ganz gut

4327
03:40:53,300 --> 03:40:59,120
das finde ich finde ich finde ich top das gefällt mir warum haben deine vor allem so

4328
03:40:59,120 --> 03:41:04,860
public apps rein zum besseren ausprobieren bräuchten sie nicht bräuchten sie nicht wir

4329
03:41:04,860 --> 03:41:09,440
können die entfernen wir können die public das machen wir jetzt noch wir entfernen jetzt noch

4330
03:41:09,440 --> 03:41:15,140
die public apps die brauchen wir nämlich nicht mehr dass das machen wir jetzt noch da komme ich

4331
03:41:15,140 --> 03:41:16,640
da von außen nicht mehr drauf

4332
03:41:16,820 --> 03:41:40,130
es läuft nicht mehr ohne

4333
03:41:40,130 --> 03:41:43,410
작업s wegen der der übung so destroy das machen wir jetzt noch alles alles wieder weg hier sagt sagt networt sonst wie weg die streu network diestro alles destroyed kannst du beim lb rules festlegen dass demudge zu bestimmte machines gehen ja dem Judge hier geht es einfachından

4334
03:41:43,410 --> 03:41:44,230
demuga

4335
03:41:44,230 --> 03:41:46,070
kann ich andere tags geben oder ich kann auch direkt ip einstellen dankeOSH

4336
03:41:46,070 --> 03:41:49,860
gut also ich habe nie aktiviert und habe mir ataup ㅋㅋㅋㅋình hier den untereens und ich bin tatsächlich auch jetzt mehr angestanden aber eben für adm中 habe ich gar keine zurzeit hier des ».

4337
03:41:49,860 --> 03:41:50,280
charles j.j. imd

4338
03:41:50,280 --> 03:41:52,080
machen, weil

4339
03:41:52,080 --> 03:41:54,060
der kein SSH-Login hat.

4340
03:41:54,520 --> 03:41:56,060
Ich könnte SSH über den...

4341
03:41:56,060 --> 03:41:58,320
Ich könnte den Loadbalancer SSH-Loadbalancen

4342
03:41:58,320 --> 03:42:00,120
lassen, aber dann komme ich immer random auf den Server

4343
03:42:00,120 --> 03:42:01,500
raus. Das ist vielleicht auch nicht so sinnvoll.

4344
03:42:05,790 --> 03:42:12,170
Ja. Kannst doch

4345
03:42:12,170 --> 03:42:14,090
einzelne Ressourcen tainten.

4346
03:42:14,670 --> 03:42:18,180
Aha. So.

4347
03:42:18,840 --> 03:42:20,360
Also wie kriege ich das

4348
03:42:20,360 --> 03:42:22,160
denn jetzt da weg, dass

4349
03:42:22,160 --> 03:42:23,560
die Public IPs haben?

4350
03:42:24,640 --> 03:42:24,960
Server.

4351
03:42:27,140 --> 03:42:27,620
Private?

4352
03:42:38,310 --> 03:42:39,670
Ach, so meinst du das?

4353
03:42:39,670 --> 03:42:41,330
Ja, das wird funktionieren.

4354
03:42:41,410 --> 03:42:43,650
Das wird funktionieren, aber das finde ich

4355
03:42:43,650 --> 03:42:45,130
irgendwie auch nicht so schön.

4356
03:42:45,610 --> 03:42:47,490
Ich würde ganz ehrlich, ich würde wahrscheinlich

4357
03:42:47,490 --> 03:42:49,770
den Loadbalancer

4358
03:42:49,770 --> 03:42:51,630
dann eh selbst bauen und darüber dann

4359
03:42:51,630 --> 03:42:53,190
jump-hosten auf die Kisten.

4360
03:42:53,950 --> 03:42:55,250
Oder man macht einen VPN.

4361
03:43:00,110 --> 03:43:01,370
Wann gibt es die Domain? Welche

4362
03:43:01,370 --> 03:43:04,980
Domain? Die ging doch eben schon.

4363
03:43:07,340 --> 03:43:08,500
So. Also.

4364
03:43:09,140 --> 03:43:13,100
Wie macht man denn jetzt die...

4365
03:43:13,100 --> 03:43:14,720
Wie macht man

4366
03:43:14,720 --> 03:43:16,120
keine Public IPs?

4367
03:43:20,680 --> 03:43:33,730
So? Public Net

4368
03:43:33,730 --> 03:43:35,750
Server.

4369
03:43:40,680 --> 03:43:40,860
Ne.

4370
03:43:42,620 --> 03:43:42,820
Ne?

4371
03:43:43,340 --> 03:43:53,880
Public Net? So.

4372
03:43:54,980 --> 03:43:56,220
Public Net

4373
03:43:56,220 --> 03:44:00,180
Falls.

4374
03:44:00,880 --> 03:44:01,480
Falls.

4375
03:44:02,820 --> 03:44:04,440
So. Ich will ja gar keine

4376
03:44:04,440 --> 03:44:06,460
Public IPs. Ich will ja nur das

4377
03:44:06,460 --> 03:44:07,840
Private Network.

4378
03:44:10,600 --> 03:44:11,700
Hier. Apply.

4379
03:44:15,620 --> 03:44:17,000
Okay, das scheint zu funktionieren.

4380
03:44:23,190 --> 03:44:25,030
Ja. Funst. Keine Public IP.

4381
03:44:25,030 --> 03:44:26,490
Sehr schön.

4382
03:44:31,990 --> 03:44:33,670
Na, da kannst du dich doch nicht beschweren.

4383
03:44:33,730 --> 03:44:35,850
Guck mal. Innerhalb von 20 Sekunden

4384
03:44:35,850 --> 03:44:37,930
oder so ist unser Cloud-Klempel am Start.

4385
03:44:40,180 --> 03:44:41,140
So. Und die Targets...

4386
03:44:41,140 --> 03:44:43,020
Gut, die brauchen ein bisschen, bis

4387
03:44:43,020 --> 03:44:44,420
alle fertig konfiguriert sind.

4388
03:44:49,870 --> 03:44:51,810
Das Update funktioniert gar nicht wahrscheinlich.

4389
03:44:53,370 --> 03:44:54,150
Stimmt schon.

4390
03:44:54,550 --> 03:44:55,650
Das Update...

4391
03:44:55,650 --> 03:44:57,930
Na, oder das nuttet irgendwie raus.

4392
03:44:58,190 --> 03:44:59,830
Das weiß ich nicht. Das ist

4393
03:44:59,830 --> 03:45:01,770
bestimmt... Das geht. Ich könnte mir

4394
03:45:01,770 --> 03:45:02,770
vorstellen, das geht.

4395
03:45:04,030 --> 03:45:07,480
Äh. Okay. Ich hab nichts

4396
03:45:07,480 --> 03:45:09,060
gesagt. Ne.

4397
03:45:09,640 --> 03:45:11,360
Oder... Ja, was denn jetzt, Cloud-Balancer?

4398
03:45:19,820 --> 03:45:21,360
Ne, der hat keine Public. Der hat nichts

4399
03:45:21,360 --> 03:45:22,480
Public-mäßiges.

4400
03:45:26,130 --> 03:45:28,050
Ähm. Ich bin mir ehrlich gesagt

4401
03:45:28,050 --> 03:45:29,930
nicht sicher, ob der Server

4402
03:45:29,930 --> 03:45:31,850
rein mit der Private IP rauskommt.

4403
03:45:31,990 --> 03:45:34,130
Ob dort irgendwie ein Gateway

4404
03:45:34,130 --> 03:45:35,870
ist für

4405
03:45:35,870 --> 03:45:43,320
Ad-Root-Gateway.

4406
03:45:43,680 --> 03:45:48,880
Ne. Das müsste man

4407
03:45:48,880 --> 03:45:50,320
wahrscheinlich... Ja.

4408
03:45:51,120 --> 03:45:52,660
Gute Frage. Nächste Frage.

4409
03:45:53,140 --> 03:45:54,800
Das müsste ich mir überlegen, wie man das macht.

4410
03:45:59,290 --> 03:46:00,790
Das müsste ich mir überlegen,

4411
03:46:00,930 --> 03:46:02,730
wie man das ausgehend ausgehen...

4412
03:46:02,770 --> 03:46:07,110
macht. Doch. Kann ich.

4413
03:46:07,210 --> 03:46:09,530
Guck. Da kann Public...

4414
03:46:09,530 --> 03:46:10,910
Alles. Alles wegmachen.

4415
03:46:20,840 --> 03:46:22,000
Nächstes Gold-PF-Sense.

4416
03:46:22,560 --> 03:46:27,620
Naja. Und die

4417
03:46:27,620 --> 03:46:29,420
kommen jetzt natürlich auch nicht ready, weil der

4418
03:46:29,420 --> 03:46:30,600
keinen Internetzugang hat.

4419
03:46:37,120 --> 03:46:39,120
Ja, ist so. Das Ding hat keine IPv6.

4420
03:46:43,630 --> 03:46:44,830
Ist Public Network

4421
03:46:44,830 --> 03:46:45,730
is disabled.

4422
03:46:49,900 --> 03:46:51,680
Ja. Ich mein, klar, man

4423
03:46:51,680 --> 03:46:53,600
könnte IPv6 anmachen.

4424
03:46:54,660 --> 03:46:56,080
Man könnte IPv6

4425
03:46:56,080 --> 03:46:57,680
anmachen. Dann kann der da drüber laden.

4426
03:47:01,170 --> 03:47:02,210
Aber will ich ja nicht.

4427
03:47:02,210 --> 03:47:04,150
Ich... Mir persönlich sind so Server

4428
03:47:04,150 --> 03:47:05,690
dann echt am liebsten, wenn die nicht ins Internet

4429
03:47:05,690 --> 03:47:07,070
können.

4430
03:47:08,050 --> 03:47:10,030
Ich muss bloß sorgen... Ich muss bloß dafür sorgen,

4431
03:47:10,150 --> 03:47:11,590
dass es raus...

4432
03:47:11,590 --> 03:47:13,390
nach außen kommt.

4433
03:47:15,090 --> 03:47:15,490
Und...

4434
03:47:15,490 --> 03:47:18,050
Und dass ich draufkomme, wohlgemerkt.

4435
03:47:18,130 --> 03:47:20,070
Also ich brauch auf jeden Fall in irgendeiner Art und Weise

4436
03:47:20,070 --> 03:47:21,690
noch einen Eingang.

4437
03:47:23,110 --> 03:47:24,510
Das könnte aber die kleinste...

4438
03:47:24,510 --> 03:47:26,290
die kleinste Kiste sein, die die haben.

4439
03:47:26,410 --> 03:47:28,190
Das ist ja... Da muss ich auch mal Gedanken

4440
03:47:28,190 --> 03:47:28,690
zu machen.

4441
03:47:28,690 --> 03:47:28,730
Oh.

4442
03:47:31,330 --> 03:47:31,770
Hetzner?

4443
03:47:32,210 --> 03:47:34,230
Private Cloud... Nee, nee, nicht.

4444
03:47:34,710 --> 03:47:36,990
Hetzner Cloud... Private Network?

4445
03:47:38,710 --> 03:47:40,770
Not. Weiß ich, ob die so...

4446
03:47:40,770 --> 03:47:43,310
PF Sense.

4447
03:47:43,450 --> 03:47:43,930
Ja, klar.

4448
03:47:45,670 --> 03:47:46,730
Ich hauste mir

4449
03:47:46,730 --> 03:47:48,570
natürlich jetzt noch ein eigenes PF Sense, natürlich.

4450
03:48:02,030 --> 03:48:02,810
Ach du Scheiße.

4451
03:48:03,130 --> 03:48:04,670
Die wollen wirklich was mit PF...

4452
03:48:04,670 --> 03:48:06,270
Nee, mit PF Sense ganz bestimmt nicht.

4453
03:48:15,120 --> 03:48:17,080
Da muss ich mal gucken, was da der...

4454
03:48:17,080 --> 03:48:19,320
Der...

4455
03:48:19,320 --> 03:48:19,620
Der...

4456
03:48:19,620 --> 03:48:21,560
Der Way ist, ja.

4457
03:48:22,440 --> 03:48:25,440
Meinung zu Vivaldi-Browser finde ich ganz cool,

4458
03:48:25,520 --> 03:48:27,940
aber irgendwie hat's...

4459
03:48:27,940 --> 03:48:29,920
Doch nicht so den...

4460
03:48:29,920 --> 03:48:31,660
den ausschlaggebenden Punkt, dass ich gesagt habe,

4461
03:48:31,660 --> 03:48:32,500
ich verwende den jetzt.

4462
03:48:33,640 --> 03:48:35,140
Von der Idee her finde ich's cool.

4463
03:48:35,680 --> 03:48:37,740
Das ist ja eine ehemalige Opera, Leute.

4464
03:48:43,300 --> 03:48:43,500
Nope.

4465
03:48:43,940 --> 03:48:45,100
Also die Server kommen nicht ins Internet.

4466
03:48:45,520 --> 03:48:47,900
Das muss ich mir tatsächlich mal überlegen, wie man das

4467
03:48:47,900 --> 03:48:48,880
gescheit machen könnte.

4468
03:48:52,130 --> 03:48:53,850
Mein... Okay. Leute, wir haben jetzt

4469
03:48:53,850 --> 03:48:55,230
18 Uhr. Ich geh gleich was fordern.

4470
03:48:55,710 --> 03:48:58,250
Eine Sache probieren wir mal schnell noch aus.

4471
03:48:58,770 --> 03:49:04,260
Ähm...

4472
03:49:04,260 --> 03:49:04,760
Was ist da?

4473
03:49:06,260 --> 03:49:07,020
Add Server.

4474
03:49:07,920 --> 03:49:08,560
Nürnberg.

4475
03:49:10,180 --> 03:49:10,860
2204.

4476
03:49:11,540 --> 03:49:13,160
Ein Ding. Public...

4477
03:49:13,160 --> 03:49:16,040
Public IP. Private Networks.

4478
03:49:17,540 --> 03:49:18,220
Test.

4479
03:49:19,120 --> 03:49:19,580
Ach so.

4480
03:49:19,780 --> 03:49:19,940
Ha!

4481
03:49:21,100 --> 03:49:23,220
Ich hab ja da noch nicht mal SSH-Keys drauf.

4482
03:49:23,420 --> 03:49:25,640
Das müsste ich dann wirklich per...

4483
03:49:25,640 --> 03:49:27,360
per Jump-Host machen.

4484
03:49:28,500 --> 03:49:29,680
Also zeig mal kurz her.

4485
03:49:31,180 --> 03:49:31,620
Nein.

4486
03:49:31,620 --> 03:49:33,060
Das hab ich falsch gemacht. Guck.

4487
03:49:33,560 --> 03:49:34,060
Kack-Noob.

4488
03:49:34,900 --> 03:49:35,420
Verdrückt.

4489
03:49:37,180 --> 03:49:38,340
Verklickt hab ich mich.

4490
03:49:39,500 --> 03:49:41,180
Weg. Ich will löschen wieder.

4491
03:49:44,460 --> 03:49:45,400
Auf, lass mich löschen.

4492
03:49:51,260 --> 03:49:51,420
Oh.

4493
03:49:52,640 --> 03:49:54,200
Neuer Server. Jetzt aber.

4494
03:49:54,380 --> 03:49:54,880
Nürnberg.

4495
03:49:56,300 --> 03:49:58,620
2204. Das, das, das.

4496
03:49:59,260 --> 03:49:59,620
Das.

4497
03:50:00,520 --> 03:50:01,440
User Data.

4498
03:50:04,590 --> 03:50:04,830
Bäh.

4499
03:50:08,080 --> 03:50:08,320
So.

4500
03:50:08,320 --> 03:50:08,420
Oh.

4501
03:50:13,460 --> 03:50:14,660
Ob der das checkt?

4502
03:50:15,760 --> 03:50:17,560
Okay. User Data.

4503
03:50:18,940 --> 03:50:19,480
Test.

4504
03:50:23,960 --> 03:50:24,840
So. Jetzt, jetzt, jetzt.

4505
03:50:25,080 --> 03:50:27,340
Connecten wir uns mal per Jump-Host da drauf.

4506
03:50:29,850 --> 03:50:31,170
Und schauen, ob das funktioniert.

4507
03:50:32,550 --> 03:50:33,730
Wästest du mit jedem Money?

4508
03:50:33,870 --> 03:50:35,010
Ne. Die Server... Naja.

4509
03:50:35,310 --> 03:50:37,130
Die Server werden sekündlich abgerechnet.

4510
03:50:37,390 --> 03:50:38,850
Also, das hat mich...

4511
03:50:38,850 --> 03:50:41,290
Der ganze Stream heute hat mich vielleicht...

4512
03:50:41,290 --> 03:50:43,410
20 Cent gekostet oder so.

4513
03:50:48,090 --> 03:50:48,870
Root-Add.

4514
03:50:51,560 --> 03:50:52,240
Ah, ist noch nicht da.

4515
03:50:52,240 --> 03:50:52,680
Na gut.

4516
03:50:56,560 --> 03:50:57,800
Dü-dü-dü-dü-dü-dü-dü.

4517
03:50:57,920 --> 03:51:00,560
Dü-dü-dü-dü-dü-dü-dü-dü-dü-dü-dü.

4518
03:51:02,140 --> 03:51:02,940
SSH.

4519
03:51:04,480 --> 03:51:05,020
Igen.

4520
03:51:05,300 --> 03:51:05,640
Minus.

4521
03:51:05,740 --> 03:51:05,960
Röh.

4522
03:51:07,140 --> 03:51:07,660
Weg.

4523
03:51:09,220 --> 03:51:09,660
Yes.

4524
03:51:19,020 --> 03:51:19,520
Still of No.

4525
03:51:19,820 --> 03:51:20,360
Alles klar.

4526
03:51:20,780 --> 03:51:20,960
So.

4527
03:51:21,440 --> 03:51:21,700
Ähm.

4528
03:51:21,820 --> 03:51:22,960
Jetzt probieren wir mal was aus.

4529
03:51:23,060 --> 03:51:24,300
Wir haben jetzt so Public IP.

4530
03:51:24,780 --> 03:51:25,260
Stündlich.

4531
03:51:25,700 --> 03:51:27,220
Na gut, aber wenn ich die unter einer Stunde hab.

4532
03:51:27,460 --> 03:51:29,800
Wie gesagt, das hat nicht viel gekostet.

4533
03:51:31,020 --> 03:51:31,380
Ähm.

4534
03:51:31,380 --> 03:51:31,740
So.

4535
03:51:32,120 --> 03:51:33,280
Also, wenn ich den...

4536
03:51:33,280 --> 03:51:35,260
Wenn ich den Kram jetzt hier erstellt hab.

4537
03:51:36,280 --> 03:51:37,000
Und hier hab ich die...

4538
03:51:37,000 --> 03:51:37,500
Hier hab ich...

4539
03:51:38,560 --> 03:51:40,560
Wo ist die interne IP von dem Server?

4540
03:51:46,140 --> 03:51:47,100
Ist der nicht attached?

4541
03:51:50,370 --> 03:51:51,490
Private Networking?

4542
03:51:53,810 --> 03:51:54,310
Achso.

4543
03:51:54,770 --> 03:51:55,530
Hab ich das vergessen?

4544
03:52:04,200 --> 03:52:04,700
Jetzt.

4545
03:52:04,880 --> 03:52:05,380
Hier.

4546
03:52:10,470 --> 03:52:10,970
Da.

4547
03:52:12,350 --> 03:52:12,850
Also.

4548
03:52:13,170 --> 03:52:13,670
Ähm.

4549
03:52:13,670 --> 03:52:14,510
Wir haben doch jetzt hier...

4550
03:52:14,510 --> 03:52:16,110
Jetzt bin ich mal gespannt, ob ich das auf die Reihe krieg.

4551
03:52:16,510 --> 03:52:18,910
Also wir haben jetzt Server, die diese IP hier haben.

4552
03:52:25,440 --> 03:52:27,400
Kann ich da jump-hosten drauf?

4553
03:52:27,400 --> 03:52:27,900
Also.

4554
03:52:28,320 --> 03:52:29,580
SSH minus...

4555
03:52:31,200 --> 03:52:31,700
J.

4556
03:52:32,760 --> 03:52:33,760
Auf den da.

4557
03:52:45,240 --> 03:52:46,660
Hat der kein SSH laufen?

4558
03:52:48,920 --> 03:52:50,360
Oder wie ging das nochmal?

4559
03:53:00,960 --> 03:53:01,300
Okay.

4560
03:53:02,140 --> 03:53:03,760
Das Ding hat immer SSH laufen.

4561
03:53:05,560 --> 03:53:06,800
Okay, dann ist jetzt vorbei.

4562
03:53:10,030 --> 03:53:11,070
Moment, der andere hat SSH...

4563
03:53:11,070 --> 03:53:11,790
Ne, das ist der da.

4564
03:53:13,210 --> 03:53:14,990
Okay, wenn die Dinger nicht mal SSH...

4565
03:53:14,990 --> 03:53:15,670
Äh.

4566
03:53:15,750 --> 03:53:16,410
Wait a minute.

4567
03:53:17,850 --> 03:53:19,870
Warum hat einer SSH laufen und einer nicht?

4568
03:53:24,500 --> 03:53:25,360
Okay, das funktioniert.

4569
03:53:25,720 --> 03:53:27,760
Guck mal, jetzt bin ich auf QChat Node 2.

4570
03:53:28,580 --> 03:53:28,900
Und zwar.

4571
03:53:28,900 --> 03:53:30,900
Das ist jetzt SSH-Trick 17.

4572
03:53:31,460 --> 03:53:37,220
Also ich sag SSH jetzt, ich will auf diesen Server mich connecten über diesen.

4573
03:53:38,720 --> 03:53:41,040
Das Root kann man hier weglassen, wenn es immer der gleiche User ist.

4574
03:53:41,040 --> 03:53:41,540
Ne.

4575
03:53:41,540 --> 03:53:42,040
Das ist es nicht.

4576
03:53:42,040 --> 03:53:42,540
Okay.

4577
03:53:42,540 --> 03:53:43,040
Kann man nicht.

4578
03:53:43,800 --> 03:53:49,880
Das heißt, SSH lockt sich darauf ein und nimmt dann meinen Key lokal mit und lockt sich darauf ein.

4579
03:53:53,940 --> 03:53:54,440
So.

4580
03:53:59,190 --> 03:53:59,690
Jupp.

4581
03:53:59,690 --> 03:54:00,810
Network unreachable.

4582
03:54:02,750 --> 03:54:03,370
Da geht nix.

4583
03:54:03,370 --> 03:54:04,850
Da müsste ich mir irgendwas bauen.

4584
03:54:04,850 --> 03:54:06,850
Jetzt ist natürlich die Frage.

4585
03:54:06,850 --> 03:54:10,850
Erlaubt der Loadbalancer ausgehenden Traffic?

4586
03:54:10,850 --> 03:54:12,850
Wahrscheinlich nicht, oder?

4587
03:54:14,850 --> 03:54:16,850
Der wird nur eingehenden Traffic machen.

4588
03:54:16,850 --> 03:54:24,070
Ja.

4589
03:54:24,070 --> 03:54:31,540
So, ich müsste jetzt quasi sowas hier machen.

4590
03:54:31,540 --> 03:54:33,540
Als Default Gateway.

4591
03:54:33,540 --> 03:54:35,540
Und dann, was hat mein Loadbalancer für eine IP?

4592
03:54:35,540 --> 03:54:39,110
Weiß ich jetzt gar nicht.

4593
03:54:39,110 --> 03:54:41,110
Was hat denn der Loadbalancer für eine IP?

4594
03:54:41,110 --> 03:54:43,110
Ich glaube aber nicht, dass der auch Gateway machen kann.

4595
03:54:43,110 --> 03:54:45,110
Das wäre...

4596
03:54:45,110 --> 03:54:47,110
Das glaube ich, das würde keinen Sinn ergeben.

4597
03:54:47,110 --> 03:54:49,110
Aber ich probier's, ich probier's mal aus.

4598
03:54:49,110 --> 03:55:01,840
0.0.0 Default Gateway und...

4599
03:55:01,840 --> 03:55:22,850
Nope.

4600
03:55:22,850 --> 03:55:24,850
Äh.

4601
03:55:24,850 --> 03:55:26,850
Muss ich ja noch Root at Default machen?

4602
03:55:26,850 --> 03:55:28,850
Dass das geht?

4603
03:55:28,850 --> 03:55:30,850
Weil da fehlt, da fehlt jetzt ja...

4604
03:55:30,850 --> 03:55:37,740
Root at Default GW 10.0.0.5.

4605
03:55:37,740 --> 03:55:38,740
Wie?

4606
03:55:38,740 --> 03:55:44,420
Network is unreachable?

4607
03:55:44,420 --> 03:55:50,380
Moment.

4608
03:55:50,380 --> 03:55:51,380
Warum ist das...

4609
03:55:51,380 --> 03:56:01,920
Mach ich das falsch?

4610
03:56:01,920 --> 03:56:03,920
Wie das Network is unreachable?

4611
03:56:03,920 --> 03:56:05,920
Ist das gleiche Netzwerk?

4612
03:56:05,920 --> 03:56:15,990
Und ich kann's sogar pingen?

4613
03:56:15,990 --> 03:56:21,090
Äh, das ist schon...

4614
03:56:21,090 --> 03:56:23,090
Äh, 1 geht? Okay.

4615
03:56:23,090 --> 03:56:25,090
Ah, 5 geht nicht.

4616
03:56:25,090 --> 03:56:28,600
Vielleicht muss ich...

4617
03:56:28,600 --> 03:56:32,360
Was war das IP?

4618
03:56:32,360 --> 03:56:46,040
Dell?

4619
03:56:46,040 --> 03:56:48,040
Was? Nee, das war doch GW.

4620
03:56:48,040 --> 03:56:50,040
Nee, nee, nee, sag ich doch GW.

4621
03:56:50,040 --> 03:56:52,040
Also aus irgendwelchen Gründen ist Network unreachable.

4622
03:56:52,040 --> 03:56:54,040
Obwohl er im gleichen Netzwerk ist.

4623
03:56:54,040 --> 03:56:56,040
Alles klar.

4624
03:56:56,040 --> 03:56:58,040
Ähm...

4625
03:56:58,040 --> 03:57:00,040
Ja, aber das ist wahrscheinlich auch gar nicht gedacht.

4626
03:57:00,040 --> 03:57:04,950
Ach so, du meinst...

4627
03:57:04,950 --> 03:57:15,510
Das ist doch egal, über welche Art und Weise ich das hätte.

4628
03:57:15,510 --> 03:57:17,510
Also, den Loadbalancer kannst du auf jeden Fall nicht nehmen.

4629
03:57:17,510 --> 03:57:19,510
Ausgehend.

4630
03:57:19,510 --> 03:57:21,510
Da müsste ich jetzt selbst irgendwas bauen, um wieder rauszukommen.

4631
03:57:21,510 --> 03:57:24,880
Ist jetzt kein...

4632
03:57:24,880 --> 03:57:26,880
großer Akt und auch kein großer Verlust,

4633
03:57:26,880 --> 03:57:30,390
dass das nicht geht?

4634
03:57:30,390 --> 03:57:34,600
Müsste ich mir was überlegen.

4635
03:57:34,600 --> 03:57:36,600
Das glaub ich auch, dass sie das denken.

4636
03:57:36,600 --> 03:57:38,600
Also, Status. Wo sind wir stehen geblieben?

4637
03:57:38,600 --> 03:57:40,600
Def...

4638
03:57:40,600 --> 03:57:42,600
Aus irgendwelchen Gründen...

4639
03:57:42,600 --> 03:57:46,290
Was?

4640
03:57:46,290 --> 03:57:51,460
Das hab ich überhaupt nicht gemacht.

4641
03:57:51,460 --> 03:57:54,960
Oh doch, naja, gut.

4642
03:57:54,960 --> 03:57:56,960
Ähm, Comet.

4643
03:57:56,960 --> 03:58:12,500
Kekkel. Push.

4644
03:58:12,500 --> 03:58:14,500
Ach, aus irgendwelchen Gründen heißt das Ding Brot.

4645
03:58:14,500 --> 03:58:16,500
Moment, ich hab da...

4646
03:58:16,500 --> 03:58:18,500
Sekunde, ich hab da verschiedene Branches.

4647
03:58:18,500 --> 03:58:28,340
Zack.

4648
03:58:28,340 --> 03:58:30,340
Warum hab ich da verschiedene Branches, meine Güte?

4649
03:58:30,340 --> 03:58:34,550
Das ist doch gar...

4650
03:58:34,550 --> 03:58:36,550
Und in beiden Branchen

4651
03:58:36,550 --> 03:58:38,550
ist exakt das gleiche drin.

4652
03:58:38,550 --> 03:58:40,550
Ja, das ist natürlich äußerst sinnvoll,

4653
03:58:40,550 --> 03:58:42,550
dass ich da zwei verschiedene Branchen...

4654
03:58:42,550 --> 03:58:44,550
Was für was hatte ich da zwei verschiedene Branches gemacht?

4655
03:58:44,550 --> 03:59:04,630
Ich weiß es gar nicht mehr.

4656
03:59:04,630 --> 03:59:06,630
Normalerweise ist es die falsche Richtung.

4657
03:59:06,630 --> 03:59:08,630
Aber...

4658
03:59:08,630 --> 03:59:13,350
Ist eh die gleichen Comets. Master. Bam.

4659
03:59:13,350 --> 03:59:15,350
Ja, irgendwas hatten wir uns

4660
03:59:15,350 --> 03:59:17,350
in dem Stream damals gedacht. Ich weiß es nicht mehr.

4661
03:59:17,350 --> 03:59:19,350
So.

4662
03:59:19,350 --> 03:59:21,350
Jetzt haben wir unseren Terraform-Krempel auch noch gepusht.

4663
03:59:23,350 --> 03:59:25,350
Also, wer sich angucken will,

4664
03:59:25,350 --> 03:59:27,350
was wir heute gemacht haben,

4665
03:59:27,350 --> 03:59:29,350
da steht alles drin.

4666
03:59:29,350 --> 03:59:32,980
In dem Repo.

4667
03:59:32,980 --> 03:59:34,980
Was ist denn die Readme eigentlich so hässlich?

4668
03:59:34,980 --> 03:59:43,410
Edit this file e.

4669
03:59:43,410 --> 03:59:45,410
E. File e.

4670
03:59:45,410 --> 03:59:47,410
Sag mal, ist Github gerade kaputt?

4671
03:59:47,410 --> 03:59:51,300
Achso, ich bin nicht eingeloggt.

4672
03:59:51,300 --> 03:59:56,280
Bin nicht eingeloggt.

4673
03:59:56,280 --> 04:00:00,100
Kein keck w.

4674
04:00:00,100 --> 04:00:02,100
Aber das keck w ist der Service.

4675
04:00:02,100 --> 04:00:04,100
Keckel.

4676
04:00:04,100 --> 04:00:12,150
Wunderbar.

4677
04:00:12,150 --> 04:00:14,150
Jetzt ist die Readme

4678
04:00:14,150 --> 04:00:17,840
viel besser.

4679
04:00:17,840 --> 04:00:19,840
Ne, wir haben kein...

4680
04:00:19,840 --> 04:00:27,960
Stimmt, wir haben kein Projektbild.

4681
04:00:27,960 --> 04:00:29,960
Ich weiß, was wir für ein Projektbild machen.

4682
04:00:29,960 --> 04:00:33,590
Ich weiß,

4683
04:00:33,590 --> 04:00:35,590
was wir für ein Projektbild machen.

4684
04:00:35,590 --> 04:00:37,590
Wie heißt denn dieses Emote,

4685
04:00:37,590 --> 04:00:39,590
wo...

4686
04:00:39,590 --> 04:00:41,590
Wo der keck w-Typ so im Schlafanzug

4687
04:00:41,590 --> 04:00:43,590
im Kreis sich dreht?

4688
04:00:43,590 --> 04:00:47,030
Ihr wisst, was ich mein.

4689
04:00:47,030 --> 04:00:52,070
Ich weiß nicht, wie das heißt.

4690
04:00:52,070 --> 04:00:54,070
Es gibt das und es gibt auch das,

4691
04:00:54,070 --> 04:00:56,070
das sich im Kreis dreht, oder?

4692
04:00:56,070 --> 04:00:58,070
Keck wiggle.

4693
04:00:58,070 --> 04:01:07,650
Keck wiggle.

4694
04:01:07,650 --> 04:01:09,650
Ist das ein Seagull-Emote, oder?

4695
04:01:09,650 --> 04:01:11,650
Wir machen

4696
04:01:11,650 --> 04:01:15,280
keck by.

4697
04:01:15,280 --> 04:01:17,280
Keck by. Bestes.

4698
04:01:17,280 --> 04:01:27,320
Keck by. FFZ.

4699
04:01:27,320 --> 04:01:29,320
Oder ist es ein Better Twitch TV Emote?

4700
04:01:29,320 --> 04:01:33,140
Beste.

4701
04:01:33,140 --> 04:01:35,140
Ja, wir brauchen unbedingt

4702
04:01:35,140 --> 04:01:37,140
ein Projektbild.

4703
04:01:37,140 --> 04:01:39,140
Das ist ganz wichtig.

4704
04:01:39,140 --> 04:01:41,140
Ich will ja das animierte haben.

4705
04:01:41,140 --> 04:01:43,140
So, hier das da.

4706
04:01:43,140 --> 04:01:45,140
Wir includen das jetzt einfach

4707
04:01:45,140 --> 04:01:47,140
ganz frech in unsere Readme.

4708
04:01:47,140 --> 04:01:49,140
Wim, Readme?

4709
04:01:49,140 --> 04:01:51,140
Ich kann mir immer nicht merken, wie man Bilder macht

4710
04:01:51,140 --> 04:01:53,140
in Markdown. So, oder?

4711
04:01:53,140 --> 04:01:55,140
Markdown Insert Images.

4712
04:01:55,140 --> 04:02:01,330
Ja.

4713
04:02:01,330 --> 04:02:03,330
Genau.

4714
04:02:03,330 --> 04:02:05,330
Ausrufezeichen?

4715
04:02:05,330 --> 04:02:07,330
So?

4716
04:02:07,330 --> 04:02:10,960
Okay.

4717
04:02:10,960 --> 04:02:14,340
Keck by.

4718
04:02:14,340 --> 04:02:24,440
Massive.

4719
04:02:24,440 --> 04:02:26,440
Ich hoffe, der kann das Bild einbinden so rum.

4720
04:02:26,440 --> 04:02:30,710
Alles klar.

4721
04:02:30,710 --> 04:02:32,710
Jetzt haben wir auch,

4722
04:02:32,710 --> 04:02:34,710
jetzt ist perfektes Projekt.

4723
04:02:34,710 --> 04:02:38,470
Jetzt kann sich keiner mehr beschweren.

4724
04:02:38,470 --> 04:02:40,470
Jetzt hat es alles, was es braucht.

4725
04:02:40,470 --> 04:02:42,470
Ein Ansible Playbook, Terraform

4726
04:02:42,470 --> 04:02:44,470
Config, ein

4727
04:02:44,470 --> 04:02:46,470
der besten Microservice der Welt

4728
04:02:46,470 --> 04:02:48,470
und Keck by als Emote.

4729
04:02:48,470 --> 04:02:50,470
Jetzt ist alles gut.

4730
04:02:50,470 --> 04:02:52,470
Easy Clap.

4731
04:02:52,470 --> 04:02:54,470
Leute, 4 Stunden.

4732
04:02:54,470 --> 04:02:56,470
Alter, das hat länger gedauert, als ich mir das vorgestellt habe.

4733
04:02:56,470 --> 04:02:58,470
Ich hoffe, euch hat es

4734
04:02:58,470 --> 04:03:00,470
gefallen. Wir werden daran auf jeden Fall weiterbauen.

4735
04:03:00,470 --> 04:03:02,470
Er muss ja hier seine

4736
04:03:02,470 --> 04:03:04,470
DevOps, muss er sein DevOps Game

4737
04:03:04,470 --> 04:03:06,470
upsteppen.

4738
04:03:06,470 --> 04:03:08,470
Sein Cloud Native

4739
04:03:08,470 --> 04:03:10,470
DevOps, äh,

4740
04:03:10,470 --> 04:03:12,470
seine Cloud Native agilen

4741
04:03:12,470 --> 04:03:14,470
DevOps Skills erweitern.

4742
04:03:14,470 --> 04:03:16,470
Für mehr Buzzwords.

4743
04:03:16,470 --> 04:03:18,470
Der Katz,

4744
04:03:18,470 --> 04:03:20,470
oh, die liegt irgendwo im Flur

4745
04:03:20,470 --> 04:03:23,780
und rollt sich da rum.

4746
04:03:23,780 --> 04:03:25,780
Also Leute,

4747
04:03:25,780 --> 04:03:27,780
ich geh jetzt was essen. Wir sehen uns.

4748
04:03:27,780 --> 04:03:29,780
Bis dann. Macht's gut. See you.
